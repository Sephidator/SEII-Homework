用例文档——灯具进销存管理系统<br/>软工二小组
=========================

<br/>
<br/>
***********************************************
<br/>
<br/>

# 更新历史
| **修改人员**           | **日期**     | **变更原因**  | **版本** |
| :----------------- | :--------- | :-------- | :----- |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-09-17 | 初始版本      | V1.0   |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-10-1  | 评审之后的修改版本 | V2.0   |
| 陈思彤 | 2017-10-17 | 用例文档简化版本 | V2.0.1 |



<br/>
<br/>
***********************************************
<br/>
<br/>

# 变更记录
| **修改人员**           | **日期**    | **变更原因**  | **版本** | **变更内容** |
| ------------------ | --------- | --------- | ------ | -------- |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-9-17 | 初始版本      | V1.0   | 无        |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-10-1 | 评审之后的修改版本 | V2.0   | 用例的重写    |
| 陈思彤 | 2017-10-17 | 用例文档简化版本 | V2.0.1 | 简化总经理及管理员用例 |

<br/>
<br/>
***********************************************
<br/>
<br/>

# 目录
	1.引言
		1.1 目的
		1.2 背景
		1.3 目标
		1.4 参考文献
	2.用例列表
	3.用例描述
		3.1 商品分类管理（ID：01）
		3.2 商品管理（ID：02）
		3.3 库存查看（ID：03）
		3.4 库存盘点（ID：04）
		3.5 建立库存溢损单（ID：05）
		3.6 设置库存报警（ID：06）
		3.7 修改库存类单据（ID：07）
		3.8 客户管理（ID：08）
		3.9 制定进货单（ID：09）
		3.10 制定进货退货单（ID：10）
		3.11 制定销售单（ID：11）
		3.12 制定销售退货单（ID：12）
		3.13 修改进销类单据（ID：13）
		3.14 账户管理（ID：14）
		3.15 制定收付款单（ID：15）
		3.16 制定现金费用单（ID：16）
		3.17 期初建账（ID：17）
		3.18 修改财务单据（ID：18）
		3.19 红冲（ID：19）
		3.20 查看操作日志（ID：20）
		3.21 查看销售明细表（ID：21）
		3.22 查看经营历程表（ID：22）
		3.23 查看经营情况表（ID：23）
		3.24 审批单据（ID：24）
		3.25 促销策略管理（ID；25）
		3.26 账号管理（ID：26）

<br/>
<br/>
***********************************************
<br/>
<br/>

# 1.引言
## 1.1目的
本文档描述了南京灯具照明行业的某企业进销存管理系统的用户需求。并且用过此用例文档来帮助完善需求文档，以期为适应新的环境，提高工作效率和用户满意度。
## 1.2背景
该民营企业专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。
## 1.3目标
系统上线运行六个月后，减少挤压库存，增加销售额，提高财务人员工作效率，为经理的决策做支持。
## 1.4参考文献
参考了书本附录1中的用例文档模板

<br/>
<br/>
***********************************************
<br/>
<br/>

# 2.用例列表
| **参与者** | **用例**                                   |
| ------- | ---------------------------------------- |
| 库存管理人员  | 商品分类管理（ID：01）<br/>商品管理（ID：02）<br/>库存查看（ID：03）<br/>库存盘点（ID：04）<br/>建立库存溢损单（ID：05）<br/>设置库存报警（ID：06）<br/>修改库存类单据（ID：07） |
| 进货销售人员  | 客户管理（ID：08）<br/>制定进货单（ID：09）<br/>制定进货退货单（ID：10）<br/>制定销售单（ID：11）<br/>制定销售退货单（ID：12）<br/>修改单据（ID：13） |
| 财务人员    | 账户管理（ID：14）<br/>制定收付款单（ID：15）<br/>制定现金费用单（ID：16）<br/>期初建账（ID：17）<br/>修改财务单据（ID：18）<br/>红冲（ID：19）<br/>查看操作日志（ID：20）<br/>查看销售明细表（ID：21）<br/>查看经营历程表（ID：22）<br/>查看经营情况表（ID：23） |
| 总经理     | 查看操作日志（ID：20）<br/>查看销售明细表（ID：21）<br/>查看经营历程表（ID：22）<br/>查看经营情况表（ID：23）<br/>审批单据（ID：24）<br/>促销策略管理（ID：25）<br/> |
| 管理员     | 账号管理（ID：26）                              |

<br/>
<br/>
***********************************************
<br/>
<br/>

# 3.用例描述

## 3.1 商品分类管理（ID：01）
| **ID**      | 01                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 商品分类管理                                   |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2017-10-13                               |
| **参与者**     | 库存管理人员 目标是快速进行商品分类，包括增加分类、删除分类、修改分类      |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权                     |
| **后置条件**    | 系统更新商品分类，记录操作日志                          |
| **优先级**     | 高                                        |
| **正常流程**    | **1.0**增加商品分类<br>1.库存管理人员开始增加商品分类<br>2.系统显示商品分类信息（名称，母类，备注）<br>3.库存管理人员输入新商品分类信息（名称，母类，备注）<br>4.系统增加商品分类更新商品分类记录操作日志<br>5.重复1~4步骤直到增加完所有所要增加的商品分类<br><br>**1.1**删除商品分类<br>1.库存管理人员开始删除商品分类<br>2.系统显示商品分类列表<br>3.库存管理人员选择商品分类<br>4.系统删除该商品分类更新商品分类记录操作日志<br>5.重复1~4步骤直到删除全部要删除的商品分类<br><br>**1.2**修改商品分类<br>1.库存管理人员开始修改商品分类<br>2.系统显示商品分类列表<br>3.库存管理人员选择商品分类并编辑该商品分类（名称，母类以及备注）<br>4.系统更新商品分类记录操作日志<br>5.重复1~4步骤直到修改完所有所要修改的商品分类 |
| **扩展流程**    | **1.0**增加商品分类<br>1a.输入已使用的商品分类名<br>&emsp;&emsp;1.系统提示输入已使用商品分类名<br>1b.母类选择已有商品的商品分类<br>&emsp;&emsp;1.系统提示母类已有商品，无法增加子分类<br>1c.输入超过字符上限的商品分类名称<br>&emsp;&emsp;1.系统提示商品分类名称超过字符上限<br><br>**1.1**删除商品分类<br>1a.把有商品的分类删除<br>&emsp;&emsp;1.系统提示该分类上有商品存在，无法删除<br><br>**1.2**修改商品分类<br>1a.输入已使用的商品分类名<br>&emsp;&emsp;1.系统提示输入已使用商品分类名<br>1b.母类选择已有商品的商品分类<br>&emsp;&emsp;1.系统提示母类已有商品，无法增加子分类<br>1c.输入超过字符上限的商品分类名称<br>&emsp;&emsp;1.系统提示商品分类名称超过字符上限 |
| **特殊需求**    | 1.显示商品分类时，注明该分类下有无商品<br>2.商品分类编号必须唯一，8位数字<br>3.字符上限为10个字符 |

<br/>

## 3.2 商品管理（ID：02）
| **ID**      | 02                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 商品管理                                     |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2017-10-13                               |
| **参与者**     | 库存管理人员 目标是快速进行商品管理，进行商品的增删改查包括增加商品、删除商品、修改商品和查询商品 |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权，收到进货消息              |
| **后置条件**    | 系统更新商品信息（编号、名称、型号、库存数量、进价、零售价、最近进价、最近零售价），记录操作日志 |
| **优先级**     | 高                                        |
| **正常流程**    | **2.0**增加商品<br>1.库存管理人员开始增加商品<br>2.系统显示现有所有商品分类列表<br>3.库存管理人员选择分类，输入商品信息（商品编号、名称、型号、库存数量、进价、零售价、最近进价、最近零售价）<br>4.系统更新商品记录操作日志<br>5.重复1~4步骤增加完所要增加的商品<br><br>**2.1**删除商品<br>1.库存管理人员开始删除商品<br>2.系统显示现有所有商品分类列表<br>3.库存管理人员选择商品分类<br>4.系统显示该分类下所有商品<br>5.库存管理人员选择商品进行删除<br>6.系统更新商品记录操作日志<br>7.重复1~6步骤直到删除完所要删除的商品<br><br>**2.2**修改商品<br>1.库存管理人员开始修改商品<br>2.系统显示现有所有商品分类列表<br>3.库存管理人员选择商品分类<br>4.系统显示该分类下所有商品<br>5.库存管理人员选择商品，编辑商品信息（编号、名称、型号、库存数量、进价、零售价、最近进价、最近零售价）<br>6.系统更新商品记录操作日志<br>7.重复1~6步骤直到修改完所有要修改的商品<br><br>**2.3**查询商品<br>1.库存管理人员开始查询商品<br>2.系统显示现有所有商品分类列表<br>3.库存管理人员选择商品分类<br>4.系统显示该分类下所有商品<br>5.库存管理人员选择商品<br>6.系统显示商品信息（商品编号、名称、型号、库存数量、进价、零售价、最近进价、最近零售价）<br>7.重复1~6步骤直到查询完所要查询的商品 |
| **扩展流程**    | **2.0**增加商品<br>1a.输入已使用商品名<br>&emsp;&emsp;1.系统提示此商品已使用<br>1b.未选中分类就进行添加<br>&emsp;&emsp;1.系统提示未选中分类<br>1c.输入超过字符上限的商品名<br>&emsp;&emsp;1.系统提示商品名超过字符上限<br>1d.输入库存数量时输入小数<br>&emsp;&emsp;1.系统提示库存数量不能为小数<br>1f.输入数据时输入负数<br>&emsp;&emsp;1.系统提示数据不能为负数<br><br>**2.1**删除商品<br>1a.未选择商品进行删除商品<br>&emsp;&emsp;1.系统提示未选择商品<br><br>**2.2**修改商品<br>1a.输入已使用商品名<br>&emsp;&emsp;1.系统提示此商品已使用<br>1b.未选中分类就进行修改<br>&emsp;&emsp;1.系统提示未选中分类<br>1c.输入超过字符上限的商品名<br>&emsp;&emsp;1.系统提示商品名超过字符上限<br>1d.未选择商品就进行修改<br>&emsp;&emsp;1.系统提示未选择商品<br>1f.输入库存数量时输入小数<br>&emsp;&emsp;1.系统提示库存数量不能为小数<br>1g.输入数据时输入负数<br>&emsp;&emsp;1.系统提示数据不能为负数<br><br>**2.3**查询商品<br>1a.未选择商品就进行查询<br>&emsp;&emsp;1.系统提示未选择商品 |
| **特殊需求**    | 1.商品的查询可以通过输入关键字、商品编号等进行模糊查找<br>2.商品编号独立唯一，8位数字<br>3.字符上限是10个字符 |

<br/>

## 3.3 库存查看（ID：03）
| **ID**      | 03                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 库存查看                                     |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2017-10-14                               |
| **参与者**     | 库存管理人员 目标是在一个时间段内，快速查看此时间段内的出/入库数量/金额，销售/进货的数量/金额 |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权                     |
| **后置条件**    | 无                                        |
| **优先级**     | 中等                                       |
| **正常流程**    | 1.库存管理人员进行库存查看<br>2.系统提示输入时间段<br>3.库存管理人员输入时间段进行查看<br>4.系统显示此时间段内的出/入库数量/金额，销售/进货的数量/金额<br>5.重复3~4流程直到查看完所要查看的所有时间段 |
| **扩展流程**    | 1a.输入错误格式时间段<br>&emsp; &emsp;1.系统提示时间段格式错误<br>1b.输入不存在时间段<br>&emsp;&emsp;1.系统提示该时间段不存在<br>1c.输入的结束时间在起始时间之前<br>&emsp; &emsp;1. 系统提示结束时间应在起始时间之前 |
| **特殊需求**    | 1.库存数量要有合计<br>2.输入的时间段包括年月日，格式例2017-9-30 |

<br/>

## 3.4 库存盘点（ID：04）
| **ID**      | 04                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 库存盘点                                     |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2017-10-14                               |
| **参与者**     | 库存管理人员 目标是快速进行库存盘点，包括当天的各种商品的名称，型号，库存数量，库存均价，批次，批号，出厂日期 |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权                     |
| **后置条件**    | 无                                        |
| **优先级**     | 中等                                       |
| **正常流程**    | 1.库存管理人员开始库存盘点<br>2.系统显示当日的库存快照（当天的各种商品的名称，型号，库存数量，库存均价，批次，批号，出厂日期）<br>3.库存管理人员确认导出Excel<br>4.系统导出Excel |
| **扩展流程**    | 无                                        |
| **特殊需求**    | 1.显示行号                                   |

<br/>

## 3.5 建立库存溢损单（ID：05）
| **ID**      | 05                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 建立库存溢损单                                  |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2017-10-14                               |
| **参与者**     | 库存管理人员 目标是快速建立库存报溢表，使实际库存商品数量与系统存储的一致    |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权                     |
| **后置条件**    | 记录操作日志                                   |
| **优先级**     | 中等                                       |
| **正常流程**    | 1.库存管理人员开始生成库存溢损单<br>2.系统显示商品分类<br>3.库存管理人员选择商品分类<br>4.系统显示该分类下的商品<br>5.库存管理人员填写单据，选择商品并输入实际数量<br>6.系统自动填写编号，操作员，提交单据，记录操作日志 |
| **扩展流程**    | 1a.输入数量为负数<br>&emsp;&emsp;1.系统提示数量不能为负数<br>1b.输入数量为小数<br>&emsp;&emsp;1.系统提示数量不能为小数 |
| **特殊需求**    | 1.报溢商品显示编号名称，数量，备注                       |

<br/>

## 3.6 设置库存报警（ID：06）
| **ID**      | 06                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 设置库存报警                                   |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2017-10-14                               |
| **参与者**     | 库存管理人员 目标是设置库存警戒数量                       |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权                     |
| **后置条件**    | 记录操作日志                                   |
| **优先级**     | 中等                                       |
| **正常流程**    | 1.库存管理人员开始设置库存报警<br>2.系统显示现有商品所有分类<br>3.库存管理人员选择商品分类<br>4.系统显示该分类下所有商品<br>5.库存管理人员选择商品设定警戒数量<br>6.系统记录操作日志<br>7.重复1~6步骤直到完成所要设置警戒数量的所有商品 |
| **扩展流程**    | 1a.警戒数量为负数<br>&emsp;&emsp;1.系统提示警戒数量不能为负数<br>1b.警戒数量为小数<br>&emsp;1.系统提示警戒数量不能为小数 |
| **特殊需求**    | 1.报警商品显示编号名称，数量，商品备注以及报警数量<br>2.可以通过商品名，编号模糊检索商品 |

<br/>

## 3.7 修改库存类单据（ID：07）
| ID          | 07                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 修改库存类单据                                  |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-10-10                               |
| **最后更新日期**  | 2017-10-15                               |
| **参与者**     | 库存管理人员，目的是修改草稿状态的和审批不通过状态的库存类单据          |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志                        |
| **优先级**     | 中等                                       |
| **正常流程**    | 1.库存管理人员开始修改库存类单据<br/><br/>2.系统显示单据列表（库存溢损单），包括所有的草稿状态的和审批不通过状态的单据<br/><br/>3.库存管理人员选择单据进行修改<br/><br/>4.系统显示单据的信息（库存溢损单参见用例5）。<br/><br/>5.库存管理人员更改相应的单据信息<br/><br/>6.系统将单据上传给总经理等待审批，提示提交单据成功，记录操作日志 |
| **扩展流程**    | 1a.库存管理人员停止修改<br/>&emsp;1.单据的状态不改动<br/>1b.输入数量为负数<br>&emsp;1.系统提示数量不能为负数<br>1c.数量为小数<br>&emsp;1.系统提示数量不能为小数 |
| **特殊需求**    | 无                                        |

<br/>

## 3.8 客户管理（ID：08）
| **ID**      | 08                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 客户管理                                     |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-9-30                                |
| **参与者**     | 进货销售人员，目的是要对客户信息进行增、删、改、查                |
| **触发条件**    | 进货销售人员发起客户管理                             |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统记录操作日志，包括时间区间、操作员和事件                   |
| **优先级**     | 中                                        |
| **正常流程**    | 1.进货销售人员发起客户管理。<br/><br/>2.系统显示客户列表。<br/><br/> 3.0 添加客户<br/>1.进货销售人员新建客户。<br/>2.系统显示客户信息，自动生成客户编号。<br/>3.进货销售人员输入客户信息（包括编号、分类、级别、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员）。<br/>4.系统添加客户，更新客户信息。<br/><br/>3.1删除客户<br/>1.进货销售人员输入客户信息，查询客户。<br/>2.系统显示符合的客户。<br/>3.进货销售人员删除客户。<br/>4.系统移除该客户，更新客户信息。<br/><br/>3.2编辑客户<br/>1.进货销售人员输入客户信息，查询客户。<br/>2.系统显示符合的客户。<br/>3.进货销售人员编辑客户信息。<br/>4.系统更新客户信息并显示。<br/><br/>3.3查看客户<br/>1.进货销售人员输入客户信息，查询客户。<br/>2.系统显示符合的客户。<br/>3.进货销售人员查看客户信息。<br/>4.系统显示客户信息。<br/><br/>进货销售人员重复第3步直到完成客户管理。 |
| **扩展流程**    | 3.0添加客户<br/>3a.和已存在的客户重复：<br/>&emsp;&emsp;1.系统提示客户已存在。<br/>3b.客户信息没有填写完全：<br/>&emsp;&emsp;1.系统提示客户信息输入不完整。<br/>3c.管理员取消操作：<br/>&emsp;&emsp;1.系统取消添加客户。<br/><br/>3.1删除客户<br/>2a.没有符合条件的客户：<br/>&emsp;&emsp;1.系统提示客户不存在。<br/>5a.进货销售人员取消操作<br/>&emsp;&emsp;1.系统取消删除客户。<br/><br/>3.2编辑客户<br/>2a.没有符合条件的客户：<br/>&emsp;&emsp;1.系统提示客户不存在。<br/>5a.和已存在的客户重复。<br/>&emsp;&emsp;1.在点击确认时，系统提示：和别的客户信息重复,请重新输入客户信息。<br/>5b.客户信息没有填写完全：<br/>&emsp;&emsp;1.系统提示客户信息输入不完整。<br/>5c.进货销售人员取消操作：<br/>&emsp;&emsp;1.系统取消编辑客户。<br/><br/>3.3查看客户<br/>2a.没有符合条件的客户。<br/>&emsp;&emsp;1.系统提示客户不存在。 |
| **特殊需求**    | 1.客户信息中，应收应付不可修改，此数据项取决于进货单和销售单，收款单和付款单。应收额度仅最高权限可修改<br/><br/>2.和已存在的客户重复是指姓名电话相同。 |

<br/>

## 3.9 制定进货单（ID：09）
| **ID**      | 09                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 制定进货单                                    |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-1                                |
| **参与者**     | 进货销售人员，目的是制定进货单                          |
| **触发条件**    | 进货销售人员需要向供应商进货                           |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 较高                                       |
| **正常流程**    | 1.进货销售人员开始制定进货单<br/><br/>2.系统显示单据信息界面，并自动填充单据编号和操作员信息。<br/><br/>3.进货销售人员选择供应商，仓库。<br/><br/>4.系统显示该供应商的所有商品<br/><br/>5.进货销售人员选择商品，添加到入库商品列表中。<br/><br/>6.系统的入库商品列表显示商品信息（商品编号，型号，金额，名称，数量，单价，备注）。并且系统会自动计算总额。<br/><br/>进货销售人员重复5-6步直到完成所有商品的输入。<br/><br/>7.进货销售人员手动输入单据的备注并提交。<br/><br/>8.单据上传给总经理审批，系统提示制定进货单成功 |
| **扩展流程**    | 1a.单日单据超过99999条时：<br/>&emsp;&emsp;1.系统提示超过单日进货单上限。<br/><br/>5a.输入的商品数量不是正整数:<br/>&emsp;&emsp;1.系统提示错误。<br/><br/>5b.添加了错误的商品:<br/>&emsp;&emsp;1.进货销售人员可以删除商品。<br/><br/>2-6a.供应商要求取消交易:<br/>&emsp;&emsp;1.进货销售人员在系统中取消交易。<br/><br/>7a.进货销售人员未输入所有单据信息：<br/>&emsp;&emsp;1.系统提示进货单信息输入不完整。<br/><br/> |
| **特殊需求**    | 1.单据编号的格式为JHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子 |

<br/>

## 3.10 制定进货退货单（ID：10）
| **ID**      | 10                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 制定进货单                                    |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-1                                |
| **参与者**     | 进货销售人员，目的是制定进货单                          |
| **触发条件**    | 进货销售人员需要向供应商进货                           |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 较高                                       |
| **正常流程**    | 1.进货销售人员开始制定进货退货单<br/><br/>2.系统显示单据信息界面，并自动填充单据编号和操作员信息。<br/><br/>3.进货销售人员选择供应商，仓库。<br/><br/>4.系统显示该供应商的所有商品<br/><br/>5.进货销售人员选择商品，添加到出库商品列表中。<br/><br/>6.系统的出库商品列表显示商品信息（商品编号，型号，金额，名称，数量，单价，备注）。并且系统会自动计算总额。<br/><br/>进货销售人员重复5-6步直到完成所有商品的输入。<br/><br/>7.进货销售人员手动输入单据的备注并提交。<br/><br/>8.单据上传给总经理审批，系统提示制定进货退货单成功 |
| **扩展流程**    | 1a.单日单据超过99999条时：<br/>&emsp;&emsp;1.系统提示超过单日进货退货单上限。<br/><br/>5a.输入的商品数量不是正整数:<br/>&emsp;&emsp;1.系统提示错误。<br/><br/>5b.输入的商品数量大于库存数量:<br/>&emsp;&emsp;系统提示库存数量不够。<br/><br/>5c.添加了错误的商品:<br/>&emsp;&emsp;1.进货销售人员可以删除商品。<br/><br/>2-6a.进货销售人员取消退货:<br/>&emsp;&emsp;1.进货销售人员在系统中取消退货。<br/><br/>7a.进货销售人员未输入所有单据信息：<br/>&emsp;&emsp;1.系统提示进货退货单信息输入不完整。 |
| **特殊需求**    | 1.单据编号的格式为JHTHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子 |

<br/>

## 3.11 制定销售单（ID：11）
| **ID**      | 11                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 制定销售单                                    |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-1                                |
| **参与者**     | 进货销售人员，目的是制定销售单                          |
| **触发条件**    | 进货销售人员需要客户销售                             |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 高                                        |
| **正常流程**    | 1.进货销售人员开始制定销售单<br/><br/>2.系统显示单据信息界面，并自动填充单据编号和操作员信息<br/><br/>3.进货销售人员选择客户（仅显示销售商），业务员（和这个客户打交道的公司员工），仓库。<br/><br/>4.系统显示商品选择列表，包括所有在库商品。<br/><br/>5.进货销售人员选择要销售的商品，添加到出货商品清单中。<br/><br/>6.出货商品清单中要显示商品的编号，名称（从商品选择界面选择），型号，数量（手工输入），单价（默认为商品信息里的销售价，可修改），金额（自动生成），商品备注。并且系统会自动计算折让前总额。<br/><br/>进货销售人员重复5-6步直到完成所有商品的输入。<br/><br/>7.进货销售人员手动输入单据的折让金额、使用代金卷金额、备注，并提交销售单。<br/><br/>8.单据上传给总经理审批，系统提示制定销售单成功。 |
| **扩展流程**    | 1a.单日单据超过99999条时：<br/>&emsp;&emsp;1.系统提示超过单日销售单上限。<br/><br/>5a.输入的商品数量不是正整数:<br/>&emsp;&emsp;1.系统提示错误<br/><br/>5b.输入的商品数量大于库存数量:<br/>&emsp;&emsp;系统提示库存数量不够。<br/><br/>5c.添加了错误的商品:<br/>&emsp;&emsp;1.进货销售人员可以删除商品<br/><br/>2-6a.客户取消交易:<br/>&emsp;&emsp;1.1.进货销售人员在系统中取消交易。<br/><br/>7a.进货销售人员输入的折让金额超过权限:<br/>&emsp;&emsp;1.系统提示折让金额超过权限。<br/><br/>7b.进货销售人员输入的折让金额或使用代金卷金额使得总金额为负数:<br/>&emsp;&emsp;1.系统提示输入错误。<br/><br/>7c.进货销售人员未输入所有单据信息：<br/>&emsp;&emsp;1.系统提示销售单信息输入不完整。 |
| **特殊需求**    | 1.单据编号为XSD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子<br/><br/>2.折让金额权限：普通销售员为1000元，销售经理为5000元 |

<br/>

## 3.12 制定销售退货单（ID：12）
| **ID**      | 12                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 制定销售单                                    |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-1                                |
| **参与者**     | 进货销售人员，目的是制定销售单                          |
| **触发条件**    | 进货销售人员需要客户销售                             |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 高                                        |
| **正常流程**    | 1.进货销售人员开始制定销售退货单<br/><br/>2.系统显示单据信息界面，并自动填充单据编号和操作员信息<br/><br/>3.进货销售人员选择客户（仅显示销售商），业务员（和这个客户打交道的公司员工），仓库。<br/><br/>4.系统显示商品选择列表，包括该客户购买的所有商品。<br/><br/>5.进货销售人员选择要退货的商品，添加到退货商品清单中。<br/><br/>6.出货商品清单中要显示商品的编号，名称（从商品选择界面选择），型号，数量（手工输入），单价（默认为商品信息里的销售价，可修改），金额（自动生成），商品备注。并且系统会自动计算总额。<br/><br/>进货销售人员重复5-6步直到完成所有商品的输入。<br/><br/>7.进货销售人员手动输入单据的备注，并提交销售退货单。<br/><br/>8.单据上传给总经理审批，系统提示制定销售单成功。 |
| **扩展流程**    | 1a.单日单据超过99999条时：<br/>&emsp;&emsp;1.系统提示超过单日销售单上限。<br/><br/>5a.输入的商品数量不是正整数:<br/>&emsp;&emsp;1.系统提示错误<br/><br/>5b.添加了错误的商品:<br/>&emsp;&emsp;1.进货销售人员可以删除商品<br/><br/>2-6a.客户取消退货:<br/>&emsp;&emsp;1.1.进货销售人员在系统中取消退货。<br/><br/>7a.进货销售人员未输入所有单据信息：<br/>&emsp;&emsp;1.系统提示销售单退货信息输入不完整。 |
| **特殊需求**    | 1.单据编号为XSTHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子<br/><br/> |

<br/>

## 3.13 修改进销类单据（ID：13）
| **ID**      | 13                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 修改进销类单据                                  |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-1                                |
| **参与者**     | 进货销售人员，目的是修改草稿状态的和审批不通过状态的进销类单据          |
| **触发条件**    | 无                                        |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 高                                        |
| **正常流程**    | 1.进货销售人员开始修改单据。<br/><br/>2.系统显示单据列表（进货单、进货退货单、销售单、销售退货单），包括所有的草稿状态的和审批不通过状态的单据<br/><br/>3.进货销售人员选择单据并修改。<br/><br/>4.系统显示单据的信息（进货单参见用例9，进货退货单参见用例10，销售单参见用例11，销售退货单参见用例12）。<br/><br/>5.进货销售人员选更改相应的单据信息，并提交单据<br/><br/>6.单据上传给总经理等待审批，系统提示提交单据成功 |
| **扩展流程**    | 5a.输入的商品数量不是正整数:<br/>&emsp;&emsp;1.系统提示错误<br/><br/>5b.添加了错误的商品:<br/>&emsp;&emsp;1.进货销售人员可以删除商品<br/><br/>5c.进货销售人员取消修改:<br/>&emsp;&emsp;1.系统取消修改单据，保存单据信息。<br/><br/>5d.进货销售人员未输入所有单据信息：<br/>&emsp;&emsp;1.系统提示销售单退货信息输入不完整。<br/><br/>5e.如果是销售单，且输入的商品数量大于库存数量:<br/>&emsp;&emsp;系统提示库存数量不够。<br/><br/>5f.如果是销售单，如果是销售单，进货销售人员输入的折让金额超过权限:<br/>&emsp;&emsp;1.系统提示折让金额超过权限。<br/><br/>5g.如果是销售单，进货销售人员输入的折让金额或使用代金卷金额使得总金额为负数:<br/>&emsp;&emsp;1.系统提示输入错误。|
| **特殊需求**    | 无                                        |

<br/>

## 3.14 账户管理（ID：14）
| **ID**      | 14                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 账户管理                                     |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 王宁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-13                               |
| **参与者**     | 财务人员，目标是在授权情况下进行公司银行账户的管理                |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统并已经取得最高权限                        |
| **后置条件**    | 系统保存财务人员所做的账户的新增、删除和名称更改，并且记录操作日志        |
| **优先级**     | 中                                        |
| **正常流程**    | 1.财务人员进入账户管理事务<br/><br/>2.系统返回账户管理的操作界面<br/><br/>3.1 添加账户<br/>1.财务人员输入新账户的账号和名称<br/>2.系统保存并更新账户名单，提示成功创建账户的信息<br/>重复1~2步，直到添加账户完毕<br/><br/>3.2 查询账户<br/>1.财务人员输入账户关键字进行模糊查找<br/>2.系统返回一个匹配输入信息的账户名单的列表<br/>3.财务人员点击某一个账户<br/>4.系统显示该账户信息，包括该账户的名称和余额<br/><br/>3.3 编辑账户<br/>1.财务人员输入新的账户的名称<br/>2.系统更新该账户的名称，提示修改成功的信息<br/><br/>3.4 删除账户<br/>1.财务人员选择删除账户<br/>2.系统删除该账户，并且更新账户名单，提示删除账户成功<br/> |
| **扩展流程**    | 1a.财务人员在没有取得最高权限的条件下访问账户管理事务<br/>&emsp;1.系统提示账户权限不够的信息<br/><br/>3.1添加账户<br/>1a.财务人员输入的新账号已经存在<br/>&emsp;1.系统提示不能重复创建<br/><br/>3.2查询账户<br/>1a.财务人员输入不存在的账户关键字信息<br/>&emsp;1.系统返回空列表<br/><br/>3.3编辑账户<br/>1a.财务人员输入的新名称的字符串形式为空<br/>&emsp;1.系统提示新名字不合法 |
| **特殊需求**    | 1.账户余额不允许更改<br/>2.余额只跟收款单和付款单有关<br/>3.系统的银行账户应该与现实银行账户同步 |

<br/>

## 3.15 制定收付款单（ID：15）
| **ID**      | 15                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 制定收付款单                                   |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 王宁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-13                               |
| **参与者**     | 财务人员，目标是新建一个收付款单                         |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统                                 |
| **后置条件**    | 系统保存被系统标记为草稿状态且已经保存的或者待审批状态的单据，并且记录操作日志  |
| **优先级**     | 高                                        |
| **正常流程**    | 1.1 制定收款单<br/>1.财务人员制定收款单<br/>2.系统自动填充单据编号，格式为SKD-yyyyMMdd-xxxxx<br/><br/>1.2 制定付款单<br/>1.财务人员制定付款单<br/>2.系统自动填充单据编号，格式为FKD-yyyyMMdd-xxxxx<br/><br/>2.财务人员填写：客户（同时包含供应商和销售商）和转账列表（包括：银行账户，转账金额，备注）<br/><br/>3.系统将单据标记为草稿状态，自动计算并添加总额汇总以及附加操作员（当前登录用户）信息<br/><br/>4.财务人员核对后保存提交<br/><br/>6.系统保存单据，标记为待审批状态，并且将单据传送审批，然后提示提交成功 |
| **扩展流程**    | 1.1制定收款单<br/>1a.如果单据编号不符合单据规则（参照特殊需求1）<br/>&emsp;1.系统提示单据数量已达上限，创建失败<br/><br/>1.2制定付款单<br/>1a.如果单据编号不符合单据规则（参照特殊需求1）<br/>&emsp;1.系统提示单据数量已达上限，创建失败<br/><br/>2a.财务人员填写的客户或者转账列表信息（除备注外）为空字符串<br/>&emsp;1.提交单据时，系统提示信息不完整，并且返回到提交前状态<br/><br/>2b.财务人员输入的银行账户和金额的字符串出现非数字字符（允许逗号分隔金额）<br/>&emsp;1.提交单据时，系统提示数额有误，返回到提交前状态<br/><br/>3a.系统计算的总额汇总的数据出现数据溢出<br/>&emsp;1.系统提示金额溢出，只允许财务人员修改后才能提交<br/><br/>5a.财务人员未保存单据情况下返回<br/>&emsp;1.系统询问是否保存<br>&emsp;&emsp;1a.财务人员选择是<br>&emsp;&emsp;&emsp;1.系统保存单据，然后返回<br>&emsp;&emsp;1a.财务人员选择否<br>&emsp;&emsp;&emsp;1.系统删除单据，然后返回<br/><br/>6a.如果财务人员确认退出制定收付款单任务<br/>&emsp;1.之后系统记录操作日志 |
| **特殊需求**    | 1.单据编号规则：单据编号是自动生成，后面的5位id每天从1重新计数，最高是99999<br>2.系统计算总额汇总的依据是转账列表的转账金额的总和<br/> |

<br/>

## 3.16 制定现金费用单（ID：16）
| **ID**      | 16                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 制定现金费用单                                  |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 王宁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-13                               |
| **参与者**     | 财务人员，目标是新建一个现金费用单                        |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统                                 |
| **后置条件**    | 系统保存被系统标记为草稿状态且已经保存的或者待审批状态的单据，记录操作日志    |
| **优先级**     | 高                                        |
| **正常流程**    | 1.财务人员制定现金费用单<br/><br/>2.系统自动生成单据编号，格式为XJFYD-yyyyMMdd-xxxxx<br/><br/>3.财务人员输入银行账户和条目清单（包括：条目名，金额，备注）<br/><br/>4.系统将单据标记为草稿状态，自动生成总额汇总以及写入操作员（当前登录用户）信息<br/><br/>5.财务人员核对后保存提交<br/><br/>6.系统将新建的现金费用单标记为待审批状态，保存后发送审批，提示提交成功<br/> |
| **扩展流程**    | 2a.如果单据编号不符合单据规则（参照特殊需求1）<br/>&emsp;1.系统提示单据数量已达上限，创建失败<br/><br/>3a.财务人员填写的银行账户和条目清单信息（除备注外）为空字符串<br/>&emsp;1.提交时，系统提示银行账户和条目清单信息不完整，并且返回到提交前状态<br/><br/>3b.财务人员输入的金额的字符串出现非数字字符（允许逗号分隔金额）<br/>&emsp;1.提交时，系统提示金额数据格式有误，返回到提交前状态<br/><br/>4a.系统自动计算的总额汇总的数据出现数据溢出<br/>&emsp;1.系统提示金额溢出的信息，只允许修改后才能提交<br/><br/>5a.财务人员未保存单据情况下返回<br/>&emsp;1.系统询问是否保存<br>&emsp;&emsp;1a.财务人员选择是<br>&emsp;&emsp;&emsp;1.系统保存单据，然后返回<br>&emsp;&emsp;1a.财务人员选择否<br>&emsp;&emsp;&emsp;1.系统删除单据，然后返回<br/><br/>6a.如果财务人员确认退出制定现金费用单任务<br/>&emsp;1.系统记录操作日志 |
| **特殊需求**    | 1.单据编号规则：单据编号是自动生成，后面的5位id每天从1重新计数，最高是99999<br>2.现金费用单用于管理报销<br/>3.生成总额汇总的依据是条目清单中的金额的总和<br>4.单据编号自动生成，后面的5位id每天从1重新计数<br/> |

<br/>

## 3.17 期初建账（ID：17）
| **ID**      | 17                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 期初建账                                     |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 王宁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-13                               |
| **参与者**     | 财务人员，目标是期初建账                             |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统                                 |
| **后置条件**    | 系统保存新建的账                                 |
| **优先级**     | 高                                        |
| **正常流程**    | 1.财务人员进入期初建账事务<br/><br/>2.系统显示期初建账的编辑界面<br/><br/>3.1 建账<br/>1.财务人员选择新建账目<br/>2.系统自动添加上一财年内有单据记录的的商品信息（包括：商品分类，某一商品的名称，类别，型号，进价/售价（默认为去年平均），最近进价和最近售价留空）；客户信息（包括：客户分类，某一个客户的名称，联系方式等，应收应付(之前遗留)）；银行账户信息（包括：名称，余额）<br/>3.财务人员核对后根据实际的销售和财务情况更改以上信息<br/>4.系统显示更新后的信息<br>5.财务人员结束输入并保存<br>6.系统将新建的账目保存，并且提示期初建账成功<br/><br/>3.2查看<br/>1.财务人员选择查看账目<br/>2.系统显示期初信息列表<br/>3.财务人员点击列表中的某一项<br/>4.系统显示详细的期初信息 |
| **扩展流程**    | 3.1a.如果系统无法查找到上一财年的正常流程里提到的信息的数据记录<br/>&emsp;1.系统在该信息栏留空<br/><br/>3.1b.财务人员输入的商品进/售价、客户联系方式与应收应付、银行账户余额的字符串出现非数字字符（允许逗号分隔金额）<br/>&emsp;1.保存时，系统提示数据格式错误，返回到保存前状态<br/><br/> 3.2a.如果查看账目时，账目为空<br/>&emsp;1.系统提示账目为空的信息 |
| **特殊需求**    | 1.期初建账的期初信息一经建立以后就不允许修改<br/>2.系统自动添加的期初信息来源于上一财年的单据的数据<br/>3.系统使用的第一年的期初建账为空 |

<br/>

## 3.18 修改财务单据（ID：18）
| **ID**      | 18                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 修改财务单据                                   |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 王宁                                       |
| **创建日期**    | 2017-10-1                                |
| **最后更新日期**  | 2017-10-13                               |
| **参与者**     | 财务人员，目标是修改审批未通过的或者保存为草稿状态的财务单据并再次提交      |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统并且收到财务单据审批未通过的信息                 |
| **后置条件**    | 系统保存被系统标记为草稿状态且已经保存的或者待审批状态的单据，之后记录操作日志  |
| **优先级**     | 中                                        |
| **正常流程**    | 1.财务人员进入修改财务单据事务<br/><br/>2.系统返回一个包含所有审批未通过的和草稿状态的财务单据的名单列表（财务单据包括收付款单和现金费用单）<br/><br/>3.财务人员点击其中一个单据<br/><br/>4.系统返回编辑状态的单据，参照用例15、16<br/><br/>5.财务人员修改单据信息<br/><br/>6.系统将该单据标记为草稿状态<br/><br/>7.财务人员核对后保存提交<br/><br/>8.系统将单据标记为待审批状态后保存，并将单据发送审批，提示提交成功<br/><br/> 重复1~7步直到财务人员处理完所有审批未通过单据 |
| **扩展流程**    | 1a.财务人员进入修改财务单据事务时，如果系统找不到审批未通过和草稿状态的单据<br/>&emsp;1.系统返回空列表<br/><br/>5a.财务人员未保存单据情况下返回<br/>&emsp;1.系统询问是否保存<br>&emsp;&emsp;1a.财务人员选择是<br>&emsp;&emsp;&emsp;1.系统保存单据，然后返回<br>&emsp;&emsp;1a.财务人员选择否<br>&emsp;&emsp;&emsp;1.系统删除单据，然后返回<br/><br/>7a.财务人员最后一次操作完成之后<br/>&emsp;1.系统记录操作日志 |
| **特殊需求**    | 无                                        |

<br/>

## 3.19 红冲（ID：19）
| **ID**      | 19                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 红冲                                       |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 王宁                                       |
| **创建日期**    | 2017-10-1                                |
| **最后更新日期**  | 2017-10-14                               |
| **参与者**     | 财务人员，目标使用红冲或者红冲并复制，修改有错误的账单              |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统并且按用例“查看经营历程表”的定义得到符合筛选条件的单据列表   |
| **后置条件**    | 系统保存红冲或者红冲并复制后的账单状态，记录操作日志               |
| **优先级**     | 中                                        |
| **正常流程**    | 1.财务人员点击某财务单据（财务单据指的是收、付款单和现金费用单）<br/><br/>2.系统显示该财务单据信息<br/><br/>3.1 红冲<br/>1.财务人员选择红冲<br/>2.系统生成与被选中单据一样但数值取负的单据入账，提示已成功入账的信息<br/><br/>3.2 红冲并复制<br/>1.财务人员选择红冲并复制<br/>2.系统生成与被选中单据一样但数值取负的单据，然后返回编辑状态的被选中的单据（单据信息全部保留）<br/>3.财务人员修改单据数据，参照用例15、16<br/>4.系统保存对单据所做的更改<br/>5.财务人员核对后保存提交<br/>6.系统将取负的单据和修改后的单据一并入账，提示已成功入账的信息 |
| **扩展流程**    | 3.1红冲<br/>1a.财务人员对同一个单据进行大于一次的红冲，且红冲生成的单子数据相同<br/>&emsp;1.系统提示同一个单据只能进行一次红冲的错误信息<br/><br/>3.2红冲并复制<br/>1a.财务人员对同一个单据进行大于一次的红冲并复制，且红冲生成的单子数据相同<br/>&emsp;1系统提示同一个单据只能进行一次红冲并复制的错误信息 <br/><br/>6a.财务人员确认退出红冲任务<br/>&emsp;1.系统记录操作日志 |
| **特殊需求**    | 1.红冲并赋值取负的单据需要和修改后单据一起入账<br/>2.所有经营历程表内显示的账单都不能被删除或者修改<br/>3.财务人员只能对财务单据（包括：收付款单、现金费用单）进行红冲和红冲并复制操作 |

<br/>

## 3.20 查看操作日志（ID：20）
| **ID**      | 20                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 查看操作日志                                   |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 王宁                                       |
| **创建日期**    | 2017-10-1                                |
| **最后更新日期**  | 2017-10-13                               |
| **参与者**     | 总经理或财务人员，目标是查看操作日志                       |
| **触发条件**    | 无                                        |
| **前置条件**    | 总经理或财务人员登入系统                            |
| **后置条件**    | 无                                        |
| **优先级**     | 中                                        |
| **正常流程**    | 1.总经理或财务人员进入查看操作日志事务<br/><br/>2.系统返回最近一天的操作日志，以列表呈现<br/><br/>3.总经理或财务人员输入时间区间<br/><br/>4.系统返回时间区间内的操作日志，以列表呈现<br/><br/> |
| **扩展流程**    | 3a.如果没有在时间区间内的操作日志<br/>&emsp;1.系统返回空列表   |
| **特殊需求**    | 1.操作日志只提供查询功能                            |

<br/>

## 3.21 查看销售明细表（ID：21）
| ID          | 21                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 查看销售明细表                                  |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.14                               |
| **最后更新日期**  | 2017.10.146                              |
| **参与者**     | 总经理或财务人员，目的是统计一段时间内商品的销售情况               |
| **触发条件**    | 无                                        |
| **前置条件**    | 总经理或财务人员必须已经被识别和授权                       |
| **后置条件**    | 无                                        |
| **优先级**     | 中                                        |
| **正常流程**    | 1.总经理或财务人员申请“查看经营历程表”<br/>2.系统显示销售明细表（初始为空）<br/>3.总经理或财务人员输入条件进行筛选<br/>4.系统显示符合条件的销售出货单据<br/>5.总经理或财务人员选择单据进行查看<br/>6.系统显示单据信息 |
| **扩展流程**    | 3a.总经理或财务人员输入的截止时间在起始时间之前<br/>&emsp;&emsp;1.系统提示“时间区间错误”并拒绝筛选<br/>3b.总经理或财务人员未输入条件<br/>&emsp;&emsp;1.系统不进行筛选<br/>3c.没有符合总经理或财务人员筛选条件的销售出货单据<br/>&emsp;&emsp;1.系统显示空报表<br/>3d.总经理或财务人员申请“导出报表”<br/>&emsp;&emsp;1.系统导出Excel文件 |
| **特殊需求**    | 无                                        |

<br/>

## 3.22 查看经营历程表（ID：22）
| ID          | 22                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 查看经营历程表                                  |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.14                               |
| **最后更新日期**  | 2017.10.16                               |
| **参与者**     | 总经理或财务人员，目的是查看一段时间里的所有单据                 |
| **触发条件**    | 无                                        |
| **前置条件**    | 总经理或财务人员必须已经被识别和授权                       |
| **后置条件**    | 无                                        |
| **优先级**     | 中                                        |
| **正常流程**    | 1.总经理或财务人员申请“查看经营历程表”<br/>2.系统显示经营历程表（初始为空）<br/>3.总经理或财务人员输入条件进行筛选<br/>4.系统显示符合条件的单据<br/>5.总经理或财务人员选择单据进行查看<br/>6.系统显示单据信息 |
| **扩展流程**    | 3a.总经理或财务人员输入的截止时间在起始时间之前<br/>&emsp;&emsp;1.系统提示“时间区间错误”并拒绝筛选<br/>3b.总经理或财务人员未输入筛选条件<br/>&emsp;&emsp;1.系统不进行筛选<br/>3c.没有符合总经理或财务人员筛选条件的单据<br/>&emsp;&emsp;1.系统显示空报表<br/>3d.总经理或财务人员申请“导出报表”<br/>&emsp;&emsp;1.系统导出Excel文件 |
| **特殊需求**    | 无                                        |

<br/>

## 3.23 查看经营情况表（ID：23）
| ID          | 23                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 查看经营情况表                                  |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.14                               |
| **最后更新日期**  | 2017.10.16                               |
| **参与者**     | 总经理或财务人员，目的是统计显示一段时间内的经营收支状况和利润          |
| **触发条件**    | 无                                        |
| **前置条件**    | 总经理或财务人员必须已经被识别和授权                       |
| **后置条件**    | 无                                        |
| **优先级**     | 低                                        |
| **正常流程**    | 1.总经理或财务人员申请“查看经营情况表”<br/>2.系统显示经营情况表（初始为空）<br/>3.总经理或财务人员输入起始时间和截止时间<br/>4.系统显示这一段时间的收入类及折让、支出类、利润 |
| **扩展流程**    | 3a.总经理或财务人员输入的结束时间在起始时间之前<br/>&emsp;&emsp;1.系统提示时间区间错误并拒绝筛选<br/>3d.总经理或财务人员未输入起始时间或截止时间<br/>&emsp;&emsp;1.系统不进行筛选<br/>3c.在总经理或财务人员输入的时间区间没有经营情况<br/>&emsp;&emsp;1.系统显示空报表<br/>3d.总经理或财务人员申请“导出报表”<br/>&emsp;&emsp;1.系统导出Excel文件 |
| **特殊需求**    | 无                                        |

<br/>

## 3.24 审批单据（ID：24）
| ID          | 24                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 审批单据                                     |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.14                               |
| **最后更新日期**  | 2017.10.16                               |
| **参与者**     | 总经理，目的是支持后续其他人员的工作                       |
| **触发条件**    | 无                                        |
| **前置条件**    | 总经理必须已经被识别和授权                            |
| **后置条件**    | 系统记录操作日志，更新数据，发送通知                       |
| **优先级**     | 高                                        |
| **正常流程**    | 1.总经理申请“审批单据”<br/>2.系统显示提交单据<br/>3.总经理选择单据类型<br/>4.系统显示该类型的提交单据<br/>5.总经理选择单据进行审批<br/>6.系统显示该单据信息<br/>7.总经理修改数据，通过审批<br/>8.系统将该单据从提交列表删除，显示其他提交单据 |
| **扩展流程**    | 5a.总经理选择单据，申请“批量审批”<br/>&emsp;&emsp;1.系统将这些单据从提交列表删除，显示其他提交单据<br/>&emsp;&emsp;&emsp;&emsp;1a.总经理未选择任何单据<br/>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;1.系统不进行批量审批<br/>7a.总经理输入非法字符（例如：商品数量输入非正整数）<br/>&emsp;&emsp;1.系统提示“非法输入”并拒绝通过<br/>7b.总经理修改后有数据未填写<br/>&emsp;&emsp;1.系统提示“数据缺失”并拒绝通过<br/>7c.总经理不通过审批<br/>&emsp;&emsp;1.系统提示总经理输入不通过理由，总经理输入理由，确认“审批不通过”<br/>&emsp;&emsp;&emsp;&emsp;1a.总经理未输入理由<br/>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;1.系统提示总经理“理由缺失”并拒绝不通过<br/>&emsp;&emsp;2.系统将该单据从提交列表删除，显示其他提交单据 |
| **特殊需求**    | 单据若触发赠品条件并审批通过，系统自动建立库存赠送单并提交            |

<br/>

## 3.25 促销策略管理（ID：25）
| ID          | 25                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 促销策略管理                                   |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.14                               |
| **最后更新日期**  | 2017.10.17                               |
| **参与者**     | 总经理，目的是管理促销策略，促进销售                       |
| **触发条件**    | 销售竞争；处理积压产品                              |
| **前置条件**    | 总经理必须已经被识别和授权                            |
| **后置条件**    | 系统记录操作日志，更新促销策略                          |
| **优先级**     | 高                                        |
| **正常流程**    | **1.0新建促销策略**<br/>1.总经理申请“新建促销策略”<br/>2.系统提示总经理选择促销策略ID <br/>3.总经理选择促销策略ID<br/>4.系统显示促销策略信息<br/>5.总经理输入数据，完成促销策略制定<br/>6.系统增加促销策略，等待下一管理任务<br/><br/>**1.1已有促销策略管理**<br/>1.总经理申请“已有促销策略管理”<br/>2.系统显示已有促销策略<br/>3.总经理选择促销策略进行管理<br/>4.系统显示促销策略信息<br/>5.总经理修改数据（过期促销策略（截止时间在今日之前）无法修改），完成促销策略管理<br/>6.系统修改促销策略，等待下一管理任务 |
| **扩展流程**    | **1.0新建促销策略**<br/>5b.总经理输入非法字符（例如：商品数量输入非正整数）<br/>&emsp;&emsp;1.系统提示“非法输入”并拒绝完成<br/>5b.总经理输入起始时间在今日之前<br/>&emsp;&emsp;1.系统提示“起始时间错误”并拒绝完成<br/>5c.总经理输入截止时间在起始时间之前<br/>&emsp;&emsp;1.系统提示“时间区间错误”并拒绝完成<br/>5d.总经理有数据未填写<br/>&emsp;&emsp;1.系统提示“数据缺失”并拒绝完成<br/><br/>**1.1已有促销策略管理**<br/>3a.该方案正在实施（今日处于该方案的起始时间和结束时间之间）<br/>&emsp;&emsp;1.系统提示“正在实施”并拒绝管理<br/>5a.总经理修改后输入非法字符（例如：商品数量输入非正整数）<br/>&emsp;&emsp;1.系统提示“非法输入”并拒绝完成<br/>5b.总经理输入起始时间在今日之前<br/>&emsp;&emsp;1.系统提示“起始时间错误”并拒绝完成<br/>5c.总经理输入截止时间在起始时间之前<br/>&emsp;&emsp;1.系统提示“时间区间错误”并拒绝完成<br/>5d.总经理修改后有数据未填写<br/>&emsp;&emsp;1.系统提示“数据缺失”并拒绝完成<br/>5e.总经理选择“删除促销策略”<br/>&emsp;&emsp;1.系统删除促销策略，等待下一管理任务 |
| **特殊需求**    | 无                                        |

<br/>

## 3.26 帐号管理（ID：26）
| ID          | 26                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 帐号管理                                     |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.21                               |
| **最后更新日期**  | 2017.10.17                               |
| **参与者**     | 管理员，目的是管理公司员工账号                          |
| **触发条件**    | 人事更新                                     |
| **前置条件**    | 管理员必须已经被识别和授权                            |
| **后置条件**    | 系统记录操作日志，更新员工帐号                          |
| **优先级**     | 中                                        |
| **正常流程**    | **1.0新建帐号**<br/>1.管理员申请“新建帐号”<br/>2.系统提示管理员选择帐号ID <br/>3.管理员选择帐号ID<br/>4.系统显示帐号信息<br/>5.管理员输入数据，完成帐号制定<br/>6.系统增加帐号，等待下一管理任务<br/><br/>**1.1已有帐号管理**<br/>1.管理员申请“已有帐号管理”<br/>2.系统显示已有帐号<br/>3.管理员选择帐号进行管理<br/>4.系统显示帐号信息<br/>5.管理员修改数据（过期帐号（截止时间在今日之前）无法修改），完成帐号管理<br/>6.系统修改帐号，等待下一管理任务 |
| **扩展流程**    |**1.0新建帐号**<br/>5a.管理员输入非法字符（例如：员工年龄输入非正整数）<br/>&emsp;&emsp;1.系统提示“非法输入”并拒绝完成<br/>5b.管理员有数据未填写<br/>&emsp;&emsp;1.系统提示“数据缺失”并拒绝完成<br/><br/>**1.1已有帐号管理**<br/>5a.管理员修改后输入非法字符（例如：商品数量输入非正整数）<br/>&emsp;&emsp;1.系统提示“非法输入”并拒绝完成<br/>5d.管理员修改后有数据未填写<br/>&emsp;&emsp;1.系统提示“数据缺失”并拒绝完成<br/>5e.管理员选择“删除帐号”<br/>&emsp;&emsp;1.系统删除帐号，等待下一管理任务                                    |
| **特殊需求**    | 无                                        |
