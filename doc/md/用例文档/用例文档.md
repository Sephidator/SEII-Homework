用例文档——灯具进销存管理系统<br/>软工二小组
=========================

<br/>
<br/>
***********************************************
<br/>
<br/>

# 更新历史
| **修改人员**           | **日期**     | **变更原因**  | **版本** |
| ------------------ | ---------- | --------- | ------ |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-09-17 | 初始版本      | V1.0   |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-10-1  | 评审之后的修改版本 | V2.0   |
| 陈思彤                | 2017-10-17 | 用例文档简化版本  | V2.0.1 |
| 陈思彤                | 2017-10-19 | 用例文档简化版本  | V2.0.2 |
| 王颀涵                | 2017-11-8  | 讨论后修改版本   | v2.1   |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2018-1-5   | 代码完成后修改版本 | v3.0   |



<br/>
<br/>
***********************************************
<br/>
<br/>

# 变更记录
| **修改人员**           | **日期**     | **变更原因**  | **版本** | **变更内容**     |
| ------------------ | ---------- | --------- | ------ | ------------ |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-9-17  | 初始版本      | V1.0   | 无            |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-10-1  | 评审之后的修改版本 | V2.0   | 用例的重写        |
| 陈思彤                | 2017-10-17 | 用例文档简化版本  | V2.0.1 | 简化总经理及管理员用例  |
| 陈思彤                | 2017-10-19 | 用例文档简化版本  | V2.0.2 | 简化总经理及管理员用例  |
| 王颀涵                | 2017-11-8  | 讨论后修改版本   | v2.1   | 修改用例6及相关用例   |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2018-1-5   | 代码完成后修改版本 | v3.0   | 修改与实际代码不符合部分 |

<br/>
<br/>
***********************************************
<br/>
<br/>

# 目录
<!-- TOC -->

- [更新历史](#更新历史)
- [变更记录](#变更记录)
- [目录](#目录)
- [1.引言](#1引言)
    - [1.1目的](#11目的)
    - [1.2背景](#12背景)
    - [1.3目标](#13目标)
    - [1.4参考文献](#14参考文献)
- [2.用例列表](#2用例列表)
- [3.用例描述](#3用例描述)
    - [3.1 商品分类管理（ID：01）](#31-商品分类管理id01)
    - [3.2 商品管理（ID：02）](#32-商品管理id02)
    - [3.3 库存查看（ID：03）](#33-库存查看id03)
    - [3.4 库存盘点（ID：04）](#34-库存盘点id04)
    - [3.5 建立库存溢损单（ID：05）](#35-建立库存溢损单id05)
    - [3.6 建立库存赠送单（ID：06）](#36-建立库存赠送单id06)
    - [3.7 修改库存类单据（ID：07）](#37-修改库存类单据id07)
    - [3.8 客户管理（ID：08）](#38-客户管理id08)
    - [3.9 制定进货单（ID：09）](#39-制定进货单id09)
    - [3.10 制定进货退货单（ID：10）](#310-制定进货退货单id10)
    - [3.11 制定销售单（ID：11）](#311-制定销售单id11)
    - [3.12 制定销售退货单（ID：12）](#312-制定销售退货单id12)
    - [3.13 修改进销类单据（ID：13）](#313-修改进销类单据id13)
    - [3.14 账户管理（ID：14）](#314-账户管理id14)
    - [3.15 制定收付款单（ID：15）](#315-制定收付款单id15)
    - [3.16 制定现金费用单（ID：16）](#316-制定现金费用单id16)
    - [3.17 期初建账（ID：17）](#317-期初建账id17)
    - [3.18 修改财务单据（ID：18）](#318-修改财务单据id18)
    - [3.19 红冲（ID：19）](#319-红冲id19)
    - [3.20 查看操作日志（ID：20）](#320-查看操作日志id20)
    - [3.21 查看销售明细表（ID：21）](#321-查看销售明细表id21)
    - [3.22 查看经营历程表（ID：22）](#322-查看经营历程表id22)
    - [3.23 查看经营情况表（ID：23）](#323-查看经营情况表id23)
    - [3.24 审批单据（ID：24）](#324-审批单据id24)
    - [3.25 促销策略管理（ID：25）](#325-促销策略管理id25)
    - [3.26 用户管理（ID：26）](#326-用户管理id26)

<!-- /TOC -->

<br/>
<br/>
***********************************************
<br/>
<br/>

# 1.引言
## 1.1目的
本文档描述了南京灯具照明行业的某企业进销存管理系统的用户需求。并且用过此用例文档来帮助完善需求文档，以期为适应新的环境，提高工作效率和用户满意度。
## 1.2背景
该民营企业专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。
## 1.3目标
系统上线运行六个月后，减少挤压库存，增加销售额，提高财务人员工作效率，为经理的决策做支持。
## 1.4参考文献
参考了书本附录1中的用例文档模板

<br/>
<br/>
***********************************************
<br/>
<br/>

# 2.用例列表
| **参与者** | **用例**                                   |
| ------- | ---------------------------------------- |
| 库存管理人员  | 商品分类管理（ID：01）<br/>商品管理（ID：02）<br/>库存查看（ID：03）<br/>库存盘点（ID：04）<br/>建立库存溢损单（ID：05）<br/>建立库存赠送单（ID：06）<br/>修改库存类单据（ID：07） |
| 进货销售人员  | 客户管理（ID：08）<br/>制定进货单（ID：09）<br/>制定进货退货单（ID：10）<br/>制定销售单（ID：11）<br/>制定销售退货单（ID：12）<br/>修改单据（ID：13） |
| 财务人员    | 账户管理（ID：14）<br/>制定收付款单（ID：15）<br/>制定现金费用单（ID：16）<br/>期初建账（ID：17）<br/>修改财务单据（ID：18）<br/>红冲（ID：19）<br/>查看操作日志（ID：20）<br/>查看销售明细表（ID：21）<br/>查看经营历程表（ID：22）<br/>查看经营情况表（ID：23） |
| 总经理     | 查看操作日志（ID：20）<br/>查看销售明细表（ID：21）<br/>查看经营历程表（ID：22）<br/>查看经营情况表（ID：23）<br/>审批单据（ID：24）<br/>促销策略管理（ID：25）<br/> |
| 管理员     | 账号管理（ID：26）                              |

<br/>
<br/>
***********************************************
<br/>
<br/>

# 3.用例描述

## 3.1 商品分类管理（ID：01）
| **ID**      | 01                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 商品分类管理                                   |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2018-1-5                                 |
| **参与者**     | 库存管理人员 目标是快速进行商品分类，包括增加分类、删除分类、编辑分类      |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权                     |
| **后置条件**    | 系统更新商品分类（编号，名称，父类，备注，子类，商品）              |
| **优先级**     | 高                                        |
| **正常流程**    | **1.0**增加商品分类<br/>1.库存管理人员开始增加商品分类<br/>2.系统显示商品分类信息（编号，名称，父类，备注，子类，商品）<br/>3.库存管理人员输入新商品分类信息（名称，备注）<br/>4.系统增加商品分类更新商品分类<br/>5.重复1~4步骤直到增加完所有所要增加的商品分类<br/><br/>**1.1**删除商品分类<br/>1.库存管理人员开始删除商品分类<br/>2.系统显示商品分类树<br/>3.库存管理人员选择商品分类进行删除<br/>4.系统删除该商品分类更新商品分类<br/>5.重复1~4步骤直到删除全部要删除的商品分类<br/><br/>**1.2**编辑商品分类<br/>1.库存管理人员开始编辑商品分类<br/>2.系统显示商品分类列表<br/>3.库存管理人员选择商品分类并编辑该商品分类（名称，备注）<br/>4.系统更新商品分类<br/>5.重复1~4步骤直到编辑完所有所要编辑的商品分类 |
| **扩展流程**    | **1.0**增加商品分类<br/>1a.父类选择已有商品的商品分类<br/>&emsp;&emsp;1.系统提示母类已有商品，无法增加子分类<br/>1b.父类选择已有商品的商品分类<br/>&emsp;&emsp;1.系统提示母类已有商品，无法增加子分类<br/>3a.输入已使用的商品分类名<br/>&emsp;&emsp;1.系统提示输入已使用商品分类名<br/>3b.未输入商品分类名称<br/>&emsp;&emsp;1.系统提示未输入商品分类名称<br/><br/>**1.1**删除商品分类<br/>3a.把有商品或子分类的分类删除<br/>&emsp;&emsp;1.系统提示该分类上有商品或子分类存在，无法删除<br/>3b.把总商品分类删除<br/>&emsp;&emsp;1.系统提示总分类无法删除<br/><br/>**1.2**修改商品分类<br/>3a.输入已使用的商品分类名<br/>&emsp;&emsp;1.系统提示输入已使用商品分类名<br/>3b.未输入商品分类名称<br/>&emsp;&emsp;1.系统提示未输入商品分类名称 |
| **特殊需求**    | 1.商品分类编号必须唯一，8位数字                        |

<br/>

## 3.2 商品管理（ID：02）
| **ID**      | 02                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 商品管理                                     |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2018-1-5                                 |
| **参与者**     | 库存管理人员 目标是快速进行商品管理，进行商品的增删改查包括增加商品、删除商品、修改商品和查询商品 |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权，收到进货消息              |
| **后置条件**    | 系统更新商品信息（编号、名称、分类、型号、数量、警戒数量、进价、零售价、最近进价、最近零售价、备注） |
| **优先级**     | 高                                        |
| **正常流程**    | **2.0**增加商品<br/>1.库存管理人员开始增加商品<br/>2.系统显示商品信息（编号、名称、分类、型号、数量、警戒数量、进价、零售价、最近进价、最近零售价、备注）<br/>3.库存管理人员输入商品信息（名称、型号、数量、警戒数量、进价、零售价、备注）<br/>4.系统更新商品<br/>5.重复1~4步骤增加完所要增加的商品<br/><br/>**2.1**删除商品<br/>1.库存管理人员开始删除商品<br/>2.系统显示现有所有商品列表<br/>3.库存管理人员选择商品进行删除<br/>4.系统更新商品<br/>5.重复1~4步骤直到删除完所要删除的商品<br/><br/>**2.2**编辑商品<br/>1.库存管理人员开始编辑商品<br/>2.系统显示现有所有商品列表<br/>3.库存管理人员选择商品<br/>4.系统显示该商品信息<br/>5.库存管理人员编辑商品信息（名称、型号、数量、警戒数量、进价、零售价、备注）<br/>6.系统更新商品<br/>7.重复1~6步骤直到编辑完所有要编辑的商品<br/><br/>**2.3**查询商品<br/>1.库存管理人员开始查询商品<br/>2.系统显示现有所有商品列表<br/>3.库存管理人员选择商品<br/>4.系统显示该商品信息（编号、名称、分类、型号、数量、警戒数量、进价、零售价、最近进价、最近零售价、备注）<br/>5.重复1~4步骤直到查询完所要查询的商品 |
| **扩展流程**    | **2.0**增加商品<br/>1a.在有子分类的商品分类下增加商品<br/>&emsp;&emsp;1.系统提示商品分类有子分类，无法增加商品<br/>3a.输入已使用商品名<br/>&emsp;&emsp;1.系统提示此商品已使用<br/>3b.未输入数据数量、警戒数量、进价、零售价<br/>&emsp;&emsp;1.系统提示未输入数据<br/>3c.输入数据（数量、警戒数量、进价、零售价）时输入负数<br/>&emsp;&emsp;1.系统提示数据不能为负数<br/><br/>**2.1**删除商品<br/>3a.未选择商品进行删除商品<br/>&emsp;&emsp;1.系统提示未选择商品<br/><br/>**2.2**修改商品<br/>5a.输入已使用商品名<br/>&emsp;&emsp;1.系统提示此商品已使用<br/>5b.未输入数据数量、警戒数量、进价、零售价<br/>&emsp;&emsp;1.系统提示未输入数据<br/>5c.输入数据（数量、警戒数量、进价、零售价）时输入负数<br/>&emsp;&emsp;1.系统提示数据不能为负数<br/><br/>**2.3**查询商品<br/>1a.未选择商品就进行查询<br/>&emsp;&emsp;1.系统提示未选择商品 |
| **特殊需求**    | 1.商品编号独立唯一，8位数字                          |

<br/>

## 3.3 库存查看（ID：03）
| **ID**      | 03                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 库存查看                                     |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2018-1-5                                 |
| **参与者**     | 库存管理人员 目标是在一个时间段内，快速查看此时间段内的出/入库数量/金额，销售/进货的数量/金额 |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权                     |
| **后置条件**    | 无                                        |
| **优先级**     | 中等                                       |
| **正常流程**    | 1.库存管理人员进行库存查看，输入时间段进行查看<br/><br/>2.系统显示此时间段内的商品销售/进货的数量/金额以及库存总数<br/><br/>3.重复1~2流程直到查看完所要查看的所有时间段 |
| **扩展流程**    | 1a.未输入筛选时间段<br/>&emsp;&emsp;1.系统提示未输入筛选时间段<br/><br/>1b.输入的结束时间在起始时间之前<br/>&emsp; &emsp;1. 系统提示结束时间应在起始时间之前 |
| **特殊需求**    | 无                                        |

<br/>

## 3.4 库存盘点（ID：04）
| **ID**      | 04                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 库存盘点                                     |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2018-1-5                                 |
| **参与者**     | 库存管理人员 目标是快速进行库存盘点，包括当天的各种商品的名称，型号，进价，零售价，数量，备注 |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权                     |
| **后置条件**    | 无                                        |
| **优先级**     | 中等                                       |
| **正常流程**    | 1.库存管理人员开始库存盘点<br/><br/>2.系统显示当日的库存快照（当天的各种商品的名称，型号，进价，零售价，数量，备注）<br/><br/>3.库存管理人员确认导出Excel<br/><br/>4.系统导出Excel |
| **扩展流程**    | 无                                        |
| **特殊需求**    | 无                                        |

<br/>

## 3.5 建立库存溢损单（ID：05）
| **ID**      | 05                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 建立库存溢损单                                  |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2018-1-5                                 |
| **参与者**     | 库存管理人员 目标是快速建立库存溢损单，使实际库存商品数量与系统存储的一致    |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权                     |
| **后置条件**    | 记录操作日志                                   |
| **优先级**     | 中等                                       |
| **正常流程**    | 1.库存管理人员开始制定库存溢损单<br/><br/>2.系统显示单据信息（编号，单据类型，操作员，备注，溢损商品列表），并自动填充单据类型和操作员<br/><br/>3.库存管理人员添加商品<br/><br/>4.系统显示商品列表<br/><br/>5.库存管理人员选择商品，添加到报溢报损商品列表中<br/><br/>6.系统的报溢报损商品列表显示商品信息（商品编号，名称，型号，单价，数量，实际数量）<br/><br/>7.库存管理人员输入商品实际数量<br/><br/>8.系统更新报溢报损商品列表<br/><br/>9.库存管理人员重复5-8步直到完成所有商品的输入<br/><br/>10.库存管理人员输入单据的备注并待审批。<br/><br/>11.单据上传返回编号，记录操作日志 |
| **扩展流程**    | 5a.库存管理人员添加商品时未选择商品<br/>&emsp;&emsp;1.系统提示未选择商品<br/><br/>10a.库存管理人员添加单据超过单日上限<br/>&emsp;&emsp;1.系统提示超过单日上限<br/><br/>10b.库存管理人员输入溢损商品列表为空<br/>&emsp;&emsp;1.系统提示溢损列表为空 |
| **特殊需求**    | 1.单日单据上限为99999                           |

<br/>

## 3.6 建立库存赠送单（ID：06）
| **ID**      | 06                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 建立库存赠送单                                  |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-11-8                                |
| **最后更新日期**  | 2018-1-5                                 |
| **参与者**     | 库存管理人员 目标是建立库存赠送单，是商品库存数量保持正确            |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权                     |
| **后置条件**    | 记录操作日志                                   |
| **优先级**     | 中等                                       |
| **正常流程**    | 1.库存管理人员开始制定库存赠送单<br/><br/>2.系统显示单据信息（编号，单据类型，操作员，客户，备注，赠送商品列表），并自动填充单据编号和操作员信息<br/><br/>3.库存管理人员添加商品<br/><br/>4.系统显示商品列表<br/><br/>5.库存管理人员选择商品，添加到赠送商品列表中<br/><br/>6.系统的赠送商品列表显示商品信息（名称，型号，数量）<br/><br/>7.库存管理人员输入商品赠送数量<br/><br/>8.系统更新赠送商品列表<br/><br/>9.库存管理人员重复5-8步直到完成所有商品的输入<br/><br/>10.库存管理人员选择客户，输入单据的备注并提交<br/><br/>11.单据上传，记录操作日志 |
| **扩展流程**    | 7a.库存管理人员输入数量未选择商品<br/>&emsp;1.系统提示未选择商品<br/><br/>10a.库存管理人员建立单据超过单日单据上限<br/>&emsp;&emsp;1.系统提示超过单日单据上限<br/><br/>10b.库存管理人员未选择客户就提交<br/>&emsp;1.系统提示未选择客户<br/><br/>10c.库存管理人员输入的赠送商品列表为空<br/>&emsp;1.系统提示赠送列表为空<br/><br/>10d.库存管理人员选择存为草稿以后修改<br/>&emsp;1.库存管理人员选择存为草稿 |
| **特殊需求**    | 1.单日单据上限为99999                           |

<br/>

## 3.7 修改库存类单据（ID：07）
| ID          | 07                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 修改库存类单据                                  |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-10-10                               |
| **最后更新日期**  | 2018-1-5                                 |
| **参与者**     | 库存管理人员，目的是修改草稿状态的和审批不通过状态的库存类单据          |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志                        |
| **优先级**     | 中等                                       |
| **正常流程**    | 1.库存管理人员开始修改库存类单据<br/><br/>2.系统显示单据列表（库存溢损单，库存赠送单），包括所有的草稿状态的和审批不通过状态的单据<br/><br/>3.库存管理人员选择单据进行修改<br/><br/>4.系统显示单据的信息（库存溢损单参见用例5，库存赠送单参见用例6）<br/><br/>5.库存管理人员更改相应的单据信息并提交<br/><br/>6.系统将单据上传给总经理等待审批，提示待审批单据成功，记录操作日志 |
| **扩展流程**    | 5a.库存管理人员建立单据超过单日单据上限<br/>&emsp;&emsp;1.系统提示超过单日单据上限<br/><br/>5b.库存管理人员输入数量未选择商品<br/>&emsp;1.系统提示未选择商品<br/><br/>5c.库存管理人员未选择客户就提交<br/>&emsp;1.系统提示未选择客户<br/><br/>5d.库存管理人员输入的商品列表为空<br/>&emsp;1.系统提示列表为空<br/><br/>5e.库存管理人员选择存为草稿以后修改<br/>&emsp;1.系统将单据存为草稿<br/><br/>6-11a.库存管理人员未选择单据就编辑<br/>&emsp;1.系统提示未选择单据 |
| **特殊需求**    | 无                                        |

<br/>

## 3.8 客户管理（ID：08）
| **ID**      | 08                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 客户管理                                     |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2018-1-5                                 |
| **参与者**     | 进货销售人员，目的是要对客户信息进行增、删、改、查                |
| **触发条件**    | 进货销售人员发起客户管理                             |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统记录操作日志，包括时间区间、操作员和事件                   |
| **优先级**     | 中                                        |
| **正常流程**    | 1.进货销售人员发起客户管理。<br/><br/>2.系统显示客户列表。<br/><br/> **3.0** 添加客户<br/>1.进货销售人员新建客户。<br/>2.系统显示客户信息界面。<br/>3.进货销售人员输入客户信息（包括分类、级别、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员）。<br/>4.系统添加客户，更新客户信息，返回客户编号并显示。<br/><br/>**3.1**删除客户<br/>1.进货销售人员输入客户信息，查询客户。<br/>2.系统显示符合的客户。<br/>3.进货销售人员删除客户。<br/>4.系统移除该客户，更新客户信息，提示删除成功。<br/><br/>**3.2**编辑客户<br/>1.进货销售人员输入客户信息，查询客户。<br/>2.系统显示符合的客户。<br/>3.进货销售人员编辑客户信息。<br/>4.系统更新客户信息，返回客户管理界面。<br/><br/>**3.3**查看客户<br/>1.进货销售人员输入客户信息，查询客户。<br/>2.系统显示符合的客户。<br/>3.进货销售人员查看客户信息。<br/>4.系统显示客户信息。<br/><br/>进货销售人员重复第3步直到完成客户管理。 |
| **扩展流程**    | **3.0**添加客户<br/>3a.和已存在的客户重复：<br/>&emsp;&emsp;1.系统提示客户已存在。<br/>3b.客户信息没有填写完全：<br/>&emsp;&emsp;1.系统提示客户信息输入不完整。<br/>3c.进货销售人员取消操作：<br/>&emsp;&emsp;1.系统取消添加客户。<br/><br/>**3.1**删除客户<br/>2a.没有符合条件的客户。<br/>&emsp;&emsp;1.系统显示的客户列表为空。<br/>3a.进货销售人员要删除客户：<br/>&emsp;&emsp;1.系统提示是否删除。<br/>5a.进货销售人员取消操作<br/>&emsp;&emsp;1.系统取消删除客户。<br/><br/>**3.2**编辑客户<br/>2a.没有符合条件的客户。<br/>&emsp;&emsp;1.系统显示的客户列表为空。<br/>5a.客户信息没有填写完全：<br/>&emsp;&emsp;1.系统提示客户信息输入不完整。<br/>5c.进货销售人员取消操作：<br/>&emsp;&emsp;1.系统取消编辑客户。<br/><br/>**3.3**查看客户<br/>2a.没有符合条件的客户。<br/>&emsp;&emsp;1.系统显示的客户列表为空。 |
| **特殊需求**    | 1.客户信息中，应收应付不可修改，此数据项取决于进货单和销售单，收款单和付款单。应收额度仅最高权限可修改 |

<br/>

## 3.9 制定进货单（ID：09）
| **ID**      | 09                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 制定进货单                                    |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2018-1-5                                 |
| **参与者**     | 进货销售人员，目的是制定进货单                          |
| **触发条件**    | 进货销售人员需要向供应商进货                           |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 较高                                       |
| **正常流程**    | 1.进货销售人员开始制定进货单<br/><br/>2.系统显示单据信息界面，并自动填充操作员信息。<br/><br/>3.进货销售人员选择供应商。<br/><br/>4.系统更新进货单信息。<br/><br/>5.进货销售人员选择商品，添加到入库商品列表中。<br/><br/>6.系统的入库商品列表显示商品信息（商品编号，型号，金额，名称，数量，单价，备注）。并且系统会自动计算总额。<br/><br/>进货销售人员重复5-6步直到完成所有商品的输入。<br/><br/>7.进货销售人员手动输入单据的备注并提交。<br/><br/>8.单据上传给总经理审批，系统返回单据编号并显示。 |
| **扩展流程**    | 1a.单日单据超过99999条时：<br/>&emsp;&emsp;1.系统提示超过单日进货单上限。<br/><br/>5a.输入的商品数量不是正整数:<br/>&emsp;&emsp;1.系统提示错误。<br/><br/>5b.添加了错误的商品:<br/>&emsp;&emsp;1.进货销售人员可以删除商品。<br/><br/>2-6a.供应商要求取消交易:<br/>&emsp;&emsp;1.进货销售人员在系统中取消交易。<br/><br/>7a.进货销售人员未输入所有单据信息：<br/>&emsp;&emsp;1.系统提示进货单信息输入不完整。 |
| **特殊需求**    | 1.单据编号的格式为JHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子 |

<br/>

## 3.10 制定进货退货单（ID：10）
| **ID**      | 10                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 制定进货单                                    |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-1                                |
| **参与者**     | 进货销售人员，目的是制定进货单                          |
| **触发条件**    | 进货销售人员需要向供应商进货                           |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 较高                                       |
| **正常流程**    | 1.进货销售人员开始制定进货退货单<br/><br/>2.系统显示单据信息界面，并自动填充操作员信息。<br/><br/>3.进货销售人员选择供应商。<br/><br/>4.系统更新进货退货单信息。<br/><br/>5.进货销售人员选择商品，添加到出库商品列表中。<br/><br/>6.系统的出库商品列表显示商品信息（商品编号，型号，金额，名称，数量，单价，备注）。并且系统会自动计算总额。<br/><br/>进货销售人员重复5-6步直到完成所有商品的输入。<br/><br/>7.进货销售人员手动输入单据的备注并提交。<br/><br/>8.单据上传给总经理审批，系统返回单据编号并显示。 |
| **扩展流程**    | 1a.单日单据超过99999条时：<br/>&emsp;&emsp;1.系统提示超过单日进货退货单上限。<br/><br/>5a.输入的商品数量不是正整数:<br/>&emsp;&emsp;1.系统提示错误。<br/><br/>5b.输入的商品数量大于库存数量:<br/>&emsp;&emsp;系统提示库存数量不够。<br/><br/>5c.添加了错误的商品:<br/>&emsp;&emsp;1.进货销售人员可以删除商品。<br/><br/>2-6a.进货销售人员取消退货:<br/>&emsp;&emsp;1.进货销售人员在系统中取消退货。<br/><br/>7a.进货销售人员未输入所有单据信息：<br/>&emsp;&emsp;1.系统提示进货退货单信息输入不完整。 |
| **特殊需求**    | 1.单据编号的格式为JHTHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子 |

<br/>

## 3.11 制定销售单（ID：11）
| **ID**      | 11                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 制定销售单                                    |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-1                                |
| **参与者**     | 进货销售人员，目的是制定销售单                          |
| **触发条件**    | 进货销售人员需要客户销售                             |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 高                                        |
| **正常流程**    | 1.进货销售人员开始制定销售单<br/><br/>2.系统显示单据信息界面，并自动填充操作员信息<br/><br/>3.进货销售人员选择客户（仅显示销售商）。<br/><br/>4.系统自动填充该客户的业务员信息。<br/><br/>5.进货销售人员选择适用的促销策略。<br/><br/>6.系统更新单据信息。<br/><br/>7.进货销售人员选择要销售的商品，添加到出货商品清单中。<br/><br/>8.出货商品清单中要显示商品的编号，名称（从商品选择界面选择），型号，数量（手工输入），单价（默认为商品信息里的销售价，可修改），金额（自动生成），商品备注。并且系统会自动计算折让前总额。<br/><br/>进货销售人员重复7-8步直到完成所有商品的输入。<br/><br/>9.进货销售人员手动输入单据的折让金额、使用代金卷金额、备注，并提交销售单。<br/><br/>10.单据上传给总经理审批，系统返回单据编号并显示。 |
| **扩展流程**    | 1a.单日单据超过99999条时：<br/>&emsp;&emsp;1.系统提示超过单日销售单上限。<br/><br/>7a.输入的商品数量不是正整数:<br/>&emsp;&emsp;1.系统提示错误<br/><br/>7b.输入的商品数量大于库存数量:<br/>&emsp;&emsp;系统提示库存数量不够。<br/><br/>7c.添加了错误的商品:<br/>&emsp;&emsp;1.进货销售人员可以删除商品<br/><br/>2-8a.客户取消交易:<br/>&emsp;&emsp;1.1.进货销售人员在系统中取消交易。<br/><br/>9a.进货销售人员输入折让金额等信息：<br/>&emsp;&emsp;系统自动更新单据总金额。<br/><br/>9b.进货销售人员输入的折让金额超过权限:<br/>&emsp;&emsp;1.系统提示折让金额超过权限。<br/><br/>9c.进货销售人员输入的折让金额或使用代金卷金额使得总金额为负数:<br/>&emsp;&emsp;1.系统自动将总金额置为0。<br/><br/>9d.进货销售人员未输入所有单据信息：<br/>&emsp;&emsp;1.系统提示销售单信息输入不完整。 |
| **特殊需求**    | 1.单据编号为XSD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子<br/><br/>2.折让金额权限：普通销售员为1000元，销售经理为5000元 |

<br/>

## 3.12 制定销售退货单（ID：12）
| **ID**      | 12                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 制定销售单                                    |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2018-1-5                                 |
| **参与者**     | 进货销售人员，目的是制定销售单                          |
| **触发条件**    | 进货销售人员需要客户销售                             |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 高                                        |
| **正常流程**    | 1.进货销售人员开始制定销售退货单<br/><br/>2.系统显示单据信息界面，并自动填充操作员信息<br/><br/>3.进货销售人员选择客户（仅显示销售商）。<br/><br/>4.系统自动填充该客户的业务员信息。<br/><br/>5.进货销售人员选择要退货的商品，添加到退货商品清单中。<br/><br/>6.出货商品清单中要显示商品的编号，名称（从商品选择界面选择），型号，数量（手工输入），单价（默认为商品信息里的销售价，可修改），金额（自动生成），商品备注。并且系统会自动计算总额。<br/><br/>进货销售人员重复5-6步直到完成所有商品的输入。<br/><br/>7.进货销售人员手动输入单据的备注，并提交销售退货单。<br/><br/>8.单据上传给总经理审批，系统返回单据编号并显示。 |
| **扩展流程**    | 1a.单日单据超过99999条时：<br/>&emsp;&emsp;1.系统提示超过单日销售单上限。<br/><br/>5a.输入的商品数量不是正整数:<br/>&emsp;&emsp;1.系统提示错误<br/><br/>5b.添加了错误的商品:<br/>&emsp;&emsp;1.进货销售人员可以删除商品<br/><br/>2-6a.客户取消退货:<br/>&emsp;&emsp;1.1.进货销售人员在系统中取消退货。<br/><br/>7a.进货销售人员未输入所有单据信息：<br/>&emsp;&emsp;1.系统提示销售单退货信息输入不完整。 |
| **特殊需求**    | 1.单据编号为XSTHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子 |

<br/>

## 3.13 修改进销类单据（ID：13）
| **ID**      | 13                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 修改进销类单据                                  |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-1-5                                 |
| **参与者**     | 进货销售人员，目的是修改草稿状态的和审批不通过状态的进销类单据          |
| **触发条件**    | 无                                        |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 高                                        |
| **正常流程**    | 1.进货销售人员进入单据列表界面。<br/><br/>2.系统显示单据列表（进货单、进货退货单、销售单、销售退货单），包括所有的草稿状态的和审批不通过状态的单据<br/><br/>3.进货销售人员选择单据并修改。<br/><br/>4.系统显示单据的信息（进货单参见用例9，进货退货单参见用例10，销售单参见用例11，销售退货单参见用例12）。<br/><br/>5.进货销售人员选更改相应的单据信息，并待审批单据<br/><br/>6.单据上传给总经理等待审批，系统提示待审批单据成功 |
| **扩展流程**    | 5a.输入的商品数量不是正整数:<br/>&emsp;&emsp;1.系统提示错误<br/><br/>5b.添加了错误的商品:<br/>&emsp;&emsp;1.进货销售人员可以删除商品<br/><br/>5c.进货销售人员取消修改:<br/>&emsp;&emsp;1.系统取消修改单据，保存单据信息。<br/><br/>5d.进货销售人员未输入所有单据信息：<br/>&emsp;&emsp;1.系统提示销售单退货信息输入不完整。<br/><br/>5e.如果是进货退货单或销售单，且输入的商品数量大于库存数量:<br/>&emsp;&emsp;系统提示库存数量不够。<br/><br/>5f.如果是销售单，进货销售人员输入的折让金额超过权限:<br/>&emsp;&emsp;1.系统提示折让金额超过权限。<br/><br/>5g.如果是销售单，进货销售人员输入的折让金额或使用代金卷金额使得总金额为负数:<br/>&emsp;&emsp;1.系统提示输入错误。 |
| **特殊需求**    | 无                                        |

<br/>

## 3.14 账户管理（ID：14）
| **ID**      | 14                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 账户管理                                     |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 王宁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2018-1-4                                 |
| **参与者**     | 财务人员，目标是在最高权限情况下进行公司银行账户的查看和管理           |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统并已经取得最高权限                        |
| **后置条件**    | 系统保存财务人员所做的账户的添加、删除和名称更改                 |
| **优先级**     | 高                                        |
| **正常流程**    | 1.财务人员进入账户管理事务<br/><br/>2.系统返回公司所有银行账户列表<br/><br/>**3.1** 添加账户<br/>1.财务人员输入新账户的账号和名称以及初始余额<br/>2.系统保存并更新账户名单，提示添加账户成功<br/>重复1~2步，直到添加账户完毕<br/><br/>**3.2** 查询账户<br/>1.财务人员输入账户名称或者账号进行查找<br/>2.系统返回一个匹配输入信息的账户名单的列表<br/>3.财务人员查看某一个账户<br/>4.系统显示该账户信息，包括该账户的名称、账号和余额<br/><br/>**3.3** 编辑账户<br/>1.财务人员输入新的账户的名称<br/>2.系统更新该账户的名称，提示编辑账户成功<br/><br/>**3.4** 删除账户<br/>1.财务人员选择账户然后删除账户<br/>2.系统删除该账户，并且更新账户名单，提示删除账户成功 |
| **扩展流程**    | **3.1**添加账户<br/>1a.财务人员未取得最高权限情况下添加账户<br/>&emsp;1.系统提示只有最高权限可以添加账户<br/>2a.财务人员输入的新账号已经存在<br/>&emsp;1.系统提示账号和已有账户重复<br/>3a.财务人员没有输入完整的账号、名称或余额<br/>&emsp;1.系统分别提示输入不完整的信息<br/>4a.财务人员输入的账户余额为负数<br/>&emsp;1.系统提示账户余额必须是非负数<br/><br/>**3.2**查询账户<br/>1a.财务人员未取得最高权限情况下查询账户<br/>&emsp;1.系统提示只有最高权限可以查询账户<br/>2a.财务人员输入不能匹配的账户信息<br/>&emsp;1.系统返回空列表<br/><br/>**3.3**编辑账户<br/>1a.财务人员未取得最高权限情况下编辑账户<br/>&emsp;1.系统提示只有最高权限可以编辑账户<br/>2a.财务人员未输入新名称<br/>&emsp;1.系统提示新名字不合法<br/>3a.财务人员没有点击账户就编辑账户<br/>&emsp;1.系统提示请在表中选择账户<br/><br/>**3.4**删除账户<br/>1a.财务人员未取得最高权限情况下删除账户<br/>&emsp;1.系统提示只有最高权限可以删除账户<br/>2a.财务人员没有点击账户就删除账户<br/>&emsp;1.系统提示请在表中选择账户 |
| **特殊需求**    | 1.账户余额不允许更改<br/>2.余额只跟收款单和付款单以及现金费用单有关<br/>3.系统的银行账户应该与现实银行账户同步 |

<br/>

## 3.15 制定收付款单（ID：15）
| **ID**      | 15                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 制定收付款单                                   |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 王宁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2018-1-4                                 |
| **参与者**     | 财务人员，目标是新建一份收付款单                         |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统                                 |
| **后置条件**    | 系统持续化保存单据，提交单据将记录操作日志                    |
| **优先级**     | 中                                        |
| **正常流程**    | **1.1** 制定收款单<br/>1.财务人员制定收款单<br/>2.系统自动填充单据类型为“收款单”<br/><br/>**1.2** 制定付款单<br/>1.财务人员制定付款单<br/>2.系统自动填充单据类型为“付款单”<br/><br/>2.财务人员填写：客户（包含供应商或销售商）和转账列表（包括：银行账户，转账金额，备注）以及单据备注<br/><br/>3.系统自动计算总额汇总以及附加操作员（当前登录用户）信息<br/><br/>**4.1** 财务人员保存草稿<br/>1.系统将单据标记为草稿状态并持久化保存，提示已保存单据草稿并显示单据ID<br/><br/>**4.2** 财务人员核对后提交单据<br/>1.系统将单据标记为待审批状态并持久化保存，然后提示提交单据成功并显示单据ID,记录操作日志 |
| **扩展流程**    | **1.1**制定收款单<br/>1a.如果单据编号不符合单据规则（参照特殊需求1）<br/>&emsp;1.系统提示超过单日单据上限（99999张），创建单据失败<br/><br/>**1.2**制定付款单<br/>1a.如果单据编号不符合单据规则（参照特殊需求1）<br/>&emsp;1.系统提示超过单日单据上限（99999张），创建单据失败<br/><br/>2a.财务人员没有完整填写客户和转账列表信息（除备注外）情况下保存或者提交单据<br/>&emsp;1.系统提示未选择客户或未添加转账列表<br/><br/>3a.财务人员没有选择账户的情况下选择添加账户<br/>&emsp;1.系统提示未选择账户<br/><br/>4a.财务人员输入的转帐金额大于账户余额<br/>&emsp;1.系统提示输入金额不得大于银行余额 |
| **特殊需求**    | 1.单据编号规则：单据编号是自动生成，后面的5位id每天从1重新计数，最高是99999<br/>2.系统计算总额汇总的依据是转账列表的转账金额的总和 |

<br/>

## 3.16 制定现金费用单（ID：16）
| **ID**      | 16                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 制定现金费用单                                  |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 王宁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2018-01-04                               |
| **参与者**     | 财务人员，目标是新建一张现金费用单                        |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统                                 |
| **后置条件**    | 系统保存状态为草稿状态或者待审批状态的单据，待审批状态的单据的提交将记录操作日志 |
| **优先级**     | 中                                        |
| **正常流程**    | 1.财务人员制定现金费用单<br/><br/>2.系统自动填充单据类型为“现金费用单”<br/><br/>3.财务人员输入银行账户和条目清单（包括：条目名，金额，备注）以及单据备注<br/><br/>4.系统自动计算总额汇总以及附加操作员（当前登录用户）信息<br/><br/>**4.1** 财务人员保存草稿<br/>1.系统将单据标记为草稿状态，然后持久化保存，提示已保存现金费用单草稿，显示单据ID<br/><br/>**4.2** 财务人员核对后提交单据<br/>1.系统将单据标记为待审批状态，持久化保存，并提示提交现金费用单成功，显示单据ID |
| **扩展流程**    | 1a.如果单据编号不符合单据规则（参照特殊需求1）<br/>&emsp;1.系统提示超过单日单据上限（99999张），创建现金费用单失败<br/><br/>3a.财务人员没有完整填写客户和条目清单信息（除备注外）情况下保存或者提交单据<br/>&emsp;1.系统提示未选择客户或未添加条目清单<br/><br/>3b.财务人员没有选择条目的情况下选择添加条目<br/>&emsp;1.系统提示请在条目清单中选择条目 |
| **特殊需求**    | 1.单据编号规则：单据编号是自动生成，后面的5位id每天从1重新计数，最高是99999<br/>2.现金费用单用于管理报销<br/>3.生成总额汇总的依据是条目清单中的金额的总和 |

<br/>

## 3.17 期初建账（ID：17）
| **ID**      | 17                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 期初建账                                     |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 王宁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2018-01-05                               |
| **参与者**     | 财务人员，目标是期初建账                             |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统，当年没有期初建账过                       |
| **后置条件**    | 系统保存新建的期初信息                              |
| **优先级**     | 中                                        |
| **正常流程**    | 1.财务人员进入期初建账事务<br/><br/>2.系统显示往年的期初建账列表<br/><br/>**3.1** 建账<br/>1.财务人员选择期初建账<br/>2.系统自动添加上一财年内有单据记录的的商品信息（包括：商品分类，某一商品的名称，类别，型号，进价/售价（默认为去年平均），最近进价和最近售价留空）；客户信息（包括：客户分类，某一个客户的名称，联系方式等，应收应付(之前遗留)）；银行账户信息（包括：名称，余额）<br/>3.财务人员核对后根据实际的销售和财务情况更改以上信息<br/>4.系统显示更新后的信息<br>5.财务人员结束输入并保存<br>6.系统将新建的账目保存，并且提示期初建账成功<br/><br/>**3.2** 查看<br/>1.财务人员选择查看账目<br/>2.系统显示期初信息列表<br/>3.财务人员点击列表中的某一项<br/>4.系统显示详细的期初信息 |
| **扩展流程**    | 3.1a.如果系统无法查找到往年期初信息<br/>&emsp;1.系统期初列表为空<br/><br/> 3.1a.财务人员在今年已建账情况下选择建账<br/>&emsp;1.系统提示今年已建账 <br/><br/>3.2a.财务人员没有选中期初列表中某一期初信息情况下选择查看<br/>&emsp;1.系统提示数请在表中选择期初账目 |
| **特殊需求**    | 1.期初建账的期初信息一经建立以后就不允许修改<br/>2.系统自动添加的期初信息来源于上一财年的系统单据的数据<br/>3.系统使用的第一年的期初建账为空 |

<br/>

## 3.18 修改财务单据（ID：18）
| **ID**      | 18                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 修改财务单据                                   |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 王宁                                       |
| **创建日期**    | 2017-10-1                                |
| **最后更新日期**  | 2018-01-05                               |
| **参与者**     | 财务人员，目标是修改审批未通过的或者保存为草稿状态的财务单据并再次提交      |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统并且收到财务单据审批未通过的信息                 |
| **后置条件**    | 参考用例15和用例16                              |
| **优先级**     | 中                                        |
| **正常流程**    | 1.财务人员进入修改财务单据事务<br/><br/>2.系统返回一个包含所有审批未通过的和草稿状态的财务单据的名单列表（财务单据包括收付款单和现金费用单）<br/><br/>3.财务人员点击其中一个单据并选择编辑<br/><br/>4.系统返回编辑状态的单据，参照用例15和用例16<br/><br/>5.财务人员修改单据信息，核对后提交<br/><br/>6.系统将单据标记为待审批状态后持久化保存，提示编辑单据成功，显示单据ID<br/><br/> 重复3~6步直到财务人员处理完所有审批未通过以及草稿状态的单据 |
| **扩展流程**    | 1a.财务人员进入修改财务单据事务时，如果系统找不到审批未通过或者草稿状态的单据<br/>&emsp;1.系统返回空列表 |
| **特殊需求**    | 无                                        |

<br/>

## 3.19 红冲（ID：19）
| **ID**      | 19                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 红冲                                       |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 王宁                                       |
| **创建日期**    | 2017-10-1                                |
| **最后更新日期**  | 2018-01-05                               |
| **参与者**     | 财务人员，目标使用红冲或者红冲并复制，抵消有错误的账单              |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统并且按用例“查看经营历程表”的定义得到符合筛选条件的单据列表   |
| **后置条件**    | 系统持久化保存红冲的单据或者红冲并复制后编辑的财务单据（见用例15和16）    |
| **优先级**     | 中                                        |
| **正常流程**    | 1.财务人员点击某财务单据（财务单据指的是收、付款单和现金费用单）<br/><br/>2.系统显示该财务单据信息<br/><br/>**3.1** 红冲<br/>1.财务人员选择红冲<br/>2.系统生成与被选中单据类型一样但数值取负的单据入账，提示已成功红冲单据，显示单据ID<br/><br/>**3.2** 红冲并复制<br/>1.财务人员选择红冲并复制<br/>2.系统首先完成3.1的红冲流程，然后返回编辑状态的被选中的该单据<br/>3.财务人员修改单据数据，参照用例15、16，核对后提交<br/>4.系统持久化保存入账单据，提示已成功红冲并复制单据，显示编辑的单据ID |
| **扩展流程**    | **3.1**红冲<br/>1a.财务人员对非财务单据进行红冲<br/>&emsp;1.系统提示只能对财务单据进行红冲<br/>2a.财务人员红冲时候当日单据上限已达到，参见用例15和用例16特殊需求1<br/>&emsp;1.系统提示超过单日单据上限（99999张）<br/><br/>**3.2**红冲并复制<br/>1a.财务人员对非财务单据进行红冲并复制<br/>&emsp;1.系统提示只能对财务单据进行红冲并复制<br/>2a.财务人员红冲时候当日单据上限已达到，参见用例15和用例16特殊需求1<br/>&emsp;1.系统提示超过单日单据上限（99999张） |
| **特殊需求**    | 1.红冲并复制流程中，取负的单据需要和修改后单据一起入账<br/>2.财务人员只能对财务单据（包括：收付款单、现金费用单）进行红冲和红冲并复制操作 |

<br/>

## 3.20 查看操作日志（ID：20）
| **ID**      | 20                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 查看操作日志                                   |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 王宁                                       |
| **创建日期**    | 2017-10-1                                |
| **最后更新日期**  | 2018-01-05                               |
| **参与者**     | 总经理或财务人员，目标是查看操作日志                       |
| **触发条件**    | 无                                        |
| **前置条件**    | 总经理或财务人员登入系统                             |
| **后置条件**    | 无                                        |
| **优先级**     | 中                                        |
| **正常流程**    | 1.总经理或财务人员进入查看操作日志事务<br/><br/>2.系统返回最近一天的操作日志，以列表呈现<br/><br/>3.总经理或财务人员输入时间区间进行查询<br/><br/>4.系统返回时间区间内的操作日志，以列表呈现 |
| **扩展流程**    | 3a.如果没有在时间区间内的操作日志<br/>&emsp;1.系统返回空列表<br/><br/>3b.如果没有完整输入起始时间和结束时间<br/>&emsp;1.系统提示起始或结束时间空缺<br/><br/>3c.如果起始时间晚于结束时间<br/>&emsp;1.系统提示起始时间不得晚于结束时间 |
| **特殊需求**    | 1.操作日志只提供查询功能                            |

<br/>


## 3.21 查看销售明细表（ID：21）
| ID          | 21                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 查看销售明细表                                  |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.14                               |
| **最后更新日期**  | 2018.1.5                                 |
| **参与者**     | 总经理或财务人员，目的是统计销售情况                       |
| **触发条件**    | 无                                        |
| **前置条件**    | 总经理或财务人员必须已经被识别和授权                       |
| **后置条件**    | 无                                        |
| **优先级**     | 中                                        |
| **正常流程**    | 1.总经理或财务人员查看销售明细表<br/><br/>2.系统显示所有的销售记录<br/><br/>3.总经理或财务人员输入条件进行筛选<br/><br/>4.系统显示符合条件的销售记录<br/><br/>5.总经理或财务人员选择销售单进行查看<br/><br/>6.系统显示销售单信息 |
| **扩展流程**    | 3a.总经理或财务人员输入的截止时间在起始时间之前<br/>&emsp;&emsp;1.系统提示结束时间早于起始时间<br/><br/>3b.总经理或财务人员导出报表<br/>&emsp;&emsp;1.系统导出Excel文件，提示导出销售明细表成功 |
| **特殊需求**    | 无                                        |

<br/>

## 3.22 查看经营历程表（ID：22）
| ID          | 22                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 查看经营历程表                                  |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.14                               |
| **最后更新日期**  | 2017.1.5                                 |
| **参与者**     | 总经理或财务人员，目的是查看单据                         |
| **触发条件**    | 无                                        |
| **前置条件**    | 总经理或财务人员必须已经被识别和授权                       |
| **后置条件**    | 无                                        |
| **优先级**     | 中                                        |
| **正常流程**    | 1.总经理或财务人员查看经营历程表<br/><br/>2.系统显示所有单据<br/><br/>3.总经理或财务人员输入条件进行筛选<br/><br/>4.系统显示符合条件的单据<br/><br/>5.总经理或财务人员选择单据进行查看<br/><br/>6.系统显示单据信息 |
| **扩展流程**    | 3a.总经理或财务人员输入的截止时间在起始时间之前<br/>&emsp;&emsp;1.系统提示结束时间早于起始时间<br/><br/>3b.总经理或财务人员导出报表<br/>&emsp;&emsp;1.系统导出Excel文件，提示导出经营历程表成功 |
| **特殊需求**    | 无                                        |

<br/>

## 3.23 查看经营情况表（ID：23）
| ID          | 23                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 查看经营情况表                                  |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.14                               |
| **最后更新日期**  | 2017.1.5                                 |
| **参与者**     | 总经理或财务人员，目的是统计经营收支状况                     |
| **触发条件**    | 无                                        |
| **前置条件**    | 总经理或财务人员必须已经被识别和授权                       |
| **后置条件**    | 无                                        |
| **优先级**     | 中                                        |
| **正常流程**    | 1.总经理或财务人员查看经营情况表<br/><br/>2.系统显示经营情况（初始为0）<br/><br/>3.总经理或财务人员输入起始时间和截止时间<br/><br/>4.系统计算并显示这一段时间的经营情况 |
| **扩展流程**    | 3a.总经理或财务人员输入的截止时间在起始时间之前<br/>&emsp;&emsp;1.系统提示结束时间早于起始时间<br/><br/>3b.总经理或财务人员申请“导出报表”<br/>&emsp;&emsp;1.系统导出Excel文件，提示导出经营情况表成功 |
| **特殊需求**    | 无                                        |

<br/>

## 3.24 审批单据（ID：24）
| ID          | 24                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 审批单据                                     |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.14                               |
| **最后更新日期**  | 2017.1.5                                 |
| **参与者**     | 总经理，目的是审批单据                              |
| **触发条件**    | 无                                        |
| **前置条件**    | 总经理必须已经被识别和授权                            |
| **后置条件**    | 系统记录操作日志，更新数据，发送通知                       |
| **优先级**     | 高                                        |
| **正常流程**    | 1.总经理审批单据<br/><br/>2.系统显示待审批单据<br/><br/>3.总经理选择单据类型进行筛选<br/><br/>4.系统显示该类型的待审批单据<br/><br/>5.总经理选择单据查看<br/><br/>6.系统显示该单据信息<br/><br/>7.总经理审批通过单据<br/><br/>8.系统更新单据信息和对应数据 |
| **扩展流程**    | 7a.总经理审批不通过单据<br/>&emsp;&emsp;1.系统提示输入不通过的理由<br/>&emsp;&emsp;2.总经理输入理由，系统更新单据信息<br/>&emsp;&emsp;&emsp;&emsp;2a.总经理未输入理由<br/>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;1.系统提示未输入理由<br/>7b.总经理批量审批通过通过单据<br />&emsp;&emsp;1.系统更新单据信息和对应数据 |
| **特殊需求**    | 无                                        |

<br/>

## 3.25 促销策略管理（ID：25）
| ID          | 25                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 促销策略管理                                   |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.14                               |
| **最后更新日期**  | 2018.1.5                                 |
| **参与者**     | 总经理，目的是管理促销策略，促进销售                       |
| **触发条件**    | 销售竞争；处理积压产品                              |
| **前置条件**    | 总经理必须已经被识别和授权                            |
| **后置条件**    | 系统记录操作日志，更新促销策略                          |
| **优先级**     | 高                                        |
| **正常流程**    | 1.总经理管理促销策略<br/><br/>2.系统显示所有促销策略<br/><br/>**3.0**新建客户/总价/商品促销策略<br/>1.总经理填写数据并提交，系统提示添加促销策略成功，显示新建的促销策略ID及名称<br/>**3.1**删除促销策略<br/>1.系统提示删除促销策略成功，显示删除的促销策略ID及名称<br/><br/>**3.2**修改促销策略<br/>1.系统显示促销策略信息，总经理修改数据并提交，系统提示修改促销策略成功，显示修改的促销策略ID及名称<br/><br/>**3.3**查看促销策略<br/>1.系统显示促销策略信息 |
| **扩展流程**    | **3.0/3.2**<br/>1a.数据未输入<br/>&emsp;&emsp;1.系统提示未输入对应的数据<br/><br/>1b.输入的截止时间在起始时间之前<br/>&emsp;&emsp;1.系统提示结束时间早于起始时间<br/><br/>1c.金额部分填入数据有误<br/>&emsp;&emsp;1.系统提示金额必须是非负数<br/><br/>1d.已有同名的促销策略<br/>&emsp;&emsp;1.系统提示促销策略已存在<br/><br/>3.2a.促销策略正在使用或使用完毕<br/>&emsp;&emsp;1.系统提示无法修改 |
| **特殊需求**    | 无                                        |

<br/>

## 3.26 用户管理（ID：26）
| ID          | 26                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 用户管理                                     |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.21                               |
| **最后更新日期**  | 2018.1.                                  |
| **参与者**     | 管理员，目的是管理公司用户                            |
| **触发条件**    | 人事管理                                     |
| **前置条件**    | 管理员必须已经被识别和授权                            |
| **后置条件**    | 系统更新用户                                   |
| **优先级**     | 中                                        |
| **正常流程**    | 1.管理员管理用户<br/><br/>2.系统显示所有用户<br/><br/>**3.0**新建用户<br/>1.管理员填写数据并提交，系统提示添加用户成功，显示新建的用户ID及姓名<br/><br/>**3.1**删除用户<br/>1.系统提示删除用户成功，显示删除的用户ID及姓名<br/><br/>**3.2**修改促销策略<br/>1.系统显示用户信息，管理员修改数据并提交，系统提示修改用户成功，显示修改的用户ID及姓名<br/><br/>**3.3**查看用户<br/>1.系统显示用户信息 |
| **扩展流程**    | **3.0/3.2**<br/>1a.数据未输入<br/>&emsp;&emsp;1.系统提示未输入对应的数据<br/><br/>1b.年龄部分填入数据有误<br/>&emsp;&emsp;1.系统提示年龄必须是正整数 |
