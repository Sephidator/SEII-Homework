用例文档——灯具进销存管理系统<br/>软工二小组
=========================

<br/>
<br/>
***********************************************
<br/>
<br/>

# 更新历史
|**修改人员**           | **日期**     | **变更原因**  | **版本** |
|:------------------ | :---------- | :--------- | :------ |
|陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-09-17 | 初始版本      | V1.0   |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-10-1  | 评审之后的修改版本 | V2.0|   



<br/>
<br/>
***********************************************
<br/>
<br/>

# 变更记录
| **修改人员**           | **日期**    | **变更原因**  | **版本** | **变更内容** |
| ------------------ | --------- | --------- | ------ | -------- |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-9-17 | 初始版本      | V1.0   | 无        |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-10-1 | 评审之后的修改版本 | V2.0   | 用例的重写    |

<br/>
<br/>
***********************************************
<br/>
<br/>

# 目录
	1.引言
		1.1 目的
		1.2 背景
		1.3 目标
		1.4 参考文献
	2.用例列表
	3.用例描述
		3.1 商品分类管理（ID：01）
		3.2 商品管理（ID：02）
		3.3 库存查看（ID：03）
		3.4 库存盘点（ID：04）
		3.5 建立库存溢损单（ID：05）
		3.6 建立库存报警单（ID：06）
		3.7 修改库存类单据（ID：07）
		3.8 客户管理（ID：08）
		3.9 制定进货单（ID：09）
		3.10 制定进货退货单（ID：10）
		3.11 制定销售单（ID：11）
		3.12 制定销售退货单（ID：12）
		3.13 修改进销类单据（ID：13）
		3.14 账户管理（ID：14）
		3.15 制定收付款单（ID：15）
		3.16 制定现金费用单（ID：16）
		3.17 期初建账（ID：17）
		3.18 修改财务单据（ID：18）
		3.19 编辑经营历程表（ID：19）
		3.20 查看操作日志（ID：20）
		3.21 查看销售明细表（ID：21）
		3.22 查看经营历程表（ID：22）
		3.23 查看经营情况表（ID：23）
		3.24 审批单据（ID：24）
		3.25 促销策略管理（ID；25）
		3.26 账号管理（ID：26）

<br/>
<br/>
***********************************************
<br/>
<br/>

# 1.引言
## 1.1目的
本文档描述了南京灯具照明行业的某企业进销存管理系统的用户需求。并且用过此用例文档来帮助完善需求文档，以期为适应新的环境，提高工作效率和用户满意度。
## 1.2背景
该民营企业专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。
## 1.3目标
系统上线运行六个月后，减少挤压库存，增加销售额，提高财务人员工作效率，为经理的决策做支持。
## 1.4参考文献
参考了书本附录1中的用例文档模板

<br/>
<br/>
***********************************************
<br/>
<br/>

# 2.用例列表
| **参与者** | **用例**                                   |
| ------- | ---------------------------------------- |
| 库存管理人员  | 商品分类管理（ID：01）<br/>商品管理（ID：02）<br/>库存查看（ID：03）<br/>库存盘点（ID：04）<br/>建立库存溢损单（ID：05）<br/>建立库存报警单（ID：06） |
| 进货销售人员  | 客户管理（ID：07）<br/>制定进货单（ID：08）<br/>制定进货退货单（ID：09）<br/>制定销售单（ID：10）<br/>制定销售退货单（ID：11）<br/>修改单据（ID：12） |
| 财务人员    | 账户管理（ID：13）<br/>制定收付款单（ID：14）<br/>制定现金费用单（ID：15）<br/>期初建账（ID：16）<br/>修改财务单据（ID：17）<br/>编辑经营历程表（ID：18）<br/>查看操作日志（ID：19）<br/>查看销售明细表（ID：20）<br/>查看经营历程表（ID：21）<br/>查看经营情况表（ID：22） |
| 总经理     | 查看销售明细表（ID：20）<br/>查看经营历程表（ID：21）<br/>查看经营情况表（ID：22）<br/>审批单据（ID：23）<br/>制定促销策略（ID：24）<br/> |
| 管理员     | 账号管理（ID：25）                              |

<br/>
<br/>
***********************************************
<br/>
<br/>

# 3.用例描述

## 3.1 商品分类管理（ID：01）
| **ID**      | 01                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 商品分类管理                                   |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2017-9-30                                |
| **参与者**     | 库存管理人员 目标是快速进行商品分类，包\\括增加分类、删除分类、修改分类    |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权                     |
| **后置条件**    | 系统更新商品分类，记录操作日志，包括时间区间、操作员和事件            |
| **优先级**     | 高                                        |
| **正常流程**    | **1.0**增加商品分类<br>1.库存管理人员点击“商品分类”按钮，再点击“增加商品分类”按钮<br>2.系统显示增加商品分类界面，包括商品分类名称，母类，备注<br>3.库存管理人员输入商品分类名称，母类，备注后，点击确认<br>4.系统更新商品分类，记录操作日志，包括时间区间、操作员和事件<br>5.重复1~4步骤<br><br>**1.1**删除商品分类<br>1.库存管理人员点击“商品分类”按钮再点击“删除商品分类”按钮<br>2.系统显示商品分类列表<br>3.库存管理人员选择商品分类后点击“确认”按钮<br>4.系统删除该商品分类更新商品分类，记录操作日志，包括时间区间、操作员和事件<br>5.重复1~4步骤<br><br>**1.2**修改商品分类<br>1.库存管理人员点击“商品分类”按钮再点击“修改商品分类”按钮<br>2.系统显示商品分类列表<br>3.库存管理人员选择商品分类并编辑该商品分类包括商品分类名称，母类以及备注<br>4.系统更新商品分类，记录操作日志，包括时间区间、操作员和事件<br>5.重复1~4步骤 |
| **扩展流程**    | **1.0**增加商品分类<br>1a.输入已使用的商品分类名<br>&emsp;&emsp;1.系统提示输入已使用商品分类名<br>1b.母类选择已有商品的商品分类<br>&emsp;&emsp;1.系统提示母类已有商品，无法增加子分类<br><br>1c.输入超过10个字符的商品分类名称<br>&emsp;&emsp;1.系统提示商品分类名称超过10个字符<br><br>**1.1**删除商品分类<br>1a.把有商品的分类删除<br>&emsp;&emsp;1.系统提示该分类上有商品存在，无法删除<br><br>**1.2**修改商品分类<br>1a.输入已使用的商品分类名<br>&emsp;&emsp;1.系统提示输入已使用商品分类名<br>1b.母类选择已有商品的商品分类<br>&emsp;&emsp;1.系统提示母类已有商品，无法增加子分类<br><br>1c.输入超过10个字符的商品分类名称<br>&emsp;&emsp;1.系统提示商品分类名称超过10个字符 |
| **特殊需求**    | 1.显示商品分类时，注明该分类下有无商品<br>2.商品分类编号必须唯一，8位数字 |

<br/>

## 3.2 商品管理（ID：02）
| **ID**      | 02                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 商品管理                                     |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2017-9-30                                |
| **参与者**     | 库存管理人员 目标是快速进行商品管理，进行商品的增删改查包括增加商品、删除商品、修改商品和查询商品 |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权，收到进货消息              |
| **后置条件**    | 系统更新商品编号、名称、型号、库存数量、进价、零售价、最近进价、最近零售价，记录操作日志，包括时间区间、操作员和事件 |
| **优先级**     | 高                                        |
| **正常流程**    | **2.0**增加商品<br>1.库存管理人员点击“商品管理”按钮，再点击“增加商品”按钮<br>2.系统显示现有所有商品分类列表<br>3.库存管理人员选择分类，添加商品，包括商品编号、名称、型号、库存数量、进价、零售价、最近进价、最近零售价<br>4.系统更新商品，记录操作日志，包括时间区间、操作员和事件<br>5.重复1~4步骤<br><br>**2.1**删除商品<br>1.库存管理人员点击“商品管理”按钮，再点击“删除商品”按钮<br>2.系统显示现有所有商品分类列表<br>3.库存管理人员选择商品分类<br>4.系统显示该分类下所有商品<br>5.库存管理人员选择商品，点击“删除”按钮<br>6.系统更新商品，记录操作日志，包括时间区间、操作员和事件<br>7.重复1~6步骤<br><br>**2.2**修改商品<br>1.库存管理人员点击“商品管理”按钮，再点击“修改商品”按钮<br>2.系统显示现有所有商品分类列表<br>3.库存管理人员选择商品分类<br>4.系统显示该分类下所有商品<br>5.库存管理人员选择商品，编辑商品编号、名称、型号、库存数量、进价、零售价、最近进价、最近零售价<br>6.系统更新商品，记录操作日志，包括时间区间、操作员和事件<br>7.重复1~6步骤<br><br>**2.3**查询商品<br>1.库存管理人员点击“商品管理”按钮，再点击“查询商品”按钮<br>2.系统显示现有所有商品分类列表<br>3.库存管理人员选择商品分类<br>4.系统显示该分类下所有商品<br>5.库存管理人员选择商品<br>6.系统显示商品信息（商品编号、名称、型号、库存数量、进价、零售价、最近进价、最近零售价），记录操作日志，包括时间区间、操作员和事件<br>7.重复1~6步骤 |
| **扩展流程**    | **2.0**增加商品<br>1a.输入已使用商品名<br>&emsp;&emsp;1.系统提示此商品已使用<br>1b.未选中分类就进行添加<br>&emsp;&emsp;1.系统提示未选中分类<br>1c.输入超过10个字符的商品名<br>&emsp;&emsp;1.系统提示商品名超过10个字符<br>1d.输入库存数量时输入小数<br>&emsp;&emsp;1.系统提示库存数量不能为小数<br>1f.输入数据时输入负数<br>&emsp;&emsp;1.系统提示数据不能为负数<br><br>**2.1**删除商品<br>1a.未选择商品就点击“删除”按钮<br>&emsp;&emsp;1.系统提示未选择商品<br><br>**2.2**修改商品<br>1a.输入已使用商品名<br>&emsp;&emsp;1.系统提示此商品已使用<br>1b.未选中分类就进行添加<br>&emsp;&emsp;1.系统提示未选中分类<br>1c.输入超过10个字符的商品名<br>&emsp;&emsp;1.系统提示商品名超过10个字符<br>1d.未选择商品就点击“删除”按钮<br>&emsp;&emsp;1.系统提示未选择商品<br>1f.输入库存数量时输入小数<br>&emsp;&emsp;1.系统提示库存数量不能为小数<br>1g.输入数据时输入负数<br>&emsp;&emsp;1.系统提示数据不能为负数<br><br>**2.3**查询商品<br>1a.未选择商品就点击“删除”按钮<br>&emsp;&emsp;1.系统提示未选择商品 |
| **特殊需求**    | 1.商品的查询可以通过输入关键字、商品编号等进行模糊查找<br>2.商品编号独立唯一，8位数字 |

<br/>

## 3.3 库存查看（ID：03）
| **ID**      | 03                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 库存查看                                     |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2017-9-30                                |
| **参与者**     | 库存管理人员 目标是在一个时间段内，快速查看此时间段内的出/入库数量/金额，销售/进货的数量/金额 |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权                     |
| **后置条件**    | 记录操作日志，包括时间区间、操作员和事件                     |
| **优先级**     | 中等                                       |
| **正常流程**    | 1.库存管理人员点击“库存查看”按钮<br>2.系统提示输入时间段<br>3.库存管理人员输入时间段，点击“查看”<br>4.系统显示此时间段内的出/入库数量/金额，销售/进货的数量/金额，记录操作日志，包括时间区间、操作员和事件<br>5.重复3~4流程<br>6.库存管理人员选择退出<br>7.系统退回主界面 |
| **扩展流程**    | 1a.输入错误格式（不是类似2017-9-30）时间段<br>&emsp; &emsp;1.系统提示时间段格式错误<br>1b.输入不存在时间段（例2017-2-30）<br>&emsp;&emsp;1.系统提示该时间段不存在<br>1c.输入的结束时间在起始时间之前<br>&emsp; &emsp;1. |
| **特殊需求**    | 1.库存数量要有合计<br>2.输入的时间段包括年月日，格式例2017-9-30 |

<br/>

## 3.4 库存盘点（ID：04）
| **ID**      | 04                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 库存盘点                                     |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2017-9-30                                |
| **参与者**     | 库存管理人员 目标是快速进行库存盘点，包括当天的各种商品的名称，型号，库存数量，库存均价，批次，批号，出厂日期 |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权                     |
| **后置条件**    | 记录操作日志，包括时间区间、操作员和事件                     |
| **优先级**     | 中等                                       |
| **正常流程**    | 1.库存管理人员点击“库存盘点”按钮<br>2.系统显示当日的库存快照（包括当天的各种商品的名称，型号，库存数量，库存均价，批次，批号，出厂日期）<br>3.库存管理人员点击确认<br>4.系统导出Excel，记录操作日志，包括时间区间、操作员和事件 |
| **扩展流程**    | 无                                        |
| **特殊需求**    | 1.显示行号                                   |

<br/>

## 3.5 建立库存溢损单（ID：05）
| **ID**      | 05                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 建立库存溢损单                                  |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2017-9-30                                |
| **参与者**     | 库存管理人员 目标是快速建立库存报溢表，使实际库存商品数量与系统存储的一致    |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权                     |
| **后置条件**    | 记录操作日志，包括时间区间、操作员和事件                     |
| **优先级**     | 中等                                       |
| **正常流程**    | 1.库存管理人员选择生成库存溢损单<br>2.系统显示商品分类<br>3.库存管理人员选择商品分类<br>4.系统显示该分类下的商品<br>5.库存管理人员选择商品并输入实际数量，点击“确认”按钮<br>6.系统生成库存溢损单，记录操作日志，包括时间区间、操作员和事件 |
| **扩展流程**    | 1a.输入数量为负数<br>&emsp;&emsp;1.系统提示数量不能为负数<br>1b.输入数量为小数<br>&emsp;&emsp;1.系统提示数量不能为小数 |
| **特殊需求**    | 1.报溢商品显示编号名称，型号，数量，备注                    |

<br/>

## 3.6 建立库存报警单（ID：06）
| **ID**      | 06                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 建立库存报警单                                  |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-9-14                                |
| **最后更新日期**  | 2017-9-30                                |
| **参与者**     | 库存管理人员 目标是在库存数量低于警戒数量时，向库存管理人员发出警报       |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经登录并被识别以及授权                     |
| **后置条件**    | 记录操作日志，包括时间区间、操作员和事件                     |
| **优先级**     | 中等                                       |
| **正常流程**    | 1.库存管理人员选择建立库存报警单<br>2.系统显示现有商品所有分类<br>3.库存管理人员选择商品分类<br>4.系统显示该分类下所有商品<br>5.库存管理人员选择商品设定警戒数量<br>6.重复1~4步骤<br>7.在商品库存数量低于警戒数量时，发出警报<br>8.库存管理人员生成单据（输入包括商品名称，编号，实际数量，警戒数量），记录操作日志，包括时间区间、操作员和事件 |
| **扩展流程**    | 1a.警戒数量为负数<br>&emsp;&emsp;1.系统提示警戒数量不能为负数<br>1b.警戒数量为小数<br>&emsp;1.系统提示警戒数量不能为小数 |
| **特殊需求**    | 1.报警商品显示编号名称，型号，数量，单价，金额，商品备注以及报警数量<br>2.可以通过商品名锁定商品 |

<br/>

## 3.7 修改库存类单据（ID：07）
| ID          | 07                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 修改库存类单据                                  |
| **创建者**     | 王颀涵                                      |
| **最后一次更新者** | 王颀涵                                      |
| **创建日期**    | 2017-10-10                               |
| **最后更新日期**  | 2017-10-10                               |
| **参与者**     | 库存管理人员，目的是修改草稿状态的和审批不通过状态的库存类单据          |
| **触发条件**    | 无                                        |
| **前置条件**    | 库存管理人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 中等                                       |
| **正常流程**    | 1.库存管理人员点击“修改单据”按钮<br/><br/>2.系统显示单据列表（库存溢损单，库存报警单），包括所有的草稿状态的和审批不通过状态的单据<br/><br/>3.库存管理人员选中单据，点击“修改单据”按钮。<br/><br/>4.系统显示单据的信息（库存溢损单参见用例5，库存报警单参见用例6）。<br/><br/>5.库存管理人员选更改相应的单据信息，并点击“提交单据”<br/><br/>6.单据上传给总经理等待审批，系统提示提交单据成功，记录操作日志。 |
| **扩展流程**    | 1a.库存管理人员停止修改<br/>&emsp;1.手动直接关闭界面，单据的状态不改动<br/>1b.如果是库存报警单，且实际数量大于报警数量<br/>&emsp;1.系统提示实际数量大于报警数量，无法提交<br/>1c.数量为负数<br>&emsp;1.系统提示数量不能为负数<br>1d.数量为小数<br>&emsp;1.系统提示数量不能为小数 |
| **特殊需求**    | 无                                        |

<br/>

## 3.8 客户管理（ID：08）
| **ID**      | **07**                                   |
| ----------- | ---------------------------------------- |
| **名称**      | 客户管理                                     |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-9-30                                |
| **参与者**     | 进货销售人员，目的是要对客户信息进行增、删、改、查                |
| **触发条件**    | 进货销售人员发起客户管理                             |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新客户信息；记录操作日志，包括时间区间、操作员和事件            |
| **优先级**     | 中                                        |
| **正常流程**    | 1.进货销售人员点击“客户管理按钮”。<br/><br/>2.系统显示客户列表，以及提供搜索框<br/><br/> 3.0 添加客户<br/>1.进货销售人员点击“新建客户”按钮。<br/>2.系统显示客户信息界面，自动生成客户编号。<br/>3.进货销售人员输入客户信息（包括编号、分类、级别、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员。其中，应收应付不可修改，此数据项取决于进货单和销售单，收款单和付款单。应收额度仅最高权限可修改。），并点击确认。<br/>4.系统添加客户，更新客户信息，记录操作日志。<br/><br/>3.1删除客户<br/>1.进货销售人员输入要删除的客户的编号或姓名，查询客户。<br/>2.系统显示符合的客户。<br/>3.进货销售人员选中要删除的客户，点击“删除客户”按钮。<br/>4.系统出现对话框，提示“是否删除客户？”。<br/>5.进货销售人员选择“确认”。<br/>6.系统移除该客户，更新客户信息，记录操作日志。<br/><br/>3.2编辑客户<br/>1.进货销售人员输入要修改信息的客户的编号或姓名，查询客户。<br/>2.系统显示符合的客户。<br/>3.进货销售人员选中要修改信息的客户，点击“编辑客户”按钮。<br/>4.系统显示客户信息界面。<br/>5.进货销售人员修改客户信息（同3.0），并点击确认。<br/>6.系统更新客户信息，记录操作日志。<br/><br/>3.3查看客户<br/>1.进货销售人员输入要查看信息的客户的编号或姓名，查询客户。<br/>2.系统显示符合的客户。<br/>3.进货销售人员选中要查看信息的客户，点击“查看客户”按钮。<br/>4.系统显示客户信息界面。 |
| **扩展流程**    | 3.0添加客户<br/>3a.该客户已存在（姓名、电话相同）：<br/>&emsp;&emsp;1.在点击确认时，系统提示客户已存在，并显示已存在的客户的信息。<br/>3b.客户信息没有填写完全：<br/>&emsp;&emsp;1.在点击确认时，系统提示“请输入所有客户信息”。<br/>3c.进货销售人员点击“取消”按钮：<br/>&emsp;&emsp;1.关闭添加客户界面，返回客户管理主界面。<br/><br/>3.1删除客户<br/>2a.没有符合条件的客户。<br/>&emsp;&emsp;1.系统提示客户不存在。<br/>5a.进货销售人员点击“取消”按钮：<br/>&emsp;&emsp;1.关闭对话框，返回客户管理主界面。<br/><br/>3.2编辑客户<br/>2a.没有符合条件的客户。<br/>&emsp;&emsp;1.系统提示客户不存在。<br/>5a.和别的客户重复（姓名、电话相同）。<br/>&emsp;&emsp;1.在点击确认时，系统提示：和别的客户信息重复,请重新输入客户信息。<br/>5b.客户信息没有填写完全：<br/>&emsp;&emsp;1.在点击确认时，系统提示“请输入所有客户信息”。<br/>5c.进货销售人员点击“取消”按钮：<br/>&emsp;&emsp;1.关闭添加客户界面，返回客户管理主界面。<br/><br/>3.3查看客户<br/>2a.没有符合条件的客户。<br/>&emsp;&emsp;1.系统提示客户不存在。 |
| **特殊需求**    | 无                                        |

<br/>

## 3.9 制定进货单（ID：09）
| **ID**      | **08**                                   |
| ----------- | ---------------------------------------- |
| **名称**      | 制定进货单                                    |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-1                                |
| **参与者**     | 进货销售人员，目的是制定进货单                          |
| **触发条件**    | 进货销售人员需要向供应商进货                           |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 较高                                       |
| **正常流程**    | 1.进货销售人员点击“制定进货单”按钮<br/><br/>2.系统显示单据信息界面，并自动填充单据编号（JHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子）<br/><br/>3.进货销售人员选择供应商，仓库，操作员，然后点击“添加商品”<br/><br/>4.系统显示商品选择列表，包括该供应商的所有商品<br/><br/>5.进货销售人员选择商品，输入数量和备注，添加到入库商品列表中。<br/><br/>6.系统的入库商品列表显示商品信息（商品编号，型号，金额，名称，数量，单价，备注）。并且系统会自动计算总额。<br/><br/>进货销售人员重复5-6步直到完成所有商品的输入。<br/><br/>7.进货销售人员手动输入单据的备注，并点击“提交进货单”。<br/><br/>8.单据上传给总经理等待审批，系统提示制定进货单成功，记录操作日志。 |
| **扩展流程**    | 1a.单日单据超过99999条时：<br/>&emsp;&emsp;1.系统提示：超过单日进货单上限，无法制定进货单。<br/><br/>5a.输入的商品数量不是正整数:<br/>&emsp;&emsp;1.在点击“提交进货单”时，单据不会上传，而是系统提示：商品的数目必须是正整数。<br/><br/>5b.添加了错误的商品:<br/>&emsp;&emsp;1.选中商品，点击“删除商品”按钮可以删除商品。<br/><br/>2-6a.供应商要求取消交易:<br/>&emsp;&emsp;1.直接关闭界面，系统保存单据草稿<br/><br/>3-7a.进货销售人员未输入所有单据信息：<br/>&emsp;&emsp;1.系统提示“请输入进货单所有信息”。 |
| **特殊需求**    | 无                                        |

<br/>

## 3.10 制定进货退货单（ID：10）
| **ID**      | **09**                                   |
| ----------- | ---------------------------------------- |
| **名称**      | 制定进货退货单                                  |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-1                                |
| **参与者**     | 进货销售人员，目的是制定进货退货单                        |
| **触发条件**    | 进货销售人员需要向供应商退货                           |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 高                                        |
| **正常流程**    | 1.进货销售人员点击“制定进货退货单”按钮<br/><br/>2.系统显示单据信息界面，并自动填充单据编号（JHTHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子）<br/><br/>3.进货销售人员选择供应商，仓库，操作员，然后点击“添加商品”<br/><br/>4.系统显示商品选择列表，包括该供应商的所有商品<br/><br/>5.进货销售人员选择要退货的商品，输入数量和备注，添加到出库商品列表中。<br/><br/>6.系统的出库商品列表显示商品信息（商品编号，型号，金额，名称，数量，单价，备注）。并且系统会自动计算总额。<br/><br/>进货销售人员重复5-6步直到完成所有商品的输入。<br/><br/>7.进货销售人员手动输入单据的备注，并点击“提交进货退货单”。<br/><br/>8.单据上传给总经理等待审批，系统提示制定进货退货单成功，记录操作日志。 |
| **扩展流程**    | 1a.单日单据超过99999条时：<br/>&emsp;&emsp;1.系统提示：超过单日进货退货单上限，无法制定进货退货单。<br/><br/>5a.输入的商品数量不是正整数:<br/>&emsp;&emsp;1.在点击“提交进货退货单”时，单据不会上传，而是系统提示：商品的数目必须是正整数。<br/><br/>5b.输入的商品数量大于库存数量:<br/>点击“提交销售单”时，不提交单据，提示库存数量不够，返回单据信息界面。<br/><br/>5c.添加了错误的商品:<br/>&emsp;&emsp;1.选中商品，点击“删除商品”按钮可以删除商品。<br/><br/>2-6a.进货销售人员取消交易:<br/>&emsp;&emsp;1.直接关闭界面，系统保存单据草稿<br/><br/>3-7a.进货销售人员未输入所有单据信息：<br/>&emsp;&emsp;1.系统提示“请输入进货退货单所有信息”。 |
| **特殊需求**    | 无                                        |

<br/>

## 3.11 制定销售单（ID：11）
| **ID**      | **10**                                   |
| ----------- | ---------------------------------------- |
| **名称**      | 制定销售单                                    |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-1                                |
| **参与者**     | 进货销售人员，目的是制定销售单                          |
| **触发条件**    | 进货销售人员需要客户销售                             |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 高                                        |
| **正常流程**    | 1.进货销售人员点击“制定销售单”按钮<br/><br/>2.系统显示单据信息界面，并自动填充单据编号（XSD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子）<br/><br/>3.进货销售人员选择客户（仅显示销售商），业务员（和这个客户打交道的公司员工），操作员（当前登录系统的用户），仓库。然后点击“添加商品”<br/><br/>4.系统显示商品选择列表，包括所有在库商品（及其数量）。<br/><br/>5.进货销售人员选择要销售的商品，输入数量和备注，添加到出货商品清单中。<br/><br/>6.出货商品清单中要显示商品的编号，名称（从商品选择界面选择），型号，数量（手工输入），单价（默认为商品信息里的销售价，可修改），金额（自动生成），商品备注。并且系统会自动计算折让前总额。<br/><br/>进货销售人员重复5-6步直到完成所有商品的输入。<br/><br/>7.进货销售人员手动输入单据的折让金额，使用代金卷金额，备注，并点击“提交销售单”。<br/><br/>8.单据上传给总经理等待审批，系统提示制定销售单成功，记录操作日志。 |
| **扩展流程**    | 1a.单日单据超过99999条时：<br/>&emsp;&emsp;1.系统提示：超过单日销售单上限，无法制定销售单。<br/><br/>5a.输入的商品数量不是正整数:<br/>&emsp;&emsp;1.在点击“提交销售单”时，单据不会上传，而是系统提示：商品的数目必须是正整数。<br/><br/>5b.输入的商品数量大于库存数量:<br/>&emsp;&emsp;在点击“提交销售单”时，不提交单据，提示库存数量不够，返回单据信息界面。<br/><br/>5c.添加了错误的商品:<br/>&emsp;&emsp;1.选中商品，点击“删除商品”按钮可以删除商品。<br/><br/>2-6a.客户取消交易:<br/>&emsp;&emsp;1.直接关闭界面，系统保存单据草稿<br/><br/>7a.进货销售人员输入的折让金额超过权限（普通销售员为1000元，销售经理为5000元）:<br/>&emsp;&emsp;1.在点击“提交销售单”时不上传单据。而是系统提示折让金额超过权限，返回单据信息界面。<br/><br/>3-7a.进货销售人员未输入所有单据信息：<br/>&emsp;&emsp;1.系统提示“请输入进货退货单所有信息”。 |
| **特殊需求**    | 无                                        |

<br/>

## 3.12 制定销售退货单（ID：12）
| **ID**      | **11**                                   |
| ----------- | ---------------------------------------- |
| **名称**      | 制定销售退货单                                  |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-1                                |
| **参与者**     | 进货销售人员，目的是制定销售退货单                        |
| **触发条件**    | 销售商向进货销售人员退货                             |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 高                                        |
| **正常流程**    | 1.进货销售人员点击“制定销售退货单”按钮<br/><br/>2.系统显示单据信息界面，并自动填充单据编号（XSTHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子）<br/><br/>3.进货销售人员选择客户（仅显示销售商），业务员（和这个客户打交道的公司员工），操作员（当前登录系统的用户），仓库。然后点击“添加商品”<br/><br/>4.系统显示商品选择列表，包括该客户购买过的商品。<br/><br/>5.进货销售人员选择要退货的商品，输入数量和备注，添加到退货商品清单中。<br/><br/>6.退货商品清单中要显示商品的编号，名称（从商品选择界面选择），型号，数量（手工输入），单价（默认为商品信息里的销售价，可修改），金额（自动生成），商品备注。并且系统会自动计算总额。<br/><br/>进货销售人员重复5-6步直到完成所有商品的输入。<br/><br/>7.进货销售人员手动输入备注，并点击“提交销售单”。<br/><br/>8.单据上传给总经理等待审批，系统提示制定销售单成功，记录操作日志。 |
| **扩展流程**    | 1a.单日单据超过99999条时：<br/>&emsp;&emsp;1.系统提示：超过单日销售退货单上限，无法制定销售退货单。<br/><br/>5a.输入的商品数量不是正整数:<br/>&emsp;&emsp;1.在点击“提交销售退货单”时，单据不会上传，而是系统提示：商品的数目必须是正整数。<br/><br/>5b.添加了错误的商品:<br/>&emsp;&emsp;1.选中商品，点击“删除商品”按钮可以删除商品。<br/><br/>2-6a.销售商取消交易:<br/>&emsp;&emsp;1.直接关闭界面，系统保存单据草稿。<br/><br/>3-7a.进货销售人员未输入所有单据信息：<br/>&emsp;&emsp;1.系统提示“请输入进货退货单所有信息”。 |
| **特殊需求**    | 无                                        |

<br/>

## 3.13 修改进销类单据（ID：13）
| ID          | 12                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 修改进销类单据                                  |
| **创建者**     | 陈骁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-1                                |
| **参与者**     | 进货销售人员，目的是修改草稿状态的和审批不通过状态的进销类单据          |
| **触发条件**    | 无                                        |
| **前置条件**    | 进货销售人员必须已经被识别和授权                         |
| **后置条件**    | 系统更新单据状态；系统记录操作日志，包括时间区间、操作员和事件          |
| **优先级**     | 高                                        |
| **正常流程**    | 1.进货销售人员点击“修改单据”按钮<br/><br/>2.系统显示单据列表（进货单、进货退货单、销售单、销售退货单），包括所有的草稿状态的和审批不通过状态的单据<br/><br/>3.进货销售人员选中单据，点击“修改单据”按钮。<br/><br/>4.系统显示单据的信息（进货单参见用例8，进货退货单参见用例9，销售单参见用例10，销售退货单参见用例11）。<br/><br/>5.进货销售人员选更改相应的单据信息，并点击“提交单据”<br/><br/>6.单据上传给总经理等待审批，系统提示提交单据成功，记录操作日志。 |
| **扩展流程**    | 2-5a.进货销售人员停止修改:<br/>&emsp;&emsp;1.手动直接关闭界面，单据的状态不改动。<br/><br/>5a.如果是销售单，且输入的商品数量大于库存数量:<br/>&emsp;&emsp;在点击“提交单据”时，不提交单据，提示库存数量不够，返回单据信息界面。<br/><br/>5b.进货销售人员输入的折让金额超过权限（普通销售员为1000元，销售经理为5000元）:<br/>&emsp;&emsp;1.在点击“提交单据”时不上传单据。而是系统提示折让金额超过权限，返回单据信息界面。 |
| **特殊需求**    | 无                                        |

<br/>

## 3.14 账户管理（ID：14）
| **ID**      | 14                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 账户管理                                     |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-11                               |
| **参与者**     | 财务人员，目标是在授权情况下进行公司银行账户的管理                |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统并已经取得最高权限                        |
| **后置条件**    | 系统保存财务人员所做的账户的新增、删除和名称更改，并且记录操作日志 （操作人、行为、开始时间和结束时间区间） |
| **优先级**     | 中                                        |
| **正常流程**    | 1.财务人员点击账户管理按钮<br/><br/>2.系统返回账户管理界面<br/><br/>3.1 添加账户<br/>1.财务人员点击增加账户按钮，输入新账户的账号和名称<br/>2.系统提示成功创建账户的信息<br/>重复1~2步，直到添加账户完毕<br/><br/>3.2 查询账户<br/>1.财务人员点击查询账户按钮，输入账号，点击查询按钮<br/>2.系统找到查询的账号信息，返回一个符合匹配输入条件的账户名单的列表<br/>3.财务人员点击某一个账户<br/>4.系统返回该账户信息管理界面，显示账户的名称和余额<br/><br/>3.3 编辑账户<br/>1.财务人员点击修改账户属性按钮，输入新的名称<br/>2.系统更新该账户名称并提示修改成功的信息<br/><br/>3.4 删除账户<br/>1.财务人员在账户信息界面点击删除账户按钮<br/>2.系统删除该账户并且提示删除账户成功<br/> |
| **扩展流程**    | 1a.财务人员在没有取得最高权限的条件下访问账户管理事务<br/>&emsp;1.系统提示账户权限不够信息，并返回财务管理界面<br/><br/>3.1添加账户<br/>1a.财务人员输入的新账号已经存在<br/>&emsp;1.系统提示不能重复创建，并返回到账户管理界面<br/><br/>3.2查询账户<br/>1a.财务人员输入查询不存在的账户<br/>&emsp;1.系统返回空列表<br/><br/>3.3编辑账户<br/>1a.财务人员输入的名称的字符串形式为空<br/>&emsp;1.系统提示新名字不合法，返回该账户信息管理界面 |
| **特殊需求**    | 1.账户余额不允许更改<br/>2.余额只跟收款单和付款单有关<br/>3.系统的银行账户应该与现实银行账户同步 |

<br/>

## 3.15 制定收付款单（ID：15）
| **ID**      | 15                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 制定收付款单                                   |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-11                               |
| **参与者**     | 财务人员，目标是新建一个收付款单                         |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统                                 |
| **后置条件**    | 系统保存已经提交的收付款单为待审批状态的收付款单，未提交的收付款单为草稿状态的收付款单，并且记录操作日志（操作人、行为、开始时间和结束时间区间） |
| **优先级**     | 高                                        |
| **正常流程**    | 1.1 制定收款单<br/>1.财务人员点击“制定收款单”<br/>2.系统自动填充单据编号，格式为SKD-yyyyMMdd-xxxxx<br/><br/>1.2 制定付款单<br/>1.财务人员点击“制定付款单”<br/>2.系统自动填充单据编号，格式为FKD-yyyyMMdd-xxxxx<br/><br/>2.系统显示相应的单据界面。<br/><br/>3.财务人员填写：客户（同时包含供应商和销售商）和转账列表（包括：银行账户，转账金额，备注）<br/><br/>4.系统自动计算总额汇总以及附加操作员（当前登录用户）信息<br/><br/>5.财务人员核对后点击提交按钮<br/><br/>6.系统保存收付款单，标注为待审批状态，并且将提交的收付款单传送审批，然后提示提交成功 |
| **扩展流程**    | 1.1制定收款单<br/>1a.如果上一个单据的单据编号已经达到99999<br/>&emsp;1.系统提示单据数量已达上限，创建失败，然后返回到财务管理界面<br/><br/>1.2制定付款单<br/>1a.如果上一个单据的单据编号已经达到99999<br/>&emsp;1.系统提示单据数量已达上限，创建失败，然后返回到财务管理界面<br/><br/>3a.财务人员填写的名称字符串为空<br/>&emsp;1.提交单据时，系统提示客户信息有误，并且返回到提交前状态<br/><br/>3b.财务人员输入的银行账户和金额的字符串出现非数字字符（允许逗号分隔金额）或者为空<br/>&emsp;1.提交单据时，系统提示数额有误，返回到提交前状态<br/><br/>4a.系统自动计算的总额汇总的数据出现数据溢出<br/>&emsp;1.系统提示金额溢出，不允许点击提交按钮。<br/><br/>5a.财务人员未点击提交按钮情况下点击返回按钮<br/>&emsp;1.系统标注该收付款单为草稿状态，并且保存，然后返回 |
| **特殊需求**    | 1.系统计算总额汇总的依据是转账列表的转账金额的总和<br/>2.单据编号自动生成，后面的5位id每天从1重新计数<br/> |

<br/>

## 3.16 制定现金费用单（ID：16）
| **ID**      | 16                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 制定现金费用单                                  |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-11                               |
| **参与者**     | 财务人员，目标是新建一个现金费用单                        |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统                                 |
| **后置条件**    | 系统保存已经提交的现金费用单为待审批状态的现金费用单，未提交的现金费用单为草稿状态的现金费用单，记录操作日志（操作人、行为、开始时间和结束时间区间） |
| **优先级**     | 高                                        |
| **正常流程**    | 1.财务人员点击现金费用单管理的按钮<br/><br/>2.系统显示新建现金费用单界面，系统自动生成单据编号（财务人员不能编辑），格式为XJFYD-yyyyMMdd-xxxxx<br/><br/>3.财务人员输入银行账户和条目清单（包括：条目名，金额，备注）<br/><br/>4.系统自动生成总额汇总以及写入操作员（当前登录用户）信息<br/><br/>5.财务人员核对后点击提交按钮<br/><br/>6.系统将新建的现金费用单标注为待审批状态，保存后发送审批，提示提交成功<br/> |
| **扩展流程**    | 2a.如果上一个单据的单据编号已经达到99999<br/>&emsp;1.系统提示单据数量已达上限，创建失败，然后返回到财务管理界面<br/><br/>3a.财务人员填写的银行账户的字符串出现非数字字符或者为空<br/>&emsp;1.提交时，系统提示银行账户信息有误，并且返回到提交前状态<br/><br/>3b.财务人员输入的金额的字符串出现非数字字符（允许逗号分隔金额）或者条目名字符串为空<br/>&emsp;1.提交时，系统提示条目清单有误，返回到提交前状态<br/><br/>4a.系统自动计算的总额汇总的数据出现数据溢出<br/>&emsp;1.系统提示金额溢出的信息，不允许点击提交按钮<br/><br/>5a.财务人员未点击提交按钮情况下点击返回按钮<br/>&emsp;1.系统标注该收付款单为草稿状态，并且保存，然后返回 |
| **特殊需求**    | 1.现金费用单用于管理报销<br/>2.生成总额汇总的依据是条目清单中的金额的总和<br>3.单据编号自动生成，后面的5位id每天从1重新计数<br/> |

<br/>

## 3.17 期初建账（ID：17）
| **ID**      | 17                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 期初建账                                     |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-9-13                                |
| **最后更新日期**  | 2017-10-11                               |
| **参与者**     | 财务人员，目标是期初建账                             |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统                                 |
| **后置条件**    | 系统保存新建成功的账目或者未保存的账目为草稿状态的账目，记录操作日志（操作人、行为、开始时间和结束时间区间） |
| **优先级**     | 高                                        |
| **正常流程**    | 1.财务人员点击期初建账的按钮<br/><br/>2.系统显示期初建账主界面。<br/><br/>3.1 建账<br/>1.财务人员点击“建账”按钮。<br/>2.系统显示建账界面，自动添加上一财年内有单据记录的的商品信息（包括：商品分类，某一商品的名称，类别，型号，进价/售价（默认为去年平均），最近进价和最近售价留空）；客户信息（包括：客户分类，某一个客户的名称，联系方式等，应收应付(之前遗留)）；银行账户信息（包括：名称，余额）<br/>3.财务人员核对后根据实际的销售和财务情况更改商品的相应信息。<br/>4.系统显示更新后的信息。<br>5.财务人员点击保存按钮。<br>6.系统将新建的账目保存，并且提示期初建账成功<br/><br/>3.2查看<br/>1.财务人员点击“查看”按钮。<br/>2.系统显示期初信息列表。<br/>3.财务人员点击列表中的某一项。<br/>4.系统显示详细的期初信息。 |
| **扩展流程**    | 3.1a.如果系统无法查找到相应的单据数据记录<br/>&emsp;1.相应条项留空<br/><br/>3.1b.财务人员输入的有关数据的字符串出现非数字字符（允许逗号分隔金额）<br/>&emsp;1.保存时，系统提示数据格式错误，返回到保存前状态<br/><br/> 3.2a.如果查看账目时，账目为空<br/>&emsp;1.系统提示账目为空的信息，然后返回期初建账主界面 |
| **特殊需求**    | 1.期初建账的账目一经建立以后就不允许修改<br/>2.系统自动添加的期初信息来源于上一财年的单据的数据<br/>3.系统使用的第一年内不允许进行期初建账，账目保留为空 |

<br/>

## 3.18 修改财务单据（ID：18）
| **ID**      | 18                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 修改财务单据                                   |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-10-1                                |
| **最后更新日期**  | 2017-10-11                               |
| **参与者**     | 财务人员，目标是修改审批未通过的或者保存为草稿状态的财务单据并再次提交      |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统并且收到财务单据审批未通过的信息                 |
| **后置条件**    | 系统保存已经提交的单据为待审批状态的单据，已修改但是未提交的单据为草稿状态的单据，未修改的单据的状态不变，之后记录操作日志（操作人、行为、开始时间和结束时间区间） |
| **优先级**     | 中                                        |
| **正常流程**    | 1.财务人员点击修改财务单据按钮<br/><br/>2.系统返回一个包含所有审批未通过的和草稿状态的单据的名单列表（仅限收付款单和现金费用单）<br/><br/>3.财务人员点击其中一个单据<br/><br/>4.系统返回进入编辑状态的单据，参照用例15、16<br/><br/>5.财务人员修改单据信息<br/><br/>6.系统将该单据标记为草稿状态<br/><br/>7.财务人员核对后点击提交按钮<br/><br/>8.系统将单据标记为待审批状态，并将单据发送审批，提示提交成功<br/><br/> |
| **扩展流程**    | 1a.财务人员点击按钮时，系统找不到审批未通过和草稿状态的单据<br/>&emsp;1.系统返回空列表<br/><br/>5a.财务人员未点击提交按钮情况下点击返回按钮<br/>&emsp;1.系统保存修改的单据，然后返回 |
| **特殊需求**    | 1.每次点击进入的时候，名单列表都要是最新状态                  |

<br/>

## 3.19 编辑经营历程表（ID：19）
| **ID**      | 19                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 编辑经营历程表                                  |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-10-1                                |
| **最后更新日期**  | 2017-10-11                               |
| **参与者**     | 财务人员，目标使用红冲或者红冲并复制，来修改有误的单据              |
| **触发条件**    | 无                                        |
| **前置条件**    | 财务人员登入系统并且依照用例“查看经营历程表”进入查看经营历程表界面       |
| **后置条件**    | 系统保存红冲或者红冲并复制后的单据数据，记录操作日志（操作人.行为.开始时间和结束时间区间） |
| **优先级**     | 中                                        |
| **正常流程**    | 1.在查看经营历程表界面，财务人员点击某财务单据。<br/><br/>2.系统显示该财务单据信息。<br/><br/>3.1 红冲<br/>1.财务人员点击红冲按钮<br/>2.系统进行红冲操作，提示已入账信息<br/><br/>3.2 红冲并复制<br/>1.财务人员点击红冲并复制按钮<br/>2.系统进行红冲操作，提示已入账信息，然后返回编辑状态的该单据（信息保留），参照用例15、16。<br/>3.财务人员修改数据<br/>4.系统更新单据信息界面。<br/>5.财务人员核对后点击提交<br/>6.系统上传单据，提示操作成功 |
| **扩展流程**    | 3.1红冲<br/>1a.财务人员对同一个单据进行大于一次的红冲<br/>&emsp;1.系统提示一个单据只能进行一次红冲的错误信息，并且返回单据查看界面<br/><br/>3.2红冲并复制<br/>1a.财务人员对同一个单据进行大于一次的红冲并复制<br/>&emsp;1系统提示一个单据只能进行一次红冲并复制的错误信息 |
| **特殊需求**    | 1.红冲并赋值提交的单据需要被审批才能入账<br/>2.所有单据都不能被删除或者修改<br/>3.财务人员只能对收付款单、现金费用单进行红冲操作 |

<br/>

## 3.20 查看操作日志（ID：20）
| **ID**      | 20                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 查看操作日志                                   |
| **创建者**     | 王宁                                       |
| **最后一次更新者** | 陈骁                                       |
| **创建日期**    | 2017-10-1                                |
| **最后更新日期**  | 2017-10-11                               |
| **参与者**     | 总经理和财务人员，目标是查看操作日志                       |
| **触发条件**    | 无                                        |
| **前置条件**    | 总经理或者财务人员登入系统                            |
| **后置条件**    | 无                                        |
| **优先级**     | 中                                        |
| **正常流程**    | 1.点击查看操作日志按钮<br/><br/>2.系统返回最近一天的操作日志，以列表呈现（包含操作人.执行动作.开始时间和结束时间）<br/><br/>3.总经理或者财务人员选择时间区间，并点击查询按钮<br/><br/>4.系统返回符合条件的操作日志，以列表呈现<br/><br/>5.参与者点击返回按钮<br/><br/>6.系统返回到财务管理界面 |
| **扩展流程**    | 3a.如果没有符合筛选条件的单据<br/>&emsp;1.系统返回空列表     |
| **特殊需求**    | 1.操作日志只提供查询功能                            |

<br>

## 3.21 查看销售明细表（ID：21）
| ID          | 21                                       |
| :---------- | :--------------------------------------- |
| **名称**      | 查看销售明细表                                  |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.14                               |
| **最后更新日期**  | 2017.09.30                               |
| **参与者**     | 总经理或财务人员，目的是统计商品的销售情况                    |
| **触发条件**    | 无                                        |
| **前置条件**    | 总经理或财务人员必须已经被识别和授权                       |
| **后置条件**    | 系统记录操作日志，包括时间区间、操作员和事件                   |
| **优先级**     | 中                                        |
| **正常流程**    | 1.总经理或财务人员申请查看销售情况表<br/>2.系统以列表形式显示所有销售出货单据记录<br/>3.总经理或财务人员输入筛选条件（筛选条件：时间区间，商品名，客户，业务员，仓库）<br/>4.系统显示符合条件的商品销售记录<br/>总经理或财务人员重复3～4步<br/>5.总经理或财务人员结束查看销售明细表<br/>6.系统回到总经理或财务人员的主界面 |
| **扩展流程**    | 3a.总经理或财务人员输入的筛选起始时间超过范围（在今日之后）<br/>&emsp;&emsp;1.系统提示起始时间错误并拒绝输入<br/>3b.总经理或财务人员输入的筛选结束时间超过范围（在销售记录开始时间之前）<br/>&emsp;&emsp;1.系统提示结束时间错误并拒绝输入<br/>3c.总经理或财务人员输入的筛选结束时间在起始时间之前<br/>&emsp;&emsp;1.系统提示时间区间错误并拒绝输入<br/>3d.总经理或财务人员输入商品名不存在<br/>&emsp;&emsp;1.系统提示商品名不存在并拒绝输入<br/>3e.总经理或财务人员输入客户不存在<br/>&emsp;&emsp;1.系统提示客户不存在并拒绝输入<br/>3f.总经理或财务人员输入业务员不存在<br/>&emsp;&emsp;1.系统提示业务员不存在并拒绝输入<br/>3g.总经理或财务人员输入仓库不存在<br/>&emsp;&emsp;1.系统提示仓库不存在并拒绝输入<br/>5a.总经理或财务人员选择某些单据申请导出Excel文件<br/>&emsp;&emsp;1.系统导出Excel文件 |
| **特殊需求**    | 无                                        |

<br/>

## 3.22 查看经营历程表（ID：22）
| ID          | 22                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 查看经营历程表                                  |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.14                               |
| **最后更新日期**  | 2017.09.30                               |
| **参与者**     | 总经理或财务人员，目的是查看经营历程中所有的单据                 |
| **触发条件**    | 无                                        |
| **前置条件**    | 总经理或财务人员必须已经被识别和授权                       |
| **后置条件**    | 系统记录操作日志，包括时间区间、操作员和事件                   |
| **优先级**     | 中                                        |
| **正常流程**    | 1.总经理或财务人员申请查看经营历程表<br/>2.系统以列表形式显示所有单据信息<br/>3.总经理或财务人员输入筛选条件（筛选条件：时间区间，单据类型，客户，业务员，仓库）<br/>4.系统显示符合条件的单据<br/>总经理或财务人员重复3～4步<br/>5.总经理或财务人员结束查看经营历程表<br/>6.系统记录操作日志，回到总经理或财务人员主界面 |
| **扩展流程**    | 3a.总经理或财务人员输入的筛选起始时间超过范围（在今日之后）<br/>&emsp;&emsp;1.系统提示起始时间错误并拒绝输入<br/>3b.总经理或财务人员输入的筛选结束时间超过范围（在销售记录开始时间之前）<br/>&emsp;&emsp;1.系统提示结束时间错误并拒绝输入<br/>3c.总经理或财务人员输入的筛选结束时间在起始时间之前<br/>&emsp;&emsp;1.系统提示时间区间错误并拒绝输入<br/>3d.总经理或财务人员输入商品名不存在<br/>&emsp;&emsp;1.系统提示商品名不存在并拒绝输入<br/>3e.总经理或财务人员输入客户不存在<br/>&emsp;&emsp;1.系统提示客户不存在并拒绝输入<br/>3f.总经理或财务人员输入业务员不存在<br/>&emsp;&emsp;1.系统提示业务员不存在并拒绝输入<br/>3g.总经理或财务人员输入仓库不存在<br/>&emsp;&emsp;1.系统提示仓库不存在并拒绝输入<br/>5a.总经理或财务人员选择某些单据申请导出Excel文件<br/>&emsp;&emsp;1.系统导出Excel文件 |
| **特殊需求**    | 无                                        |

<br/>

## 3.23 查看经营情况表（ID：23）
| ID          | 23                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 查看经营情况表                                  |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.14                               |
| **最后更新日期**  | 2017.09.30                               |
| **参与者**     | 总经理或财务人员，目的是统计一段时间内的经营收支状况和利润            |
| **触发条件**    | 无                                        |
| **前置条件**    | 总经理或财务人员必须已经被识别和授权                       |
| **后置条件**    | 系统记录操作日志，包括时间区间、操作员和事件                   |
| **优先级**     | 低                                        |
| **正常流程**    | 1.总经理或财务人员申请查看经营情况表<br/>2.系统要求输入起始时间和结束时间<br/>3.总经理或财务人员输入起始时间和结束时间<br/>4.系统显示这一段时间的收入类、支出类以及利润<br/>总经理或财务人员重复3～4步<br/>5.总经理或财务人员结束查看经营情况表<br/>6.系统记录操作日志，回到总经理或财务人员主界面 |
| **扩展流程**    | 3a.总经理或财务人员输入的筛选起始时间超过范围（在今日之后）<br/>&emsp;&emsp;1.系统提示起始时间错误并拒绝输入<br/>3b.总经理或财务人员输入的筛选结束时间超过范围（在经营开始时间之前）<br/>&emsp;&emsp;1.系统提示结束时间错误并拒绝输入<br/>3c.总经理或财务人员输入的筛选结束时间在起始时间之前<br/>&emsp;&emsp;1.系统提示时间区间错误并拒绝输入<br/>5a.总经理或财务人员申请导出Excel文件<br/>&emsp;&emsp;1.系统导出Excel文件 |
| **特殊需求**    | 无                                        |

<br/>

## 3.24 审批单据（ID：24）
| ID          | 24                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 审批单据                                     |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.14                               |
| **最后更新日期**  | 2017.09.30                               |
| **参与者**     | 总经理，目的是支持后续其他人员的工作                       |
| **触发条件**    | 无                                        |
| **前置条件**    | 总经理必须已经被识别和授权                            |
| **后置条件**    | 系统记录操作日志，包括时间区间、操作员和事件；单据数据、状态和提交单据列表更新  |
| **优先级**     | 高                                        |
| **正常流程**    | 1.总经理申请审批单据<br/>2.系统以列表形式显示所有提交单据<br/>3.总经理输入筛选条件（筛选条件：单据类型）<br/>4.系统显示符合条件的提交单据<br/>5.总经理选择某一单据进行审批<br/>6.系统显示该单据内容<br/>7.总经理修改数据<br/>8.系统记录变更情况<br/>总经理重复7～8步，直到完成审批<br/><br/>9.总经理通过该单据的审批<br/><br/>**9.1**库存类<br/>**9.1.1**库存损溢单<br/>系统更改库存数量<br/>**9.1.2**库存赠送单<br/>系统减少库存数量，并通知库存管理人员<br/>**9.1.3**库存报警单<br/>系统通知进货销售人员<br/><br/>**9.2**销售类和进货类<br/>系统更改库存数量和客户的应收应付数据，并通知库存管理人员和财务人员<br/><br/>**9.3**财务类<br/>**9.3.1**收付款单<br/>系统更改账户的余额和客户的应收应付数据，并通知财务人员<br/>**9.3.2**现金费用单<br/>系统减少该账户余额<br/><br/>10.系统修改单据的数据为审批通过状态，更新提交单据列表并回到审批单据列表界面<br/>总经理重复5～10步<br/>11.总经理结束审批单据<br/>12.系统记录操作日志，回到总经理主界面 |
| **扩展流程**    | 3a.总经理输入单据类型不存在<br/>&emsp;&emsp;1.系统提示单据类型不存在并拒绝输入<br/>5a.总经理选择批量审批通过<br/>&emsp;&emsp;1.系统修改已勾选单据状态为审批通过状态，并刷新提交单据列表<br/>&emsp;&emsp;&emsp;&emsp;1a.总经理未选中任何单据<br/>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;1.系统提示未选中任何单据并拒绝批量审批通过<br/>7a.修改后数据超过总经理的权限范围<br/>&emsp;&emsp;1.系统提示权限不够并拒绝修改<br/>7b.输入数据为负<br/>&emsp;&emsp;1.系统提示输入数据为负并拒绝修改<br/>9a.总经理不通过该单据的审批<br/>&emsp;&emsp;1.系统将单据改为审批不通过状态，提示总经理输入不通过理由<br/>&emsp;&emsp;2.总经理输入理由，确认审批不通过<br/>&emsp;&emsp;&emsp;&emsp;2a.总经理未输入理由<br/>&emsp;&emsp;&emsp;&emsp;&emsp;&emsp;1.系统提示总经理未输入理由并拒绝确认<br/>&emsp;&emsp;3.系统发消息通知单据的制定者，回到提交单据界面<br/> |
| **特殊需求**    | 无                                        |

<br/>

## 3.25 促销策略管理（ID：25）
| ID          | 25                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 促销策略管理                                   |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.14                               |
| **最后更新日期**  | 2017.09.30                               |
| **参与者**     | 总经理，目的是促进产品销售                            |
| **触发条件**    | 销售竞争；处理积压产品                              |
| **前置条件**    | 总经理必须已经被识别和授权                            |
| **后置条件**    | 系统记录操作日志，包括时间区间、操作员和事件；促销策略更新            |
| **优先级**     | 高                                        |
| **正常流程**    | 1.总经理申请促销策略管理<br/>2.系统显示管理界面<br/><br/>**3.0**新增促销策略<br/>1.总经理申请新建促销策略<br/>2.系统提示总经理选择促销策略ID <br/>（1：用户促销（赠品、价格折让、赠送代金券）；2：特价包（组合商品降价）；3：总价促销（赠品、赠送代金券））<br/>3.总经理选择某个ID<br/>4.系统显示方案的详细界面<br/>5.总经理为项目栏输入数据<br/>（包括起始时间和结束时间）<br/>6.系统记录输入情况<br/>总经理重复5～6步，直到制定完方案<br/>7.总经理结束促销策略制定<br/><br/>**3.1**删除促销策略<br/>1.总经理申请删除促销策略<br/>2.系统显示所有促销策略<br/>3.总经理选择某一促销方案删除<br/>4.系统删除该方案并更新促销策略列表<br/>总经理重复3～4步<br/>5.总经理结束促销策略删除<br/><br/>**3.2**修改促销策略<br/>1.总经理申请修改促销策略<br/>2.系统显示所有促销策略<br/>3.总经理选择某一促销方案<br/>4.系统显示该方案详细信息界面<br/>5.总经理修改项目栏数据<br/>6.系统记录修改情况<br/>总经理重复5～6步，直到修改完方案<br/>7.总经理完成修改<br/>8.系统更新方案信息并回到促销策略列表界面<br/>总经理重复3～8步<br/>9.总经理结束促销策略修改<br/><br/>**3.3**查看促销策略<br/>1.总经理申请查看促销策略<br/>2.系统显示所有促销策略<br/>3.总经理选择某一促销方案<br/>4.系统显示该方案详细信息界面<br/>5.总经理完成查看<br/>6.系统回到促销策略列表界面<br/>总经理重复3～6步<br/>7.总经理结束促销策略查看<br/><br/>总经理重复**3.0**～**3.3**步<br/>4.总经理结束促销策略管理<br/>5.系统记录操作日志，回到总经理主界面 |
| **扩展流程**    | **3.0**新增促销策略<br/>5a.输入数据超过总经理权限<br/>&emsp;&emsp;1.系统提示权限不够并拒绝输入<br/>5b.输入数据为负<br/>&emsp;&emsp;1.系统提示输入数据为负并拒绝输入<br/>7a.未输入起始时间<br/>&emsp;&emsp;1.系统提示未输入起始时间并拒绝结束<br/>7b.起始时间在今日之前<br/>&emsp;&emsp;1.系统提示起始时间错误并拒绝结束<br/>7c.未输入结束时间<br/>&emsp;&emsp;1.系统提示未输入结束时间并拒绝结束<br/>7d.结束时间在今日之前<br/>&emsp;&emsp;1.系统提示结束时间错误并拒绝结束<br/>7e.结束时间在起始时间之前<br/>&emsp;&emsp;1.系统提示时间区间错误并拒绝结束<br/>7f.除起始时间和结束时间外其他项目栏未输入<br/>&emsp;&emsp;1.系统直接将该项目栏数据设为0并结束<br/><br/>**3.1**删除促销策略<br/>3a.该方案正在实施（今日处于该方案的起始时间和结束时间之间）<br/>&emsp;&emsp;1.系统提示该方案正在实施并拒绝删除<br/><br/>**3.2**修改促销策略<br/>3a.该方案正在实施<br/>&emsp;&emsp;1.系统提示该方案正在实施并拒绝修改<br/>5a.输入数据超过总经理权限<br/>&emsp;&emsp;1.系统提示权限不够并拒绝输入<br/>5a.输入数据为负<br/>&emsp;&emsp;1.系统提示输入数据为负并拒绝输入<br/>7a.未输入起始时间<br/>&emsp;&emsp;1.系统提示未输入起始时间并拒绝结束<br/>7b.起始时间在今日之前<br/>&emsp;&emsp;1.系统提示起始时间错误并拒绝结束<br/>7c.未输入结束时间<br/>&emsp;&emsp;1.系统提示未输入结束时间并拒绝结束<br/>7d.结束时间在今日之前<br/>&emsp;&emsp;1.系统提示结束时间错误并拒绝结束<br/>7e.结束时间在起始时间之前<br/>&emsp;&emsp;1.系统提示时间区间错误并拒绝结束<br/>7f.除起始时间和结束时间外其他项目栏修改后未输入数据<br/>&emsp;&emsp;1.系统直接将该项目栏数据设为0并结束 |
| **特殊需求**    | 赠品条件触发，系统自动建立库存赠送单并提交；促销策略一旦到期将自动销毁      |

<br/>

## 3.26 账号管理（ID：26）
| ID          | 26                                       |
| ----------- | ---------------------------------------- |
| **名称**      | 帐号管理                                     |
| **创建者**     | 陈思彤                                      |
| **最后一次更新者** | 陈思彤                                      |
| **创建日期**    | 2017.09.21                               |
| **最后更新日期**  | 2017.09.30                               |
| **参与者**     | 管理员，目的是管理公司员工账号信息                        |
| **触发条件**    | 无                                        |
| **前置条件**    | 管理员必须已经被识别和授权                            |
| **后置条件**    | 系统记录操作日志，包括时间区间、操作员和事件；员工权限更改            |
| **优先级**     | 中                                        |
| **正常流程**    | 1.管理员申请帐号管理<br/>2.系统显示相应界面<br/><br/>**3.0**新建账号<br/>1.管理员申请新建帐号<br/>2.系统提示选择帐号ID（1：库存管理人员；2：进货销售人员；3：财务人员；4：总经理）<br/>3.管理员选择某个ID<br/>4.系统显示该帐号的详细界面<br/>5.管理员为项目栏输入数据<br/>6.系统记录输入情况<br/>管理员重复5～6步，直到填写完所有信息<br/>7.管理员结束帐号新建工作<br/><br/>**3.1**删除账号<br/>1.管理员申请删除帐号<br/>2.系统提示选择帐号<br/>3.管理员选择某个帐号<br/>4.系统显示删除成功<br/>5.管理员结束帐号新建工作<br/><br/>**3.2**信息查看<br/>1.系统提示输入想查看的员工账号<br/>2.管理员输入员工帐号<br/>3.系统显示该帐号详细信息界面<br/>4.总经理结束信息查看<br/><br/>**3.3**权限管理<br/>1.系统提示输入想管理的员工帐号<br/>2.管理员输入员工帐号<br/>3.系统显示该账户权限信息界面<br/>4.管理员修改该帐号是否为最高权限<br/>5.系统记录修改情况<br/>6.管理员结束权限管理<br/><br/>管理员重复**3.0**～**3.3**步<br/><br/>4.管理员结束帐号管理<br/>5.系统记录操作日志，回到管理员主界面 |
| **扩展流程**    | **3.2**信息查看<br/>2a.输入帐号不存在<br/>&emsp;&emsp;1.系统提示输入帐号不存在并拒绝输入<br/><br/>**3.3**权限管理<br/>2a.输入帐号不存在<br/>&emsp;&emsp;1.系统提示输入帐号不存在并拒绝输入 |
| **特殊需求**    | 无                                        |
