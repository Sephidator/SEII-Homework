需求规格说明文档——<br/>灯具进销存管理系统<br/><br/>软工二小组
=========================



<br/>
<br/>
<br/>

# 更新历史
| **修改人员**           | **日期**     | **变更原因**  | **版本** |
| ------------------ | ---------- | --------- | ------ |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-09-27 | 最初版本      | V1.0   |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-10-02 | 内部评审后的新版本 | V1.1   |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-11-03 | 助教评审后修改版本 | V1.2   |

<br/>
<br/>
***********************************************
<br/>
<br/>

# 变更记录
| **修改人员**           | **日期**     | **变更原因**  | **版本** | **变更内容**             |
| ------------------ | ---------- | --------- | ------ | -------------------- |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-9-27  | 初始版本      | V1.0   | 无                    |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-10-03 | 评审之后的修改版本 | V1.1   | 3.1对外接口和3.2功能需求的改动   |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-11-03 | 助教评审后修改版本 | V1.2   | 更新刺激响应序列，补充遗漏内容，删除冗余 |

<br/>
<br/>
***********************************************
<br/>
<br/>

# 目录
	1. 引言
		1.1 目的
		1.2 范围
		1.3 参考文献
	2. 总体描述
		2.1 商品前景
			2.1.1 背景与机遇
			2.1.2 业务需求
		2.2 商品功能
		2.3 用户特征
		2.4 约束
		2.5 假设和依赖
	3. 详细需求描述
		3.1 对外接口需求
			3.1.1 用户界面
			3.1.2 通信接口
		3.2 功能需求
			3.1 商品分类管理（ID：01）
			3.2 商品管理（ID：02）
			3.3 库存查看（ID：03）
			3.4 库存盘点（ID：04）
			3.5 建立库存溢损单（ID：05）
			3.6 设置库存报警（ID：06）
			3.7 修改库存类单据（ID：07）
			3.8 客户管理（ID：08）
			3.9 制定进货单（ID：09）
			3.10 制定进货退货单（ID：10）
			3.11 制定销售单（ID：11）
			3.12 制定销售退货单（ID：12）
			3.13 修改进销类单据（ID：13）
			3.14 账户管理（ID：14）
			3.15 制定收付款单（ID：15）
			3.16 制定现金费用单（ID：16）
			3.17 期初建账（ID：17）
			3.18 修改财务单据（ID：18）
			3.19 红冲（ID：19）
			3.20 查看操作日志（ID：20）
			3.21 查看销售明细表（ID：21）
			3.22 查看经营历程表（ID：22）
			3.23 查看经营情况表（ID：23）
			3.24 审批单据（ID：24）
			3.25 促销策略管理（ID；25）
			3.26 账号管理（ID：26）
		3.3 非功能需求
			3.3.1 安全性
			3.3.2 可维护性
			3.3.3 易用性
			3.3.4 可靠性
			3.3.5 业务规则
			3.3.6 约束
		3.4 数据需求
			3.4.1 数据定义
			3.4.2 默认数据
			3.4.3 数据格式要求
		3.5 其他需求

<br/>
<br/>
***********************************************
<br/>
<br/>

# 1. 引言

## 1.1 目的
本文档描述了灯具照明行业进销存管理系统的功能需求和非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。

<br/>

## 1.2 范围
某民营企业专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。

现公司规模扩大，企业业务量、办公场所、员工数都发生增长。灯具进销存管理系统是为该企业开发的业务系统，开发的目标在于：适应新的环境，提高工作效率和用户满意度。

通过灯具进销存管理系统的应用，期望在系统上线运行的六个月后，帮助该企业减少挤压库存，增加销售额，提高财务人员工作效率，为经理的决策做支持。

<br/>

## 1.3 参考文献
	1) IEEE标准
	2)《灯具照明行业进销存管理系统 用例文档 V2.0》

<br/>
<br/>
***********************************************
<br/>
<br/>

# 2. 总体描述

## 2.1 商品前景

### 2.1.1 背景与机遇
某民营企业专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。现公司规模扩大，企业业务量、办公场所、员工数都发生增长，需要适应新的环境，提高工作效率和用户满意度。

灯具进销存管理系统就是为了满足该企业新的业务发展需求而开发的，它包括了一个数据集中服务器和多个客户端。数据集中服务器将所有的数据存储起来进行维护。用户通过客户端完成日常任务，客户端与数据集中服务器采取实时通信的方式完成数据交换。

### 2.1.2 业务需求
	BR1: 系统上线运行六个月后，减少挤压库存，增加销售额，提高财务人员工作效率，为经理的决策做支持。

<br/>

## 2.2 商品功能
	SF1：进行商品分类和商品管理。
	SF2：管理商品库存，发现可能的积压、缺货、报废现象。
	SF3：客户资料管理。
	SF4：制定进货类单据和销售类单据。
	SF5：公司账户管理。
	SF6：账单的建立和管理。
	SF7：查看财务报表。
	SF8：提供单据审批功能。
	SF9：制定促销策略，提高商品竞争力。
	SF10：帮助管理员进行用户账号管理。
	SF11：用日志记录系统主要操作，方便总经理和财务人员查询。
	SF12：导出各财务报表（excel）。

<br/>

## 2.3 用户特征
| **用户**     | **特征**                                   |
| ---------- | ---------------------------------------- |
| **库存管理人员** | 使用本系统的库存管理人员有1-2名，能够简单使用办公信息化系统。他们的主要任务是进行商品分类和商品管理，以及查看、盘点库存，制定库存报单。他们对新系统基本持积极态度。不希望增加现有工作量。 |
| **进货销售人员** | 使用本系统的进货销售人员有4-8名，他们的主要任务是进行客户管理，以及制定进货类单据和销售类单据。他们对新系统基本持积极态度。不希望增加现有工作量。 |
| **财务人员**   | 使用本系统的财务人员有1到2名，办公信息化系统使用能力较强。他们的主要任务是公司账户管理、建立账单和查看财务报表。他们对新系统持积极态度。不希望增加现有工作量。 |
| **总经理**    | 使用本系统的总经理有2名，能够熟练使用办公信息化系统。 他们的主要任务是单据审批、制定销售策略以及查看财务报表。他们对新系统持积极态度。 |
| **管理员**    | 整个系统有1个系统管理员。他的工作是管理用户的账号信息，以及在职位变动等情况下更改用户账号信息。系统管理员是专业的计算机维护人员，计算机技能优秀。 |

<br/>

## 2.4 约束
    CON1：系统将运行在windows操作系统上。
    CON2：系统不使用Web界面，而是图形界面。
    CON3：项目要使用持续集成方法进行开发。
    CON4：在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告。

<br/>

## 2.5 假设和依赖
    AE1：不存在商品名称以及型号都相同但实际上不同的产品
    AE2：所有用户都经过了相应的培训，能较好地使用系统。


<br/>
<br/>
***********************************************
<br/>
<br/>

# 3. 详细需求描述

## 3.1 对外接口需求

### 3.1.1 用户界面

#### UI1：登录界面
	系统登陆界面应该简洁明了，方便用户操作。界面图示为：
![](/UI-DESIGN/UI1-登录界面.png)

##### UI1.1：登录界面输入错误
	当用户输入正确地账号密码时，会转入相应地工作界面；否则会跳出对话框提示输入错误，如图
![](/UI-DESIGN/UI1-登录界面输入错误.png)

#### UI2：库存管理主界面
	库存管理主界面，组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以转入相应的页面进行操作。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI2-库存管理主界面.png)

##### UI2.1：商品分类管理界面
	在库存管理界面点击"商品分类管理"按钮,跳转至商品分类管理界面：组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以转入相应的页面进行操作
		2.员工信息区域，显示库存管理人员的相应信息，有注销按钮
		3.消息提醒区域，接收系统消息
![](/UI-DESIGN/UI2.1-商品分类管理界面.png)

##### UI2.2：商品管理界面
	在库存管理界面点击"商品管理"按钮,跳转至商品管理界面：组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以转入相应的页面进行操作
		2.员工信息区域，显示库存管理人员的相应信息，有注销按钮
		3.消息提醒区域，接收系统消息
![](/UI-DESIGN/UI2.2-商品管理界面.png)

##### UI2.3：库存查看界面
	在库存管理界面点击"库存查看"按钮,跳转至库存查看界面：组成部分和界面图示如下：
		1.时间输入区域，手动或鼠标点击输入时间
		2.员工信息区域，显示库存管理人员的相应信息，有注销按钮
		3.消息提醒区域，接收系统消息
		4.库存信息显示区域，显示该时间段内的库存内容
		5.按钮区域，实现返回以及确认
![](/UI-DESIGN/UI2.3-库存查看界面.png)

##### UI2.4：库存盘点界面
	在库存管理界面点击"库存盘点"按钮,跳转至库存盘点界面：组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以实现返回
		2.员工信息区域，显示库存管理人员的相应信息，有注销按钮
		3.消息提醒区域，接收系统消息
		4.库存信息显示区域，显示库存信息
![](/UI-DESIGN/UI2.4-库存盘点界面.png)

##### UI2.5：建立库存溢损单界面
	在库存管理界面点击"建立库存溢损单"按钮,跳转至建立库存溢损单界面：组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以实现提交与返回
		2.员工信息区域，显示库存管理人员的相应信息，有注销按钮
		3.消息提醒区域，接收系统消息
		4.查找区域，实现对商品的查找
		5.填表区域，完成库存溢损单的内容填写
![](/UI-DESIGN/UI2.5-建立库存溢损单.png)

##### UI2.6：建立库存报警单界面
	在库存管理界面点击"建立库存报警单"按钮,跳转至建立库存报警单界面：组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以实现提交与返回
		2.员工信息区域，显示库存管理人员的相应信息，有注销按钮
		3.消息提醒区域，接收系统消息
		4.查找区域，实现对商品的查找
		5.填表区域，完成库存溢损单的内容填写
![](/UI-DESIGN/UI2.6-建立库存报警单.png)

#### UI3：进货销售主界面
	进货销售主界面，组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以转入相应的页面进行操作。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI3-进货销售主界面.png)

##### UI3.1：客户管理界面
	在进货销售主界面点击"客户管理"按钮,跳转至客户管理界面：组成部分和界面图示如下：
		1.查找框，用于查找客户。
		2.客户列表，显示所有客户，以供编辑。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI3.1-客户管理.png)

##### UI3.2：制定进货单界面
	在进货销售主界面点击"制定进货单"按钮,跳转至制定进货单界面：组成部分和界面图示如下：
		1.进货单信息界面，编辑进货单信息。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI3.2-制定进货单.png)

##### UI3.3：制定进货退货单界面
	在进货销售主界面点击"制定进货退货单"按钮,跳转至制定进货退货单界面：组成部分和界面图示如下：
		1.进货退货单信息界面，编辑进货退货单信息。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI3.3-制定进货退货单.png)

##### UI3.4：制定销售单界面
	在进货销售主界面点击"制定销售单"按钮,跳转至制定销售单界面：组成部分和界面图示如下：
		1.销售单信息界面，编辑销售单信息。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI3.4-制定销售单.png)

##### UI3.5：制定销售退货单界面
	在进货销售主界面点击"制定销售退货单"按钮,跳转至制定销售退货单界面：组成部分和界面图示如下：
		1.销售退货单信息界面，编辑销售退货单信息。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI3.5-制定销售退货单.png)

##### UI3.6：修改进销类单据界面
	在进货销售主界面点击"修改进销类单据"按钮,跳转至修改进销类单据界面：组成部分和界面图示如下：
		1.查找框，用于查找单据。
		2.客户列表，显示所有单据，以供编辑。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI3.6-修改进销类单据.png)

#### UI4：财务管理主界面
	财务管理主界面，组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以转入相应的页面进行操作。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI4-财务管理主界面.png)

##### UI4.1：账户管理界面
	在财务管理主界面点击"账户管理"按钮,跳转至账户管理界面：组成部分和界面图示如下：
		1.账户列表区域，显示符合查找条件的账户列表。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
		4.输入框区域，输入想要查找的账户信息，点击查找按钮进行查找。
![](/UI-DESIGN/UI4.1-账户管理界面.png)

##### UI4.1.1：账户管理之账户信息界面
	在账户管理界面点击账户列表中的账户,跳转至账户管理之账户信息界面：组成部分和界面图示如下：
		1.账户信息区域，显示当前账户的编号。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
		4.账户信息区域，名称一栏显示当前账户的名称，在搜索框中输入新名称信息，点击修改按钮以修改名称；余额一		              栏显示当前账户的余额。
		5.功能区域，有删除当前账户的按钮。
![](/UI-DESIGN/UI4.1.1-账户管理之账户信息界面.png)

##### UI4.2：制定收付款单界面
	在财务管理主界面点击"制定收付款单"按钮,跳转至制定收款单界面：组成部分和界面图示如下：
		1.信息填写区域，输入框指导用户输入相关数据。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
		4.功能区域，有导出和提交当前单据的两个按钮。
![](/UI-DESIGN/UI4.2-制定收付款单界面.png)

##### UI4.3：制定现金费用单界面
	在财务管理主界面点击"制定现金费用单"按钮,跳转至制定现金费用单界面：组成部分和界面图示如下：
		1.信息填写区域，输入框指导用户输入相关数据。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
		4.功能区域，有导出和提交当前单据的两个按钮。
![](/UI-DESIGN/UI4.3-制定现金费用单界面.png)

##### UI4.4：期初建账界面
	在财务管理主界面点击"期初建账"按钮,跳转至期初建账界面：组成部分和界面图示如下：
		1.信息填写区域，输入框指导用户输入相关数据。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
		4.功能区域，有导出和提交当前单据的两个按钮。
![](/UI-DESIGN/UI4.4-期初建账界面.png)

##### UI4.5：修改财务单据界面
	在财务管理主界面点击“修改财务单据”按钮，跳转至修改财务单据界面：组成部分和界面图示如下：
		1.单据列表区域，指显示所有未通过审批的单据。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
		4.功能区域，有导出和提交当前单据的两个按钮。
![](/UI-DESIGN/UI4.5-修改财务单据界面.png)

##### UI4.6：编辑经营历程表界面
	在财务管理主界面点击“编辑经营历程表”按钮，跳转至编辑经营历程表界面：组成部分和界面图示如下：
		1.信息筛选区域，指导用户输入相关数据进行筛选。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
		4.功能区域，有查询按钮。
![](/UI-DESIGN/UI4.6-编辑经营历程表界面.png)

##### UI4.6.1：编辑经营历程表之操作界面
	在编辑经营历程表界面点击“查询”按钮，跳转至编辑经营历程表之操作界面：组成部分和界面图示如下：
		1.筛选列表区域，显示符合筛选规则的单据。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
		4.功能区域，有红冲、红冲并赋值按钮以及导出按钮。
![](/UI-DESIGN/UI4.6.1-编辑经营历程表之操作界面.png)

##### UI4.7：查看操作日志界面
	在财务管理主界面点击“查看操作日志”按钮，跳转至查看操作日志界面：组成部分和界面图示如下：
		1.信息筛选区域，指导用户输入相关数据进行筛选。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
		4.功能区域，有筛选和导出当前表格的两个按钮。
![](/UI-DESIGN/UI4.7-查看操作日志界面.png)

##### UI4.8：查看销售明细表界面
	在财务管理主界面点击"查看销售明细表"按钮，跳转至查看销售明细表界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.筛选区域，包括文本框和“确认”按钮。
		3.销售单据列表。
		4.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI4.8-查看销售明细表界面.png)

##### UI4.9：查看经营历程表界面
	在财务管理主界面点击"查看经营历程表"按钮，跳转至查看经营历程表界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.筛选区域，包括文本框和“确认”按钮。
		3.单据列表。
		4.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI4.9-查看经营情况表界面.png)

#### UI5：总经理主界面
	总经理主界面，组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.功能按钮区域，点击按钮可以转入相应的页面进行操作。
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI5-总经理主界面.png)

##### UI5.1：查看销售明细表界面
	在总经理主界面点击"查看销售明细表"按钮，跳转至查看销售明细表界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.筛选区域，包括文本框和“确认”按钮。
		3.销售单据列表。
		4.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI5.1-查看销售明细表界面.png)

##### UI5.2：查看经营历程表界面
	在总经理主界面点击"查看经营历程表"按钮，跳转至查看经营历程表界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.筛选区域，包括文本框和“确认”按钮。
		3.单据列表。
		4.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI5.2-查看经营历程表界面.png)

##### UI5.3：查看经营情况表界面
	在总经理主界面点击"查看经营情况表"按钮，跳转至查看经营情况表界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.筛选区域，包括文本框和“确认”按钮。
		3.收入类，支出类和利润。
		4.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI5.3-查看经营情况表界面.png)

##### UI5.4：促销策略管理界面
	在总经理主界面点击"促销策略管理"按钮，跳转至查看促销策略管理界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.四个功能按钮，对应促销策略的“增删改查”。
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI5.4-促销策略管理界面.png)

##### UI5.5：审批单据界面
	在总经理主界面点击"审批单据"按钮，跳转至审批单据界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.提交单据列表，包括单选框和“审批”按钮。
		3.“批量审批”功能按钮。
		4.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI5.5-审批单据界面.png)

##### UI5.6：查看操作日志界面
	在总经理主界面点击“查看操作日志”按钮，跳转至查看操作日志界面：组成部分和界面图示如下：
		1.信息筛选区域，指导用户输入相关数据进行筛选。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		3.消息提醒区域，接收系统消息。
		4.功能区域，有筛选和导出当前表格的两个按钮。
![](/UI-DESIGN/UI5.6-查看操作日志界面.png)

#### UI6：管理员主界面
	管理员主界面，组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.“帐号管理”功能按钮。
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI6-管理员主界面.png)

##### UI6.1：帐号管理
	在管理员主界面点击"帐号管理"按钮，跳转至帐号管理界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.三个功能按钮
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI6.1-帐号管理界面.png)


### 3.1.2 通信接口
	CI：客户端与服务器使用RMI的方式进行通信

<br/>

## 3.2 功能需求

### 3.2.1 商品分类管理

#### 3.2.1.1 特征描述
当需要进行商品分类管理时，一个经过登录的库存管理人员开始管理商品分类，完成商品分类的增加、删除、修改。<br/>
优先级 = 高

#### 3.2.1.2 刺激/响应序列
	刺激：库存管理人员开始增加商品分类
	响应：系统显示新商品分类信息
	刺激：库存管理人员输入新商品分类信息
	响应：系统更新商品分类，记录操作日志
	刺激：库存管理人员开始删除商品分类
	响应：系统显示商品分类列表
	刺激：库存管理人员选择商品分类开始删除
	响应：系统删除该商品分类并更新商品分类，记录操作日志
	刺激：库存管理人员开始修改商品分类
	响应：系统显示商品分类列表
	刺激：库存管理人员选择商品分类并编辑
	响应：系统更新商品分类，记录操作日志
	刺激：库存管理人员输入已使用的商品分类名
	响应：系统提示输入已使用的商品分类名
	刺激：库存管理人员在有商品的商品分类下添加子分类
	响应：系统提示该商品分类已有商品
	刺激：库存管理人员输入超过字符上限的商品分类名
	响应：系统提示商品分类名称超过字符上限
	刺激：库存管理人员删除有商品的商品分类
	响应：系统提示该商品分类中含有商品，无法删除

#### 3.2.1.3 相关功能需求
| 编号                                     | 需求描述与度量                                  |
| -------------------------------------- | ---------------------------------------- |
| GoodsSort.Input                        | 系统应该允许库存管理人员在进行商品分类管理时（输出：商品分类主界面）既可以鼠标点击，又可以键盘输入 |
| GoodsSort.Input.Add                    | 在库存管理人员输入增加商品分类命令时（查询），系统允许库存管理人员进行商品分类的增加，参见GoodsSort.Add |
| GoodsSort.Input.Delete                 | 在库存管理人员进行商品分类的删除时（查询），系统允许库存管理人员对商品分类进行删除，参见GoodsSort.Delete |
| GoodsSort.Input.Modify                 | 在库存管理人员进行商品分类的更改时（查询），系统允许库存管理人员对商品分类进行更改，参见GoodsSort.Modify |
| GoodsSort.Input.Show                   | 在库存管理人员进行商品分类的查看时（查询），系统允许库存管理人员对商品分类进行查看，参见GoodsSort.Show |
| GoodsSort.Input.Update                 | 在库存管理人员进行商品分类的更新时（查询），系统允许库存管理人员对商品分类进行更新，参见GoodsSort.Update |
| GoodsSort.Show                         | 系统允许库存管理人员进行商品分类的查看，系统将会自动显示所有商品分类的列表（按照分类保存的先后顺序）（输出）（逻辑文件） |
| GoodsSort.Show.Search                  | 库存管理人员对商品分类进行查询时，可以通过输入名称或编号（输入）对商品分类进行查询，系统显示符合条件的商品分类列表（输出）（逻辑文件） |
| GoodsSort.Show.Search.Warning          | 库存管理人员对商品分类进行查询时，未输入名称或编号就对商品分类进行查询，则系统提示未输入名称或编号（输出） |
| GoodsSort.Show.Return                  | 库存管理人员选择返回（查询），开始新任务                     |
| GoodsSort.Add                          | 系统显示新的空商品分类信息（逻辑文件）(输出)                  |
| GoodsSort.Add.Finish                   | 完成输入商品分类名称、商品母类的选择（若商品无母类，则选择“无”）、商品分类描述备注（默认描述为空）（输入），若以上信息都填写无误，系统提示添加成功（输出）并更新商品分类记录操作日志（逻辑文件） |
| GoodsSort.Add.Warning.Null             | 库存管理人员没有完成新商品分类必要内容的输入就选择完成，系统提示完成新商品分类必要信息的填写（输出） |
| GoodsSort.Add.Warning.Name             | 填写商品分类名称时填写了已存在的商品名称而其他无误，系统提示已存在此商品分类（输出）（逻辑文件）填写商品分类名称时填写的商品分类名称超过字符上限而其他无误，系统提示商品分类名称超过字符上限（输出） |
| GoodsSort.Add.Warning.Havegoods        | 输入的商品母类中含有商品，系统提示母类中存在商品，无法增加子分类（输出）（逻辑文件） |
| GoodsSort.Add.Cancel                   | 库存管理人员选择返回（查询），开始新任务                     |
| GoodsSort.Delete                       | 系统显示商品分类列表（逻辑文件）（输出）                     |
| GoodsSort.Delete.Warning.Null          | 未选择商品分类就选择完成，系统提示未选择商品分类（输出）             |
| GoodsSort.Delete.Warning.Goods         | 系统核查该分类下有无商品，有商品提示该分类有商品（输出）（逻辑文件）       |
| GoodsSort.Delete.Cancel                | 库存管理人员选择返回（查询），开始新任务                     |
| GoodsSort.Modify                       | 系统显示商品分类列表（逻辑文件）（输出）                     |
| GoodsSort.Modify.Input                 | 库存管理人员输入新商品分类名称，新商品分类母类，新商品分类的备注（输入）选择完成，系统更新商品分类（输出）（逻辑文件） |
| GoodsSort.Modify.Warning.Checkusename  | 系统核查新的分类名称是否出现，出现过则提示此名称已使用（输出）（逻辑文件）    |
| GoodsSort.Modify.Warning.Checkovername | 系统核查新的分类名称是否超过字符上限超过则提示此名称超过字符上限（输出）     |
| GoodsSort.Modify.Warning.Checkhydro    | 系统核查新的分类的母类是否有商品，有商品则提示该母类已有商品（输出）（逻辑文件） |
| GoodsSort.Modify.Cancel                | 库存管理人员选择返回（查询），开始新任务                     |
| GoodsSort.Update                       | 系统记录操作日志并对商品分类所有进行更新（输出）（逻辑文件）           |
| GoodsSort.Update.Log                   | 系统记录操作日志（逻辑文件）                           |
| GoodsSort.Update.Name                  | 系统更新商品分类的名称（逻辑文件）                        |
| GoodsSort.Update.Hydro                 | 系统更新商品分类的分类关系（逻辑文件）                      |
| GoodsSort.Update.Remark                | 系统更新商品分类的备注（逻辑文件）                        |

<br/>

### 3.2.2 商品管理

#### 3.2.2.1 特性描述
当商品需要管理时，一个已登陆的库存管理人员开始进行商品管理，包括对商品的增加，删除，修改，查询操作。<br/>
优先级 = 高

#### 3.2.2.2 刺激/响应序列
	刺激：库存管理人员开始增加商品
	响应：系统显示所有商品分类列表
	刺激：库存管理人员选择商品分类，添加商品信息
	响应：系统更新商品，记录操作日志
	刺激：库存管理人员开始删除商品
	响应：系统显示所有商品分类列表
	刺激：库存管理人员选择商品分类
	响应：系统显示该分类下所有商品
	刺激：库存管理人员选择商品进行删除
	响应：系统更新商品，记录操作日志
	刺激：库存管理人员开始修改商品
	响应：系统显示所有商品分类列表
	刺激：库存管理人员选择商品并编辑
	响应：系统更新商品，记录操作日志
	刺激：库存管理人员开始查询商品
	响应：系统显示所有商品分类列表
	刺激：库存管理人员选择商品进行查询
	响应：系统显示商品信息
	刺激：库存管理人员输入已使用的商品名
	响应：系统提示输入已使用的商品名
	刺激：库存管理人员输入超过字符上限的商品名
	响应：系统提示商品名称超过字符上限
	刺激：库存管理人员输入库存数量时输入小数
	响应：系统提示库存数量不能为小数
	刺激：库存管理人员输入数据为负数
	响应：系统提示数据不能为负数
	刺激：库存管理人员未选择商品就进行删除，修改与查询
	响应：系统提示未选择商品
	刺激：库存管理人员删除有商品的商品分类
	响应：系统提示该商品分类中含有商品，无法删除

#### 3.2.2.3 相关功能需求
| 编号                        | 详细需求描述                                   |
| ------------------------- | ---------------------------------------- |
| Goods.Input               | 系统应该允许库存管理人员在进行商品分类管理时（输出：商品管理界面）既可以鼠标点击，又可以键盘输入 |
| Goods.Input.Add           | 在库存管理人员输入增加命令时（查询），系统允许库存管理人员进行商品的增加，参见Goods.Add |
| Goods.Input.Delete        | 在库存管理人员输入删除命令时（查询），系统允许库存管理人员进行商品的删除，参见Goods.Delete |
| Goods.Input.Modify        | 在库存管理人员输入修改命令时（查询），系统允许库存管理人员进行商品的修改，参见Goods.Modify |
| Goods.Input.Detail        | 在库存管理人员输入查询命令时（查询），系统允许库存管理人员进行商品的查询，参见Goods.Detail |
| Goods.Input.Show          | 在库存管理人员进行商品管理时，系统显示商品信息列表，参见Goods.Show   |
| Goods.Input.Update        | 在库存管理人员进行商品更新时，系统允许库存管理人员更新商品信息，参见Goods.Update |
| Goods.Show                | 系统显示商品信息列表（输出）（逻辑文件）                     |
| Goods.Show.Search         | 当库存管理人员欲进行特定商品的查询时，可以选择输入：名称、商品编号、商品分类（输入），进行查询（查询），之后系统显示列表列出符合条件的商品（输出）（逻辑文件） |
| Goods.Show.Search.Warning | 库存管理人员进行商品查询时未输入条件就开始查询，系统提示未输入条件（输出）    |
| Goods.Show.Return         | 库存管理人员选择返回（查询），开始新任务（输出）                 |
| Goods.Add                 | 系统显示商品分类列表（逻辑文件）（输出）                     |
| Goods.Add.Finish          | 库存管理人员输入添加的商品属性（输入），包括编号、名称、型号、库存数量、进价、零售价、最近进价、最近零售价、，选择完成（查询），系统更新商品信息（逻辑文件） |
| Goods.Add.Warning.Null    | 库存管理人员未完成商品属性的输入就选择完成，系统提示属性未完成（输出）      |
| Goods.Add.Warning.Name    | 库存管理人员输入已使用商品名称，系统提示商品已使用（输出）（逻辑文件），库存管理人员输入超过字符上限的商品名称，系统提示商品名称超过字符上限（输出） |
| Goods.Add.Warning.Null    | 库存管理人员未选择商品分类就进行添加，系统提示未选择商品分类（输出）       |
| Goods.Add.Warning.Data    | 输入库存数量为小数时，系统提示库存数量不能为小数（输出）；输入数据为负数时，系统提示数据不能为负数（输出） |
| Goods.Add.Cancle          | 库存管理人员选择返回（查询），开始新任务                     |
| Goods.Delete              | 系统显示商品列表（逻辑文件）（输出）                       |
| Goods.Delete.Select       | 库存管理人员选择商品进行删除（查询），系统更新商品信息（逻辑文件）        |
| Goods.Delete.Warning.Null | 库存管理人员未选择商品就开始删除，系统提示商品未选择（输出）           |
| Goods.Delete.Cancel       | 库存管理人员选择返回（查询），开始新任务                     |
| Goods.Modify              | 系统显示商品列表（逻辑文件）（输出）                       |
| Goods.Modify.Nature       | 库存管理人员输入新的属性时（输入），系统更新商品信息（逻辑文件）         |
| Goods.Modify.Warning.Name | 库存管理人员输入已使用商品名称，系统提示商品已使用（输出）（逻辑文件），库存管理人员输入超过字符上限的商品名称，系统提示商品名称超过字符上限（输出） |
| Goods.Modify.Warning.Null | 库存管理人员未选择商品进行修改，系统提示未选择商品（输出）            |
| Goods.Modify.Warning.Data | 输入库存数量为小数时，系统提示库存数量不能为小数（输出）；输入数据为负数时，系统提示数据不能为负数（输出) |
| Goods.Modify.Return       | 库存管理人员选择返回（查询），开始新任务                     |
| Goods.Detail              | 系统显示商品列表                                 |
| Goods.Detail.Search       | 库存管理人员选择商品，系统显示商品信息(输出）（逻辑文件）            |
| Goods.Detail.Cancel       | 库存管理人员选择返回（查询），开始新任务                     |
| Goods.Update              | 系统对商品信息更新，记录操作日志                         |
| Goods.Update.Log          | 系统记录操作日志（逻辑文件）                           |
| Goods.Update.Information  | 系统更新商品信息（逻辑文件）                           |

<br/>

### 3.2.3 库存查看

#### 3.2.3.1 特性描述
当需要库存查看时，一个已登录的库存管理人员开始查看库存，完成对某一时间段的库存查看。<br/>
优先级 = 中

#### 3.2.3.2 刺激/响应序列
	刺激：库存管理人员开始库存查看
	响应：系统提示时间段
	刺激：库存管理人员输入时间段
	响应：系统列表显示库存信息
	刺激：库存管理人员输入错误格式时间段
	响应：系统提示时间段格式错误
	刺激：库存管理人员输入不存在时间
	响应：系统提示该时间不存在
	刺激：库存管理人员输入的结束时间在起始时间之前
	响应：系统提示输入的时间段不存在

#### 3.2.3.3 相关功能需求
| 编号                                 | 需求描述与度量                                  |
| ---------------------------------- | ---------------------------------------- |
| InventoryCheck.Input               | 系统应该允许库存管理人员在进行库存查看时（输出：库存查看主界面）既可以鼠标点击，又可以键盘输入 |
| InventoryCheck.Input.Detail        | 在库存管理人员输入查看命令时（查询），系统允许库存管理人员查看库存，参见InventoryCheck.Detail |
| InventoryCheck.Input.Search        | 在库存管理人员输入查看命令时（查询），系统允许库存管理人员进行查询，参见InventoryCheck.Search |
| InventoryCheck.Input.Show          | 在库存管理人员进行库存查看时（查询），系统允许显示库存信息，参见InventoryCheck.Show |
| InventoryCheck.Show                | 系统允许库存管理人员进行库存查看，系统将会显示库存信息（输出）（逻辑文件）    |
| InventoryCheck.Show.Return         | 库存管理人员选择返回（查询），开始新任务                     |
| InventoryCheck.Detail              | 系统显示库存信息（逻辑文件）（输出）                       |
| InventoryCheck.Detail.Information  | 系统显示库存信息，包括出/入库数量/金额，销售/进货的数量/金额，显示库存合计（输出）（逻辑文件） |
| InventoryCheck.Detail.Return       | 库存管理人员选择返回（查询），开始新任务                     |
| InventoryCheck.Search              | 库存管理人员通过输入时间段（输入）来进行库存查看                 |
| InventoryCheck.Search.Time         | 库存管理人员输入正确时间段，年月日（输入）                    |
| InventoryCheck.Search.Time.Invalid | 系统检查输入的时间不存在，系统提示时间不存在（输出）               |
| InventoryCheck.Search.Wrongtime    | 系统检查输入的时间段起始时间在结束时间之后，系统提示时间段不存在（输出）     |
| InventoryCheck.Search.Checkway     | 系统检查输入的时间段格式不符合，系统提示时间段格式不符合（输出）         |
| InventoryCheck.Search.Return       | 库存管理人员选择返回（查询），开始新任务                     |

<br/>

### 3.2.4 库存盘点

#### 3.2.4.1 特性描述
当需要库存盘点时，一个已登录的库存管理人员开始盘点库存，完成对当日的库存盘点。<br/>
优先级 = 中

#### 3.2.4.2 刺激/响应序列
	刺激：库存管理人员开始库存盘点
	响应：系统显示今日库存快照
	刺激：库存管理人员确认导出excel表
	响应：系统导出excel表

#### 3.2.4.3 相关功能需求
| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| InventoryVerification.Input              | 系统应该允许库存管理人员在进行库存盘点时（输出：库存盘点主界面）既可以鼠标点击，又可以键盘输入 |
| InventoryVerification.Input.Detail       | 在库存管理人员开始库存盘点时（查询），系统允许库存管理人员进行盘点库存，参见InventoryVerification.Detail |
| InventoryVerification.Input.Show         | 在库存管理人员开始库存盘点时（查询），系统允许显示库存信息，参见InventoryVerification.Show |
| InventoryVerification.Show               | 系统允许库存管理人员进行库存盘点，系统将会自动显示库存信息（输出）（逻辑文件）  |
| InventoryVerification.Show.Return        | 库存管理人员选择返回（查询），开始新任务                     |
| InventoryVerification.Detail             | 系统显示当日盘点的库存（逻辑文件）（输出）                    |
| InventoryVerification.Detail.Excel       | 库存管理人员选择导出Excel（查询），系统导出Excel表（输出）（逻辑文件） |
| InventoryVerification.Detail.Output      | 系统显示当日的库存盘点（输出），包括当天的各种商品的名称，型号，库存数量，库存均价，批次，批号，出厂日期 |
| InventoryVerification.Detail.Output.Outname | 系统显示当天的各种商品的名称，型号（输出）                    |
| InventoryVerification.Detail.Output.Outnum | 系统显示当日的库存盘点，包括当天的各种商品的库存数量（输出）           |
| InventoryVerification.Detail.Output.Outprice | 系统显示当日的库存盘点，包括当天的各种商品的库存均价（输出）           |
| InventoryVerification.Detail.Output.Outproduct | 系统显示当日的库存盘点，包括当天的各种商品的批次（输出），批号（输出），出厂日期（输出） |
| InventoryVerification.Detail.Null        | 当当日无盘点记录时，系统显示无（输出）                      |
| InventoryVerification.Detail.Return      | 库存管理人员选择返回（查询），开始新任务                     |

<br/>

### 3.2.5 建立库存溢损单

#### 3.2.5.1 特性描述
当需要建立库存溢损单时，一个登录后的库存管理人员进行商品的报溢报损，使系统中的商品数量与实际库存一致。<br/>
优先级 = 中

#### 3.2.5.2 刺激/响应序列
	刺激：库存管理人员选择建立库存溢损单
	响应：系统显示商品分类列表
	刺激：库存管理人员选择商品分类
	响应：系统显示该分类下的商品信息
	刺激：库存管理人员选择商品，输入实际数量，完成单据的填写
	响应：系统自动生成编号，操作员
	刺激：库存管理人员输入的是负数
	响应：系统提示数量不能为负数
	刺激：库存管理人员输入的数量为小数
	响应：系统提示数量不能为小数

#### 3.2.5.3 相关功能需求
| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| InventoryLossOverBill.Input              | 系统应该允许库存管理人员在进行建立库存溢损单时（输出：建立库存溢损单主界面）既可以鼠标点击，又可以键盘输入 |
| InventoryLossOverBill.Input.Add          | 库存管理人员输入建立库存溢损单命令时（查询），系统允许库存管理人员修改商品数量，参见InventoryLossOverBill.Add |
| InventoryLossOverBill.Input.Show         | 库存管理人员输入建立库存溢损单命令时（查询），系统允许显示商品列表，参见InventoryLossOverBill.Show |
| InventoryLossOverBill.Input.Update       | 库存管理人员输入建立库存溢损单命令时（查询），系统允许库存管理人员更新日志与单据，参见InventoryLossOverBill.Update |
| InventoryLossOverBill.Show               | 系统允许库存管理人员建立库存溢损单，系统将会显示商品的列表（按照保存的先后顺序）（输出）（逻辑文件） |
| InventoryLossOverBill.Show.Search        | 当库存管理人员欲进行特定商品的查询时，可以选择输入：名称、商品编号、商品分类（输入），进行查询（查询），之后系统显示列表列出符合条件的商品（输出）（逻辑文件） |
| InventoryLossOverBill.Show.Search.Warning | 库存管理人员进行商品查询时未输入条件就进行查询，系统提示未输入条件（输出）    |
| InventoryLossOverBill.Show.Return        | 库存管理人员选择返回（查询），开始新任务                     |
| InventoryLossOverBill.Add                | 系统允许库存管理人员在建立库存溢损单界面添加商品的数量              |
| InventoryLossOverBill.Add.Getdata        | 库存管理人员选择商品时，系统自动获取并显示商品数量（逻辑文件）（输出）      |
| InventoryLossOverBill.Add.Warning.Negative | 库存管理人员实际数量输入负数（输入），系统提示数量不能为负数（输出）       |
| InventoryLossOverBill.Add.Warning.Decimal | 库存管理人员实际数量输入小数（输入），系统提示数量不能为小数（输出）       |
| InventoryLossOverBill.Add.Return         | 库存管理人员选择返回（查询），开始新任务                     |
| InventoryLossOverBill.Update             | 系统更新（逻辑文件）                               |
| InventoryLossOverBill.Update.Log         | 系统更新操作日志（逻辑文件）                           |
| InventoryLossOverBill.Update.Bill        | 系统更新单据（逻辑文件）                             |

<br/>

### 3.2.6 设置库存报警

#### 3.2.6.1 特性描述
当需要设置库存报警时，一个登录后的库存管理人员进行商品的警戒数量的设置，使商品处于安全数量下。<br/>
优先级 = 中

#### 3.2.6.2 刺激/响应序列
	刺激：库存管理人员开始生成库存报警
	响应：系统显示商品分类
	刺激：库存管理人员选择商品分类
	响应：系统显示该分类下的商品信息
	刺激：库存管理人员选择商品，输入警戒数量
	响应：系统记录数量，记录操作日志
	刺激：库存管理人员警戒数量输入为负数
	响应：系统提示警戒数量不能为负数
	刺激：库存管理人员输入警戒数量为小数
	响应：系统提示警戒数量不能为小数

#### 3.2.6.3 相关功能需求
| 编号                                  | 需求描述与度量                                  |
| ----------------------------------- | ---------------------------------------- |
| InventoryAlarm.Input                | 系统应该允许库存管理人员在进行设置库存报警时（输出：建立库存报警单主界面）既可以鼠标点击，又可以键盘输入 |
| InventoryAlarm.Input.Add            | 库存管理人员输入设置库存报警命令时（查询），系统允许库存管理人员设立警戒数量，参见InventoryAlarm.Add |
| InventoryAlarm.Input.Show           | 库存管理人员输入设置库存报警命令时（查询），系统允许显示商品列表，参见InventoryAlarm.Show |
| InventoryAlarm.Input.Update         | 库存管理人员输入设置库存报警命令时（查询），系统允许更新商品信息，参见InventoryAlarm.Update |
| InventoryAlarm.Show                 | 系统允许库存管理人员设置警戒数量，系统将会自动显示所有商品的列表（按照保存的先后顺序）（输出）（逻辑文件） |
| InventoryAlarm.Show.Search          | 当库存管理人员欲进行特定商品的查询时，可以选择输入：名称、商品编号、商品分类（输入），进行查询（查询），之后系统显示列表列出符合条件的商品（输出）（逻辑文件） |
| InventoryAlarm.Show.Search.Warning  | 库存管理人员进行商品查询时未输入条件就进行查询，系统提示未输入条件（输出）    |
| InventoryAlarm.Show.Return          | 库存管理人员选择返回（查询），开始新任务                     |
| InventoryAlarm.Add                  | 系统允许库存管理人员添加商品的警戒数量                      |
| InventoryAlarm.Add.Warning.Negative | 库存管理人员库存警戒数量输入负数（输入），系统提示警戒数量不能为负数（输出）   |
| InventoryAlarm.Add.Warning.Decimal  | 库存管理人员库存警戒数量输入小数（输入），系统提示警戒数量不能为小数（输出）   |
| InventoryAlarm.Add.Return           | 库存管理人员选择返回（查询），开始新任务                     |
| InventoryAlarm.Update               | 系统更新商品信息（逻辑文件）                           |
| InventoryAlarm.Update.Data          | 系统更新商品的警戒数量（逻辑文件）                        |
| InventoryAlarm.Update.Log           | 系统更新操作日志（逻辑文件）                           |

<br/>

### 3.2.7 修改库存类单据

#### 3.2.7.1 特性描述
当需要修改库存类单据时，一个登录后的库存管理人员对库存类单据进行修改，完成库存类单据的修改。<br/>
优先级 = 中

#### 3.2.7.2 刺激/相应序列
	刺激：库存管理人员开始修改库存类单据
	响应：系统返回草稿状态和未审批状态的单据（库存溢损单）名单列表
	刺激：库存管理人员选择单据
	响应：系统打开该单据
	刺激：库存管理人员修改单据信息
	响应：系统标记该单据为草稿状态
	刺激：库存管理人员保存提交单据
	响应：系统将单据标记为待审批状态，然后保存并上传审批
	刺激：库存管理人员停止修改
	响应：系统单据的状态不改动
	刺激：库存管理人员输入数量为负数
	响应：系统提示数量不能为负数
	刺激：库存管理人员输入数量为小数
	响应：系统提示数量不能为小数

#### 3.2.7.3 相关功能需求
| 编号                                 | 需求描述与度量                                  |
| ---------------------------------- | ---------------------------------------- |
| EditInventoryBill.Input            | 系统应该允许库存管理人员在修改财务单据时进行键盘输入（输入）           |
| EditInventoryBill.Input.Store      | 库存管理人员保存提交时，系统保存新建单据，参见EditInventoryBill.Store |
| EditInventoryBill.Input.Status     | 库存管理人员一修改数据（输入），系统标记单据为草稿状态，参见EditInventoryBill.Status |
| EditInventoryBill.Input.End        | 库存管理人员结束修改，系统更改状态并更新单据，参见EditInventoryBill.End |
| EditInventoryBill.Input.Update     | 库存管理人员完成任务，系统更新数据与日志，参见EditInventoryBill.Update |
| EditInventoryBill.Show             | 库存管理人员选择库存单据时，系统返回一个制定相应单据的窗口（保留所有单据数据）（输出），参见用例5 |
| EditInventoryBill.Store            | 库存管理人员保存提交时，系统要保存新建的单据                   |
| EditInventoryBill.Store.Status     | 库存管理人员保存提交时（查询），系统在上传单据成功后要标记该单据为待审批状态，参见EditInventoryBill.Status |
| EditInventoryBill.Store.Upload     | 库存管理人员保存提交时（查询），系统在要将单据上传至审批单据的地方（默认总经理） |
| EditInventoryBill.Status           | 系统要记录单据的状态（一个单据只有一个状态）                   |
| EditInventoryBill.Status.Draft     | 库存管理人员打开一份待修改库存类单据并编辑过，系统将单据标记为草稿状态（逻辑文件） |
| EditInventoryBill.Status.Examining | 库存管理人员保存提交的库存单据被系统上传成功后，系统将单据标记为待审批状态（逻辑文件） |
| EditInventoryBill.End              | 系统允许库存管理人员结束修改库存类单据任务                    |
| EditInventoryBill.End.Update       | 在库存管理人员结束修改库存类单据任务时，系统要更新单据状态数据（逻辑文件），参见EditInventoryBill.Update |
| EditInventoryBill.End.Close        | 在库存管理人员确认修改库存类单据任务完成后（查询），系统关闭修改库存类单据任务开始新任务 |
| EditInventoryBill.Update           | 系统更新重要数据，更新操作日志（逻辑文件）                    |
| EditInventoryBill.Update.Draft     | 系统更新草稿状态的单据名单（逻辑文件）                      |
| EditInventoryBill.Update.NotAccept | 系统更新审批未通过状态的单据名单（逻辑文件）                   |
| EditInventoryBill.Update.Log       | 系统更新单据操作日志（逻辑文件）                         |

<br/>

### 3.2.8 客户管理

#### 3.2.8.1 特性描述
当客户信息需要管理时，一个已登陆的进货销售人员发起对客户信息的管理，包括对客户信息的增加、删除、修改、查看。<br/>
优先级 = 中

#### 3.2.8.2 刺激/响应序列
	刺激：进货销售人员查找客户
	响应：系统进行模糊查找并显示符合条件的客户
	刺激：进货销售人员查询信息不正确
	响应：系统提示没有符合条件的客户
	刺激：进货销售人员添加客户
	响应：系统添加客户，更新客户列表
	刺激：进货销售人员删除客户
	响应：系统删除该客户，更新客户列表
	刺激：进货销售人员修改客户信息
	响应：系统更新客户信息，更新客户列表
	刺激：进货销售人员查看客户信息
	响应：系统显示客户信息

#### 3.2.8.3 相关功能需求
| 编号                              | 需求描述与度量                                  |
| ------------------------------- | ---------------------------------------- |
| ManageClient.Input              | 系统允许进货销售人员在客户管理时（输出:客户管理主界面）进行键盘输入       |
| ManageClient.Input.Member       | 当用户输入客户信息时并查询时（输入，查询），系统显示客户信息，参见ManageClient.Member |
| ManageClient.Input.Add          | 当进货销售人员输入添加客户命令(查询)，系统执行添加客户任务，参见ManageClient.Add |
| ManageClient.Input.Delete       | 当进货销售人员选中客户，输入删除客户命令(查询)，系统执行删除客户任务，参见ManageClient.Delete |
| ManageClient.Input.Edit         | 当进货销售人员选中客户，输入编辑客户命令(查询),系统执行编辑客户信息任务，参见ManageClient.Edit |
| ManageClient.Input.Check        | 当进货销售人员选中客户，输入查看客户信息命令(查询)，系统执行查看客户信息任务，参见ManageClient.Check |
| ManageCLient.Member.Valid       | 在进货销售人员输入已有客户的信息（输入，逻辑文件），并输入查找客户命令(查询)，系统显示客户(输出) |
| ManageClient.Member.Invalid     | 在进货销售人员输入错误的信息，并输入查找客户命令时，提示没有相应客户       |
| ManageClient.Add                | 进货销售人员输入添加客户命令，系统执行添加客户任务                |
| ManageClient.Add.Finish         | 进货销售人员完成所有客户属性的输入(输入,逻辑文件)，包括：编号（自动生成）、分类（进货商、销售商）、级别（五级，一级普通用户，五级VIP客户）、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员确认无误后，输入添加客户命令(查询)，关闭本次任务，开始新的客户管理任务(输出) |
| ManageClient.Add.Null           | 进货销售人员在输入添加客户命令时，没有完成所有客户信息的输入，则系统提示输入客户信息不完整(输出) |
| ManageClient.Add.Cancel         | 进货销售人员在添加客户时输入取消命令(查询)，则关闭添加客户任务，开始新的任务(输出) |
| ManageClient.Add.ClientExisted  | 进货销售人员在输入添加客户命令时，客户的名字和电话与已存在的客户相同时，则系统提示客户已存在(输出) |
| ManageClient.Delete             | 进货销售人员选择某一客户，并输入删除客户命令，系统提示是否删除客户（输出）    |
| ManageClient.Delete.Finish      | 进货销售人员输入确认删除命令（查询），则删除客户（逻辑文件），关闭本次任务，开始新的客户管理任务（输出） |
| ManageClient.Delete.Cancel      | 进货销售人员输入取消删除命令，则不删除客户，关闭本次任务，开始新的客户管理任务（输出） |
| ManageClient.Edit               | 进货销售人员输入编辑客户命令，系统显示待编辑客户信息(输出)           |
| ManageCLient.Edit.Finish        | 进货销售人员修改客户信息(输入,逻辑文件)，并输入确认编辑命令(查询)，系统会更新客户信息(逻辑文件)，关闭本次任务，开始新的客户管理任务(输出) |
| ManageClient.Edit.Null          | 进货销售人员在输入确认编辑命令时，没有完成所有客户信息的输入，则系统提示输入的客户信息不完整(输出) |
| ManageClient.Edit.Cancel        | 进货销售人员在编辑客户信息时，输入取消删除命令，则关闭本次任务，开始新的客户管理任务 |
| ManageClient.Edit.ClientExisted | 进货销售人员在输入确认编辑命令时，客户的名字和电话与别的的客户相同时(逻辑文件)，则系统提示信息与其他客户重复(输出) |
| ManageCLient.Check              | 进货销售人员选择某一客户，并输入查看客户命令(查询)，系统会显示客户信息(输出，逻辑文件) |
| ManageClient.Update             | 系统更新重要信息，每个更新过程组成一个事务，要么全部更新，要么全部不更新     |
| ManageCLient.Update.Client      | 系统更新客户信息  (逻辑文件)                         |
| ManageClient.Update.List        | 系统更新客户列表(逻辑文件)                           |
| ManageClient.Update.Log         | 系统更新日志(逻辑文件)                             |

<br/>

### 3.2.9 制定进货单

#### 3.2.9.1 特性描述
当需要制定进货单时，一个已登录的进货销售人员制定进货单并提交，等待总经理的审批。<br/>
优先级 ＝ 较高

#### 3.2.9.2 刺激/响应序列
	刺激：进货销售人员开始制定进货单
	响应：系统显示新的进货单
	刺激：进货销售人员单据信息
	响应：系统更新单据信息
	刺激：进货销售人员添加商品
	响应：系统更新商品列表和总额
	刺激：进货销售人员填写备注，提交单据
	响应：系统上传单据，提示操作成功
	刺激：进货销售人员取消制定单据
	响应：系统保存单据草稿

#### 3.2.9.3 相关功能需求
| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| EstablishPurchaseTradeBill.Init          | 进货销售人员开始制定进货单（查询）,系统自动生成进货单（输出），并自动生成单据编号和操作员（输出） |
| EstablishPurchaseTradeBill.Init.ID       | 单据编号格式为：JHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子（逻辑文件） |
| EstablishPurchaseTradeBill.Init.Overflow | 当制定的进货单数单天超过99999条时，系统提示超过单日进货单上限 （输出）   |
| EstablishPurchaseTradeBill.Init.Operator | 在制定进货单时，系统会自动将操作员信息添加到进货单中（逻辑文件）         |
| EstablishPurchaseTradeBill.Input         | 系统允许进货销售人员添加进货单信息                        |
| EstablishPurchaseTradeBill.Input.Supplier | 在制定进货单时，需要输入供应商信息，添加到进货单中（输入，逻辑文件）       |
| EstablishPurchaseTradeBill.Input.Repository | 在制定进货单时，需要输入仓库信息，添加到进货单中（输入，逻辑文件）        |
| EstablishPurchaseTradeBill.Input.Goods   | 进货销售人员输入添加商品命令（查询），系统执行添加商品任务，参见EstablishPurchaseTradeBill.Goods |
| EstablishPurchaseTradeBill.Input.Comments | 在制定进货单时，需要输入备注（输入，逻辑文件）                  |
| EstablishPurchaseTradeBill.Input.Cancel  | 制定进货单时，如果供应商想要取消交易，进货销售人员输入取消命令，系统关闭制定进货单任务（查询，输出） |
| EstablishPurchaseTradeBill.Goods         | 系统显示该供应商的所有商品（逻辑文件，输出）,进货销售人员可以选中商品，添加到入库商品列表中（查询） |
| EstablishPurchaseTradeBill.Goods.Info    | 添加到入库商品列表的商品，应该显示：编号、型号、金额、名称、单价（默认为进价）、退货数量（默认为1）和商品备注（默认无）（输出，逻辑文件） |
| EstablishPurchaseTradeBill.Goods.SetInfo | 对于入库商品列表中的商品，进货销售人员可以更改其数量和商品备注（输入，逻辑文件） |
| EstablishPurchaseTradeBill.Goods.WrongInput | 进货销售人员输入商品数量不是正整数（逻辑文件），系统提示输入的商品数量错误（输出） |
| EstablishPurchaseTradeBill.Goods.Del     | 选中某个商品，输入删除商品命令，可以将其从入库商品列表中删除（查询，输出）    |
| EstablishPurchaseTradeBill.Calculate     | 商品添加时，总额会自动计算并更新（输出，逻辑文件）                |
| EstablishPurchaseTradeBill.Calculate.Null | 商品列表中没有商品时，总价为0                          |
| EstablishPurchaseTradeBill.End           | 进货销售人员提交进货单，结束制定进货单任务                    |
| EstablishPurchaseTradeBill.End.Finish    | 进货销售人员完成所有输入且正确无误，输入提交单据命令（查询），则进货单上传，系统提示操作成功（输出） |
| EstablishPurchaseTradeBill.End.Null      | 进货销售人员未完成所有输入（逻辑文件），输入提交单据命令，系统提示单据信息不完整（输出） |
| EstablishPurchaseTradeBill.End.Update    | 进货单上传后，系统更新数据，参见EstablishPurchaseTradeBill.Update |
| EstablishPurchaseTradeBill.End.Close     | 进货单上传后，系统关闭制定进货单任务（输出）                   |
| EstablishPurchaseTradeBill.Update        | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新     |
| EstablishPurchaseTradeBill.Update.Log    | 系统更新日志信息（逻辑文件）                           |
| EstablishPurchaseTradeBill.Update.State  | 系统更新单据的状态信息（逻辑文件）                        |

<br/>

### 3.2.10 制定进货退货单

#### 3.2.10.1 特性描述
当需要制定进货退货单时，一个已登录的进货销售人员制定进货退货单并提交，等待总经理的审批。<br/>
优先级 ＝ 较高

#### 3.2.10.2 刺激/响应序列
	刺激：进货销售人员开始制定进货退货单
	响应：系统显示新的进货退货单
	刺激：进货销售人员输入单据信息
	响应：系统更新单据信息
	刺激：进货销售人员添加商品
	响应：系统更新商品列表和总额
	刺激：进货销售人员填写备注，提交单据
	响应：系统上传单据，提示操作成功
	刺激：进货销售人员取消制定单据
	响应：系统保存单据草稿

#### 3.2.10.3 相关功能需求
| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| EstablishPurchaseRefundBill.Init         | 进货销售人员开始制定进货退货单（查询）,系统自动生成进货退货单（输出），并自动生成单据编号和操作员（输出） |
| EstablishPurchaseRefundBill.Init.ID      | 单据编号格式为：JHTHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子（逻辑文件） |
| EstablishPurchaseRefundBill.Init.Overflow | 当制定的进货退货单数单天超过99999条时，系统提示超过单日进货退货单上限 （输出） |
| EstablishPurchaseRefundBill.Init.Operator | 在制定进货退货单时，系统会自动将操作员信息添加到进货退货单中（逻辑文件）     |
| EstablishPurchaseRefundBill.Input        | 系统允许进货销售人员添加进货退货单信息                      |
| EstablishPurchaseRefundBill.Input.Supplier | 在制定进货退货单时，需要输入供应商信息，添加到进货退货单中（输入，逻辑文件）   |
| EstablishPurchaseRefundBill.Input.Repository | 在制定进货退货单时，需要输入仓库信息，添加到进货单退货单中（输入，逻辑文件）   |
| EstablishPurchaseRefundBill.Input.Goods  | 进货销售人员输入添加商品命令（查询），系统执行添加商品任务，参见EstablishPurchaseTradeBill.Goods |
| EstablishPurchaseRefundBill.Input.Comments | 在制定进货退货单时，需要输入备注（输入，逻辑文件）                |
| EstablishPurchaseRefundBill.Input.Cancel | 制定进货退货单时，如果供应商想要取消交易，进货销售人员输入取消命令，系统关闭制定进货退货单任务（查询，输出） |
| EstablishPurchaseRefundBill.Goods        | 系统显示该供应商的所有商品（逻辑文件，输出）,进货销售人员可以选中商品，添加到出库商品列表中（查询） |
| EstablishPurchaseRefundBill.Goods.Info   | 添加到出库商品列表的商品，应该显示：编号、型号、金额、名称、单价（默认为进价）、退货数量（默认为1）和商品备注（默认无）（输出，逻辑文件） |
| EstablishPurchaseRefundBill.Goods.SetInfo | 对于出库商品列表中的商品，进货销售人员可以更改其数量和商品备注（输入，逻辑文件） |
| EstablishPurchaseRefundBill.Goods.WrongInput | 进货销售人员输入商品数量不是正整数（逻辑文件），系统提示输入的商品数量错误（输出） |
| EstablishPurchaseRefundBill.Goods.Over   | 进货销售人员输入商品数量超过库存数（逻辑文件），系统提示库存不足（输出）     |
| EstablishPurchaseRefundBill.Goods.Del    | 选中某个商品，输入删除商品命令，可以将其从出库商品列表中删除（查询，输出）    |
| EstablishPurchaseRefundBill.Calculate    | 商品添加时，总额会自动计算并更新（输出，逻辑文件）                |
| EstablishPurchaseRefundBill.Calculate.Null | 商品列表中没有商品时，总价为0                          |
| EstablishPurchaseRefundBill.End          | 进货销售人员提交进货退货单，结束制定进货退货单任务                |
| EstablishPurchaseRefundBill.End.Finish   | 进货销售人员完成所有输入且正确无误，输入提交单据命令（查询），则进货退货单上传，系统提示操作成功（输出） |
| EstablishPurchaseRefundBill.End.Null     | 进货销售人员未完成所有输入（逻辑文件），输入提交单据命令，系统提示单据信息不完整（输出） |
| EstablishPurchaseRefundBill.End.Update   | 进货退货单上传后，系统更新数据，参见EstablishPurchaseRefundBill.Update |
| EstablishPurchaseRefundBill.End.Close    | 进货退货单上传后，系统关闭制定进货退货单任务（输出）               |
| EstablishPurchaseRefundBill.Update       | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新     |
| EstablishPurchaseRefundBill.Update.Log   | 系统更新日志信息（逻辑文件）                           |
| EstablishPurchaseRefundBill.Update.State | 系统更新单据的状态信息（逻辑文件）                        |

<br/>

### 3.2.11 制定销售单

#### 3.2.11.1 特性描述
当需要制定销售单时，一个已登录的进货销售人员制定销售单并提交，等待总经理的审批。<br/>
优先级 ＝ 较高

#### 3.2.11.2 刺激/响应序列
	刺激：进货销售人员开始制定销售单
	响应：系统显示新的销售单
	刺激：进货销售人员输入单据信息
	响应：系统更新单据信息
	刺激：进货销售人员添加商品
	响应：系统更新商品列表和总额
	刺激：进货销售人员设置折让金额和使用代金卷金额
	响应：系统更新商品总额
	刺激：进货销售人员填写备注，提交单据
	响应：系统上传单据，提示操作成功
	刺激：进货销售人员取消制定单据
	响应：系统保存单据草稿

#### 3.2.11.3 相关功能需求
| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| EstablishSaleTradeBill.Init              | 进货销售人员开始制定销售单（查询）,系统自动生成销售单（输出），并自动生成单据编号和操作员（输出） |
| EstablishSaleTradeBill.Init.ID           | 单据编号格式为：XSD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子（逻辑文件） |
| EstablishSaleTradeBill.Init.Overflow     | 当制定的销售单数单天超过99999条时，系统提示超过单日销售单上限（输出）    |
| EstablishSaleTradeBill.Init.Operator     | 在制定销售单时，系统会自动将操作员信息添加到销售单中（逻辑文件）         |
| EstablishSaleTradeBill.Input             | 系统允许进货销售人员添加销售单信息                        |
| EstablishSaleTradeBill.Input.Seller      | 在制定销售单时，需要输入销售商信息，添加到销售单中（输入，逻辑文件）       |
| EstablishSaleTradeBill.Input.Repository  | 在制定销售单时，需要输入仓库信息，添加到销售单中（输入，逻辑文件）        |
| EstablishSaleTradeBill.Input.Promotion   | 在制定销售单时，需要选择促销策略，添加到销售单中（输入，逻辑文件），参见Establish.Promotion |
| EstablishSaleTradeBill.Input.Salesman    | 在制定销售单时，需要输入业务员信息，添加到销售单中（输入，逻辑文件）       |
| EstablishSaleTradeBill.Input.Goods       | 进货销售人员输入添加商品命令（查询），系统执行添加商品任务，参见EstablishPurchaseTradeBill.Goods |
| EstablishSaleTradeBill.Input.Comments    | 在制定销售单时，需要输入备注（输入，逻辑文件）                  |
| EstablishSaleTradeBill.Input.Cancel      | 制定销售单时，如果销售商想要取消交易，进货销售人员输入取消命令，系统关闭制定销售单任务（查询，输出） |
| EstablishSaleTradeBill.Goods             | 系统显示该销售商的所有商品（逻辑文件，输出）,进货销售人员可以选中商品，添加到出货商品清单中（查询） |
| EstablishSaleTradeBill.Goods.Info        | 添加到出货商品清单的商品，应该显示：编号、型号、金额、名称、单价（默认为进价）、退货数量（默认为1）和商品备注（默认无）（输出，逻辑文件） |
| EstablishSaleTradeBill.Goods.SetInfo     | 对于出库商品列表中的商品，进货销售人员可以更改其数量和商品备注（输入，逻辑文件） |
| EstablishSaleTradeBill.Goods.WrongInput  | 进货销售人员输入商品数量不是正整数（逻辑文件），系统提示输入的商品数量错误（输出） |
| EstablishSaleTradeBill.Goods.Over        | 进货销售人员输入商品数量超过库存数（逻辑文件），系统提示库存不足（输出）     |
| EstablishSaleTradeBill.Goods.Del         | 选中某个商品，输入删除商品命令，可以将其从出货商品清单中删除（查询，输出）    |
| EstablishSaleTradeBill.Discount          | 在制定销售单时，需要输入折让金额（输入，逻辑文件）                |
| EstablishSaleTradeBill.Discount.OverPermission | 在制定销售单时，输入的折让金额超过权限（普通销售员1000，销售经理5000），系统会提示折让金额超过权限（逻辑文件，输出） |
| EstablishSaleTradeBill.Discount.WrongInput | 在制定销售单时，输入的折让金额不是非负整数，系统提示输入的折让金额错误（逻辑文件，输出） |
| EstablishSaleTradeBill.Promotion         | 在制定销售单时，可以使用促销策略                         |
| EstablishSaleTradeBill.Promotion.Coupon  | 根据促销策略得出使用代金卷金额（逻辑文件）                    |
| EstablishSaleTradeBill.Promotion.Gift    | 根据促销策略得出赠品列表（逻辑文件）                       |
| EstablishSaleTradeBill.Calculate         | 商品添加时，总额会自动计算并更新（输出，逻辑文件）                |
| EstablishSaleTradeBill.Calculate.Null    | 商品列表为空时，总价显示为0                           |
| EstablishSaleTradeBill.Calculate.Amount  | 根据使用代金卷金额和折让金额计算折让后总价（逻辑文件）              |
| EstablishSaleTradeBill.Calculate.Minus   | 代金卷金额和折让金额使得折让后总额为负数，则系统提示错误（输出）         |
| EstablishSaleTradeBill.End               | 进货销售人员提交销售单，结束制定销售单任务                    |
| EstablishSaleTradeBill.End.Finish        | 进货销售人员完成所有输入且正确无误，输入提交单据命令（查询），则销售单上传，系统提示操作成功（输出） |
| EstablishSaleTradeBill.End.Null          | 进货销售人员未完成所有输入（逻辑文件），输入提交单据命令，系统提示单据信息不完整（输出） |
| EstablishSaleTradeBill.End.Update        | 销售单上传后，系统更新数据，参见EstablishSaleTradeBill.Update |
| EstablishSaleTradeBill.End.Close         | 销售单上传后，系统关闭制定销售单任务（输出）                   |
| EstablishSaleTradeBill.Update            | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新     |
| EstablishSaleTradeBill.Update.Log        | 系统更新日志信息（逻辑文件）                           |
| EstablishSaleTradeBill.Update.State      | 系统更新单据的状态信息（逻辑文件）                        |

<br/>

### 3.2.12 制定销售退货单

#### 3.2.12.1 特性描述
当需要制定销售退货单时，一个已登录的进货销售人员制定销售退货单并提交，等待总经理的审批。<br/>
优先级 ＝ 较高

#### 3.2.12.2 刺激/响应序列
	刺激：进货销售人员开始制定销售退货单
	响应：系统显示新的销售退货单
	刺激：进货销售人员输入单据信息
	响应：系统更新单据信息
	刺激：进货销售人员添加商品
	响应：系统更新商品列表和总额
	刺激：进货销售人员设置折让金额和使用代金卷金额
	响应：系统更新商品总额
	刺激：进货销售人员填写备注，提交单据
	响应：系统上传单据，提示操作成功
	刺激：进货销售人员取消制定单据
	响应：系统保存单据草稿

#### 3.2.12.3 相关功能需求
| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| EstablishSaleRefundBill.Init             | 进货销售人员开始制定销售退货单（查询）,系统自动生成销售退货单（输出），并自动生成单据编号和操作员（输出） |
| EstablishSaleRefundBill.Init.ID          | 单据编号格式为：XSTHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子（逻辑文件） |
| EstablishSaleRefundBill.Init.Overflow    | 当制定的销售退货单数单天超过99999条时，系统提示超过单日销售退货单上限（输出） |
| EstablishSaleRefundBill.Init.Operator    | 在制定销售单时，系统会自动将操作员信息添加到销售单中（逻辑文件）         |
| EstablishSaleRefundBill.Input            | 系统允许进货销售人员添加销售退货单信息                      |
| EstablishSaleRefundBill.Input.Seller     | 在制定销售单时，需要输入销售商信息，添加到销售单中（输入，逻辑文件）       |
| EstablishSaleRefundBill.Input.Repository | 在制定销售单时，需要输入仓库信息，添加到销售单中（输入，逻辑文件）        |
| EstablishSaleRefundBill.Input.Salesman   | 在制定销售单时，需要输入业务员信息，添加到销售单中（输入，逻辑文件）       |
| EstablishSaleRefundBill.Input.Goods      | 进货销售人员输入添加商品命令（查询），系统执行添加商品任务，参见EstablishPurchaseTradeBill.Goods |
| EstablishSaleRefundBill.Input.Comments   | 在制定销售单时，需要输入备注（输入，逻辑文件）                  |
| EstablishSaleRefundBill.Input.Cancel     | 制定销售单时，如果销售商想要取消交易，进货销售人员输入取消命令，系统关闭制定销售单任务（查询，输出） |
| EstablishSaleRefundBill.Goods            | 系统显示该销售商的所有商品（逻辑文件，输出）,进货销售人员可以选中商品，添加到出货商品清单中（查询） |
| EstablishSaleRefundBill.Goods.Info       | 添加到出货商品清单的商品，应该显示：编号、型号、金额、名称、单价（默认为进价）、退货数量（默认为1）和商品备注（默认无）（输出，逻辑文件） |
| EstablishSaleRefundBill.Goods.SetInfo    | 对于出库商品列表中的商品，进货销售人员可以更改其数量和商品备注（输入，逻辑文件） |
| EstablishSaleRefundBill.Goods.WrongInput | 进货销售人员输入商品数量不是正整数（逻辑文件），系统提示输入的商品数量错误（输出） |
| EstablishSaleRefundBill.Goods.Del        | 选中某个商品，输入删除商品命令，可以将其从出货商品清单中删除（查询，输出）    |
| EstablishSaleRefundBill.Calculate        | 商品添加时，总额会自动计算并更新（输出，逻辑文件）                |
| EstablishSaleRefundBill.Calculate.Null   | 商品列表中没有商品时，总价为0                          |
| EstablishSaleRefundBill.End              | 进货销售人员提交销售单，结束制定销售单任务                    |
| EstablishSaleRefundBill.End.Finish       | 进货销售人员完成所有输入且正确无误，输入提交单据命令（查询），则销售单上传，系统提示操作成功（输出） |
| EstablishSaleRefundBill.End.Null         | 进货销售人员未完成所有输入（逻辑文件），输入提交单据命令，系统提示单据信息不完整（输出） |
| EstablishSaleRefundBill.End.Update       | 销售单上传后，系统更新数据，参见EstablishSaleTradeBill.Update |
| EstablishSaleRefundBill.End.Close        | 销售单上传后，系统关闭制定销售单任务（输出）                   |
| EstablishSaleRefundBill.Update           | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新     |
| EstablishSaleRefundBill.Update.Log       | 系统更新日志信息（逻辑文件）                           |
| EstablishSaleRefundBill.Update.State     | 系统更新单据的状态信息（逻辑文件）                        |

<br/>

### 3.2.13 修改进销类单据

#### 3.2.13.1 特性描述
当需要修改进销类单据时，一个已登录的进货销售人员修改进销类单据并提交，等待总经理的审批。<br/>
优先级 ＝ 较高

#### 3.2.13.2 刺激/相应序列
	刺激：进货销售人员开始修改进销类单据任务
	响应：系统返回草稿状态和未审批状态的单据进销类单据
	刺激：进货销售人员点击某个单据
	响应：系统在编辑窗口打开该单据
	刺激：进货销售人员修改单据信息
	响应：系统更新单据信息
	刺激：财务人员保存提交单据
	响应：系统将单据改为待审批状态，并上传
	刺激：进货销售人员取消制定单据
	响应：系统保存单据为草稿状态

#### 3.2.13.3 相关功能需求
| 功能需求                                     | 详细需求描述                                   |
| ---------------------------------------- | ---------------------------------------- |
| EditPurchaseSaleBill.Start               | 系统应该能在进货销售人员开始修改单据任务时显示所有要修改的进销类单据（进货单/进货退货单/销售单/销售退货单）（输出） |
| EditPurchaseSaleBill.Start.List          | 进货销售人员开始修改进销类单据任务时，系统显示相应的单据（输出），参见EditPurchaseSaleBill.State |
| EditPurchaseSaleBill.Input               | 系统应该允许收银员在修改财务单据时进行键盘输入（输入）              |
| EditPurchaseSaleBill.Input.State         | 进货销售人员修改数据（输入），系统标记单据为草稿状态（逻辑文件），参见EditPurchaseSaleBill.State |
| EditPurchaseSaleBill.Input.Edit          | 进货销售人员修改单据信息，参见EditPurchaseSaleBill.Edit |
| EditPurchaseSaleBill.Input.Cancel        | 财务人员输入取消命令时，系统关闭修改进销类单据任务（查询，输出）         |
| EditPurchaseSaleBill.Edit                | 进货人员可以修改所有进销类单据的信息，并上传单据                 |
| EditPurchaseSaleBill.Edit.PurchaseTradeBill | 进货销售人员打开待修改的进货单（查询），修改相应信息（输入），并上传单据（逻辑文件），详见用例9 |
| EditPurchaseSaleBill.Edit.PurchaseRefundBill | 进货销售人员打开待修改的进货退货单（查询），修改相应信息（输入），并上传单据（逻辑文件），详见用例10 |
| EditPurchaseSaleBill.Edit.SaleTradeBill  | 进货销售人员打开待修改的销售单（查询），修改相应信息（输入），并上传单据（逻辑文件），详见用例11 |
| EditPurchaseSaleBill.Edit.SaleRefundBill | 进货销售人员打开待修改的销售退货单（查询），修改相应信息（输入），并上传单据（逻辑文件），详见用例12 |
| EditPurchaseSaleBill.Edit.Invalid        | 进货销售人员修改进货类单据时输入非法的信息（输入，逻辑文件），系统提示信息错误（输出），关于非法的判定参见用例9-12 |
| EditPurchaseSaleBill.State               | 系统要记录单据的状态（草稿、待审批、审批不通过、审批通过），能修改的只有草稿和审批不通过的单据（逻辑文件） |
| EditPurchaseSaleBill.State.Draft         | 进货销售人员制定或编辑单据后并未提交（查询），系统将单据标记为草稿状态（逻辑文件） |
| EditPurchaseSaleBill.State.Examining     | 单据成功上传后，系统将单据标记为待审批状态（逻辑文件）              |
| EditPurchaseSaleBill.State.Accepted      | 总经理审批通过的单据是审批通过状态（逻辑文件）                  |
| EditPurchaseSaleBill.State.NotAccepted   | 总经理审批不通过的单据是审批不通过状态（逻辑文件）                |
| EditPurchaseSaleBill.End                 | 系统允许进货销售人员结束修改进销类单据单据任务                  |
| EditPurchaseSaleBill.End.Update          | 在进货销售人员结束修改财务单据任务时，系统要更新单据状态数据，参见EditPurchaseSaleBill.Update |
| EditPurchaseSaleBill.End.Close           | 在进货销售人员完成修改进销类单据任务后，系统关闭修改进销类单据任务（输出）    |
| EditPurchaseSaleBill.Update              | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新     |
| EditPurchaseSaleBill.Update.State        | 系统更新单据状态（逻辑文件），变更规则参见EditPurchaseSaleBill.State |
| EditPurchaseSaleBill.Update.Log          | 系统更新单据操作日志（逻辑文件）                         |

<br/>

### 3.2.14 账户管理

#### 3.2.14.1 特性描述
财务人员在取得最高权限的情况下，对公司银行账户进行查询、增加、删除和修改属性的操作。<br/>
优先级 = 中

#### 3.2.14.2 刺激/响应序列
	刺激：财务人员输入新账户和名称
	响应：系统增加新账户，更新账户名单
	刺激：财务人员新建账户输入的账户已存在
	响应：系统提示账户已存在
	刺激：财务人员输入待查找账户关键字
	响应：系统返回匹配的账户列表
	刺激：财务人员输入的关键字无匹配
	响应：系统返回空列表
	刺激：财务人员点击一个账户列表中的一个账户
	响应：系统返回选中账户的名称和余额信息
	刺激：财务人员修改账户的名称
	响应：系统更新账户的新名称
	刺激：财务人员删除一个账户
	响应：系统将账户删除
	刺激：财务人员修改了账户数据并结束账户管理任务
	响应：系统记录操作日志并返回财务管理界面

#### 3.2.14.3 相关功能需求
| 编号                                   | 需求描述与度量                                  |
| ------------------------------------ | ---------------------------------------- |
| AccountManage.priority               | 系统在财务人员进行账户管理任务时，检查当前财务人员是否取得最高权限        |
| AccountManage.priority.Succ          | 财务人员已经取得最高权限，系统允许财务人员进行账户管理操作            |
| AccountManage.priority.Fail          | 财务人员没有取得最高权限，系统不允许进行账户管理操作，提示权限不够（输出）    |
| AccountManage.Input                  | 系统允许财务人员进行账户管理时键盘输入（输入）                  |
| AccountManage.Input.Finish           | 当财务人员的信息输入不完整时（输入），系统提示输入不完整（输出）         |
| AccountManage.Input.Account          | 财务人员请求输入账户时（输入），系统要记录账户（逻辑文件），参见AccountManage.Account |
| AccountManage.Account.New            | 财务人员新建账户时，系统要标记输入的新建账户的状态（逻辑文件）          |
| AccountManage.Account.New.Succ       | 当输入的新建账户不存在时（逻辑文件）（输入），系统保存新账户（逻辑文件），更新账户列表，并提示新建账户成功（输出） |
| AccountManage.Account.New.Fail       | 当输入的新建账户已存在时（逻辑文件），系统拒绝创建该账户，并给出账户已存在警告（输出） |
| AccountManage.Account.New.Name.Null  | 财务人员新建账户时未输入账户名称（输入），系统提示请输入新账户名称（输出）    |
| AccountManage.Account.New.Cancle     | 财务人员取消新建账户时，系统关闭新建账户输入任务，返回账户管理任务        |
| AccountManage.Account.Search.Valid   | 财务人员在输入框中输入已存在的账户关键字（输入）（逻辑文件），系统返回模糊查找匹配的名单列表（查询）（输入） |
| AccountManage.Account.Search.Invalid | 财务人员在输入框中输入不存在的账户关键字时（输入）（逻辑文件），系统返回空列表（输出） |
| AccountManage.Account.Detail         | 财务人员选中账户名单列表中的一个账户，系统返回该账户的名称和余额（输出）（逻辑文件） |
| AccountManage.Account.Edit           | 财务人员修改账户属性时，系统只允许修改账户名称，不允许修改账户余额        |
| AccountManage.Account.Edit.Name      | 财务人员输入账户的新名称（输入），系统更新该账户的名称（逻辑文件）        |
| AccountManage.Account.Edit.Cancle    | 财务人员取消修改账户属性，系统关闭当前修改账户属性任务，返回查看账户详情任务   |
| AccountManage.Account.Del            | 财务人员删除账户，系统删除账户，并更新账户名单（逻辑文件），提示删除成功（输出） |
| AccountManage.End                    | 系统允许财务人员结束账户管理任务                         |
| AccountManage.End.Update             | 在财务人员要求结束账户管理任务后，系统要更新账户数据（逻辑文件），参见AccountManage.Update |
| AccountManage.End.Close              | 在财务人员确认结束账户管理任务后，系统关闭账户管理任务              |
| AccountManage.Update                 | 系统更新重要数据（逻辑文件），在账户信息发生更改时，系统就更新账户的数据，结束时更新操作日志（逻辑文件） |
| AccountManage.Update.Account         | 系统更新账户名单（逻辑文件）                           |
| AccountManage.Update.AccountName     | 系统更新账户名单中的账户名称（逻辑文件）                     |
| AccountManage.Update.Log             | 系统记录账户管理任务中的操作日志（逻辑文件）                   |

<br/>

### 3.2.15 制定收付款单

#### 3.2.15.1 特性描述
公司签订销售货物的订单后，财务人员根据从进货销售人员处获取的数据，新建一张收款单或者付款单，系统保存单据并且上传审批，系统记录操作日志。<br/>
优先级 = 高

#### 3.2.15.2 刺激/响应序列
	刺激：财务人员进入制定收付款单任务
	响应：系统自动生成单据编号
	刺激：财务人员进入任务前，上一个单据编号的后五位已达99999,
	响应：系统提示单据建立已达上限
	刺激：财务人员输入客户（同时包含供应商和销售商）和转账列表（包括：银行账户，转账金额，备注）信息
	响应：系统标记单据为草稿状态，自动填充操作员（当前登录用户）信息，并且计算并添加总额汇总
	刺激：财务人员没有填写完毕客户和转账列表信息
	响应：系统提示信息填写不完整
	刺激：财务人员填写的银行账户、转账金额非数字字符（金额允许逗号分隔）
	响应：系统提示输入的信息有误
	刺激：财务人员填写的转账金额导致计算总额汇总时溢出
	响应：系统提示数据溢出
	刺激：财务人员核对后保存提交单据
	响应：系统将单据标记为待审批状态，然后保存并上传审批
	刺激：财务人员结束制定收付款单任务
	响应：系统记录操作日志并返回财务管理界面

#### 3.2.15.3 相关功能需求
| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| EstablishSFKD.Input                      | 系统应该允许收银员在制定收付款单时进行键盘输入（输入）              |
| EstablishSFKD.Input.Status               | 财务人员一输入数据（输入），系统标记生成的单据为草稿状态（逻辑文件），参见EstablishSFKD.Status |
| EstablishSFKD.Input.Invalid              | 当输入的数据不正确时（输入），系统不允许保存提交                 |
| EstablishSFKD.Input.Cancel               | 财务人员取消输入时，系统抛弃输入的数据，关闭制定收付款单任务，返回财务管理任务  |
| EstablishSFKD.Input.Type                 | 财务人员选择制定的单据类型（输入），包括收款单和付款单              |
| EstablishSFKD.Input.Type.Serial          | 财务人员选择制定的单据类型后，系统自动生成对应的单据编号（逻辑文件）（输出）   |
| EstablishSFKD.Input.Type.Serial.Full     | 当单据编号后5位已达上限，系统提示单据已达上限（输出），并关闭制定收付款单任务，返回财务管理任务 |
| EstablishSFKD.Input.Client               | 财务人员输入客户信息时（输入），系统检查输入的客户信息              |
| EstablishSFKD.Input.Client.Null          | 财务人员输入的客户信息为空时（输入），系统提示客户信息不完整（输出）       |
| EstablishSFKD.Input.TransList            | 财务人员输入转账列表信息时（输入），系统检查所填写的信息，参见EstablishSFKD.TransList |
| EstablishSFKD.TransList.Null             | 财务人员输入转账列表信息时（输入），如果没有输入完整除备注以外的其它信息，系统提示输入不完整（输出） |
| EstablishSFKD.TransList.Robot            | 财务人员进入制定收付款单任务时，系统自动附加操作员信息（输出）（，并在财务人员输入完整转账列表后，计算并添加总额汇总（输出），参见EstablishSFKD.Robot |
| EstablishSFKD.TransList.BankAccount      | 财务人员输入转账列表中的银行账户时（输入），系统检查银行账户格式         |
| EstablishSFKD.TransList.BankAccount.Null | 财务人员在输入转账列表的银行账户留空时（输入），系统提示银行账户不能为空（输出） |
| EstablishSFKD.TransList.BankAccount.Sign | 财务人员输入转账列表的银行账户满足某银行账户的格式时（系统预留常用银行的银行账户格式，后期可以添加）（输入），系统显示银行账户归属银行（输出） |
| EstablishSFKD.TransList.BankAccount.Sign.Fail | 财务人员输入转账列表的银行账户找不到匹配的银行时（输入），系统警告财务人员重新确认输入的账户（输出） |
| EstablishSFKD.TransList.BankAccount.Invalid | 财务人员输入转账列表的银行账户包含非数字字符时（输入），系统提示输入银行账户有误（输出） |
| EstablishSFKD.TransList.Money.Null       | 财务人员在输入转账列表的转账金额留空时（输入），系统提示转账金额不能为空（输出） |
| EstablishSFKD.TransList.Money.Invalid    | 财务人员输入转账列表的转账金额包含非数字字符时（允许逗号分隔金额）（输入），系统提示输入金额有误（输出） |
| EstablishSFKD.Robot.AddOperator          | 财务人员进入制定收付款单任务时，系统将当前登录用户标识为操作员（输出），并写入收、付款单（逻辑文件）（输出） |
| EstablishSFKD.Robot.Calc                 | 财务人员填写完整转账列表时（输入），系统自动计算并添加总额汇总（输出）      |
| EstablishSFKD.Robot.Calc.Invalid         | 财务人员提供的转账金额导致系统计算的数据溢出，系统提示重新输入转账金额（输出）  |
| EstablishSFKD.Store                      | 财务人员保存提交时，系统要保存新建的收、付款单（逻辑文件）            |
| EstablishSFKD.Store.Status               | 财务人员保存提交时，系统在上传单据成功后要标记该单据为待审批状态（逻辑文件），参见EstablishSFKD.Status |
| EstablishSFKD.Store.Upload               | 财务人员保存提交时，系统在要将单据上传至审批单据的地方（默认总经理）（对外接口） |
| EstablishSFKD.Status                     | 系统要记录单据的状态（逻辑文件），以便财务人员能跟踪或修改            |
| EstablishSFKD.Status.Draft               | 财务人员新建一份收、付款单并编辑过（逻辑文件），系统将单据标记为草稿状态（逻辑文件） |
| EstablishSFKD.Status.Examining           | 财务人员新建的收、付款单被系统上传成功后（对外接口），系统将单据标记为待审批状态（逻辑文件） |
| EstablishSFKD.End                        | 系统允许财务人员结束制定收付款单任务                       |
| EstablishSFKD.End.Update                 | 在财务人员结束制定收付款单任务时，系统要更新单据数据（逻辑文件），参见EstablishSFKD.Update |
| EstablishSFKD.End.Close                  | 在财务人员确认制定收付款单完成后，系统关闭制定收付款单任务            |
| EstablishSFKD.Update                     | 系统更新重要数据（逻辑文件），在财务人员保存提交时，系统才会更新单据信息，结束时更新操作日志（逻辑文件） |
| EstablishSFKD.Update.Self                | 系统更新单据数据（逻辑文件）                           |
| EstablishSFKD.Update.Log                 | 系统更新单据操作日志（逻辑文件）                         |

<br/>

###3.2.16 制定现金费用单

####3.2.16.1 特性描述
公司签订单后，财务人员根据从进货销售人员处获取的数据，新建一张现金费用单，保存提交后上传审批，系统记录操作日志。此单用于管理报销。<br/>
优先级 = 高

#### 3.2.16.2 刺激/相应序列
	刺激：财务人员进入制定现金费用单任务
	响应：系统自动生成单据编号
	刺激：财务人员进入任务前，上一个单据编号的后五位已达99999,
	响应：系统提示单据建立已达上限
	刺激：财务人员输入银行账户、条目清单（包括：条目名，金额，备注）
	响应：系统标记单据为操作状态，自动填充操作员（当前登录用户）信息，计算总额汇总
	刺激：财务人员没有填写完毕客户和条目清单信息
	响应：系统提示信息填写不完整
	刺激：财务人员填写的银行账户、条目清单金额非数字字符（金额允许逗号分隔）
	响应：系统提示输入的信息有误
	刺激：财务人员填写的金额导致计算总额汇总时溢出
	响应：系统提示数据溢出
	刺激：财务人员核对后保存提交
	响应：系统将单据标记为待审批状态，然后保存并上传审批
	刺激：财务人员结束制定现金费用单任务
	响应：系统记录操作日志并返回财务管理界面

#### 3.2.16.3 相关功能需求
| 编号                                    | 需求描述与度量                                  |
| ------------------------------------- | ---------------------------------------- |
| EstablishXJFYD.Input                  | 系统应该允许收银员在制定现金费用单时进行键盘输入（输入）             |
| EstablishXJFYD.Input.Status           | 财务人员一输入数据（输入），系统标记生成的单据为草稿状态（逻辑文件），参见EstablishXJFYD.Status |
| EstablishXJFYD.Input.Invalid          | 当输入的数据不正确时（输入），系统不允许保存提交                 |
| EstablishXJFYD.Input.Cancel           | 财务人员取消输入时，系统抛弃输入的数据，关闭制定现金费用单任务，返回财务管理任务 |
| EstablishXJFYD.BankAccount            | 财务人员输入的银行账户时（输入），系统检查银行账户格式              |
| EstablishXJFYD.BankAccount.Null       | 财务人员在输入的银行账户留空时（输入），系统提示银行账户不能为空（输出）     |
| EstablishXJFYD.BankAccount.Sign       | 财务人员输入的银行账户满足某银行账户的格式时（系统预留常用银行的银行账户格式，后期可以添加）（输入），系统显示银行账户归属银行（输出） |
| EstablishXJFYD.BankAccount.Sign.Fail  | 财务人员输入的银行账户找不到匹配的银行时（输入），系统警告财务人员重新确认输入的账户（输出） |
| EstablishXJFYD.BankAccount.Invalid    | 财务人员输入的银行账户包含非数字字符时（输入），系统提示输入银行账户有误（输出） |
| EstablishXJFYD.Input.ItemList         | 财务人员输入条目清单信息时（输入），系统检查所填写的信息，参见EstablishXJFYD.ItemList |
| EstablishXJFYD.ItemList.Null          | 财务人员输入条目清单信息时，如果没有输入完整除备注以外的其它信息，系统提示输入不完整（输出） |
| EstablishXJFYD.ItemList.Robot         | 财务人员进入制定现金费用单任务时，系统自动附加单据编号以及操作员信息（输出），并在财务人员输入完整条目清单后（输入)，计算并添加总额汇总（输出），参见EstablishXJFYD.Robot |
| EstablishXJFYD.ItemList.Item.Invalid  | 财务人员输入条目清单的条目名不能超过256个字符（输入），否则系统提示条目名不正确（输出） |
| EstablishXJFYD.ItemList.Money.Invalid | 财务人员输入条目清单的金额包含非数字字符时（允许逗号分隔金额）（输入），系统提示输入金额有误（输出） |
| EstablishXJFYD.Robot.AddSerial        | 财务人员进入制定现金费用单任务时，系统自动生成单据编号（输出）          |
| EstablishXJFYD.Robot.AddSerial.Full   | 当单据编号后5位已达上限，系统提示单据已达上限（输出），并关闭制定现金费用单任务，返回财务管理任务 |
| EstablishXJFYD.Robot.AddOperator      | 财务人员进入制定现金费用单任务时，系统将当前登录用户标识为操作员，并写入现金费用单（输出） |
| EstablishXJFYD.Robot.Calc             | 财务人员填写完整条目清单时，系统自动计算并添加总额汇总（输出）          |
| EstablishXJFYD.Robot.Calc.Invalid     | 财务人员提供的金额导致系统计算的数据溢出，系统提示重新输入转账金额（输出）    |
| EstablishXJFYD.Store                  | 财务人员保存提交时，系统要保存新建的现金费用单（逻辑文件）            |
| EstablishXJFYD.Store.Status           | 财务人员保存提交时，系统在上传单据成功后要标记该单据为待审批状态（逻辑文件），参见EstablishXJFYD.Status |
| EstablishXJFYD.Store.Upload           | 财务人员保存提交时，系统在要将单据上传至审批单据的地方（默认总经理（对外接口）  |
| EstablishXJFYD.Status                 | 系统要记录单据的状态（逻辑文件），以便财务人员能跟踪或修改            |
| EstablishXJFYD.Status.Draft           | 财务人员新建一份现金费用单并编辑过（输入），系统将单据标记为草稿状态（逻辑文件） |
| EstablishXJFYD.Status.Examining       | 财务人员新建的现金费用单被系统上传成功后，系统将单据标记为待审批状态（逻辑文件） |
| EstablishXJFYD.End                    | 系统允许财务人员结束制定现金费用单任务                      |
| EstablishXJFYD.End.Update             | 在财务人员结束制定现金费用单任务时，系统要更新单据数据（逻辑文件），参见EstablishXJFYD.Update |
| EstablishXJFYD.End.Close              | 在财务人员确认制定现金费用单完成后，系统关闭制定现金费用单任务          |
| EstablishXJFYD.Update                 | 系统更新重要数据（逻辑文件），在财务人员保存提交时，系统才会更新单据信息，结束时更新操作日志（逻辑文件） |
| EstablishXJFYD.Update.Self            | 系统更新单据数据（逻辑文件）                           |
| EstablishXJFYD.Update.Log             | 系统更新单据操作日志（逻辑文件）                         |

<br>

### 3.2.17 期初建账

#### 3.2.17.1 特性描述
公司财年末尾，财务人员将上一年（第一年为空）的所有账单统计保存，名为期初建账，期初信息一经保存，以后都不允许更改。<br/>
优先级 = 高

#### 3.2.17.2 刺激/相应序列
	刺激：财务人员进入期初建账任务
	响应：系统自动添加商品信息（商品分类，某一商品的名称，类别，型号，进价/售价（默认上年平均），最近进价和最近售价留空）、客户信息（客户分类，某一个客户的名称，客户信息的应收应付数据以及联系方式）、银行账户信息（名称，余额）
	刺激：添加的商品进价或售价的总额计算溢出
	响应：系统提示数据溢出
	刺激：财务人员修改期初信息
	响应：系统保存修改后的数据
	刺激：财务人员修改输入的商品信息的售价或进价有非数字字符（允许逗号分隔）
	响应：系统提示数据格式有误
	刺激：财务人员修改输入的客户信息的应收应付数据、联系方式有非数字字符（允许逗号分隔金额数据）
	响应：系统提示数据格式有误
	刺激：财务人员修改输入的账户信息的账户不符合账户格式要求（参见QCJZ.BankAccount）
	响应：系统提示账户格式有误
	刺激：财务人员保存账目
	响应：系统保存账目，并更新账目列表
	刺激：财务人员查看往年账目
	响应：系统显示以前的账目
	刺激：财务人员新建了账目并结束期初建账任务
	响应：系统记录操作日志并返回财务管理界面

#### 3.2.17.3 相关功能需求
| 编号                         | 需求描述与度量                                  |
| -------------------------- | ---------------------------------------- |
| Initial.Input              | 系统应该允许收银员在期初建账时进行键盘输入（输入）                |
| Initial.Input.Invalid      | 当输入的数据不正确时（输入），系统不允许保存                   |
| Initial.Input.Cancel       | 财务人员修改某项数据取消输入时，系统用默认值代替该项（输出）           |
| Initial.Input.Goods        | 财务人员修改商品信息时（输入），系统对输入信息进行检查，参见Initial.Goods |
| Initial.Input.Client       | 财务人员修改客户信息时（输入），系统对输入信息进行检查，参见Initial.Client |
| Initial.Input.BankAccount  | 财务人员修改银行账户信息时（输入），系统对输入信息进行检查，参见Initial.BankAccount |
| Initial.Input.Robot        | 财务人员进入期初建账任务后，系统要添加上一年的各种业务信息作为这一财年的期初信息，参见Initial.Robot |
| Initial.Robot              | 财务人员进入期初建账任务后，系统要自动统计并添加上一年的账单信息作为这一财年的期初信息，包括商品信息（商品分类，某一商品的名称，类别，型号，进价/售价（默认上年平均），最近进价和最近售价留空）、客户信息（客户分类，某一个客户的名称，客户信息的应收应付数据以及联系方式）、银行账户信息（名称，余额）（输出） |
| Initial.Robot.Goods        | 系统添加商品信息，当无法查找到数据源时，系统将期初信息的商品栏留空（输出）    |
| Initial.Robot.Goods.Calc   | 系统需要计算并添加上一财年的进价/售价（默认为上年平均）（输出）         |
| Initial.Robot.Calc.Invalid | 当系统计算的数据溢出时，系统将该栏置为Overflow（输出）          |
| Initial.Robot.Client       | 系统添加客户信息，当无法查找到数据源时，系统将期初信息的客户栏留空（输出）    |
| Initial.Robot.BankAccount  | 系统添加银行账户信息，当无法查找到数据源时，系统将期初信息银行账户栏留空（输出） |
| Initial.Goods.Data         | 财务人员修改商品信息中的进/售价信息时（输入），系统要确认财务人员输入数字字符（允许使用逗号分隔），否则提示数字格式不正确（输出） |
| Initial.Client.Data        | 财务人员修改客户信息中的应收应付、联系方式信息时（输入），系统要确认财务人员输入数字字符（允许使用逗号分隔应收应付金额），否则提示数字格式不正确（输出） |
| Initial.BankAccount.Data   | 财务人员修改银行账户的余额时，系统确认财务人员输入数字字符（允许使用逗号分隔），否则提示数字格式不正确（输出） |
| Initial.Store              | 财务人员保存期初信息时，系统要保存期初建账的账目（逻辑文件）           |
| Initial.Show               | 系统允许财务人员查看已建立的期初信息                       |
| Initial.Show.List          | 财务人员进入查看期初信息任务时，系统要返回所有期初信息的名单列表，并按时间降序排列呈现（输出） |
| Initial.Show.Detail        | 财务人员点击某一个期初账目时，系统返回详细的期初信息（输出）           |
| Initial.End                | 系统允许财务人员结束期初建账任务                         |
| Initial.End.Update         | 在财务人员结束期初建账任务时，系统要更新账目数据（逻辑文件），参见Initial.Update |
| Initial.End.Close          | 在财务人员确认期初建账完成后，系统关闭期初建账任务，返回财务管理任务       |
| Initial.Update             | 系统更新重要数据（逻辑文件），在财务人员保存期初信息时，系统才会更新期初信息（逻辑文件） |
| Initial.Update.Self        | 系统更新账目数据（逻辑文件）                           |

<br/>

### 3.2.18 修改财务单据
#### 3.2.18.1 特性描述
财务人员收到审批未通过的消息时，财务人员进入修改财务单据任务，根据系统返回的所有草稿状态的、和审批未通过状态的单据，按照要求修改财务单据并再次提交，系统记录操作日志。<br/>
优先级 = 中

#### 3.2.18.2 刺激/相应序列
	刺激：财务人员进入修改财务单据任务
	响应：系统返回草稿状态和未审批状态的单据（收付款单和现金费用单）名单列表
	刺激：财务人员点击一个单据
	响应：系统在对应编辑窗口（比如修改收款单就打开编辑收款单的窗口）打开该单据
	刺激：财务人员修改单据信息
	响应：系统标记该单据为草稿状态
	刺激：财务人员修改输入的数据不符合该单据的格式要求
	响应：系统按照相应单据的制定需求规格进行反馈
	刺激：财务人员保存提交单据
	响应：系统将单据标记为待审批状态，然后保存并上传审批
	刺激：财务人员结束修改财务单据任务
	响应：系统记录操作日志并返回财务管理界面

#### 3.2.18.3 相关功能需求
| 编号                                   | 需求描述与度量                                  |
| ------------------------------------ | ---------------------------------------- |
| EditFinancialBill.Input              | 系统应该允许收银员在修改财务单据时进行键盘输入（输入）              |
| EditFinancialBill.Input.Status       | 财务人员一修改数据（输入），系统标记单据为草稿状态（逻辑文件），参见EditFinancialBill.Status |
| EditFinancialBill.Input.Invalid      | 当输入的修改数据不正确时（输入），系统不允许保存提交               |
| EditFinancialBill.Input.Cancel       | 财务人员取消输入时，系统抛弃输入的数据，将单据重新标记为审批未通过状态（逻辑文件），返回修改财务单据任务 |
| EditFinancialBill.Stat               | 系统应该能在财务人员进入修改单据任务时提供所有未修改和未通过审批的财务单据（包括收付款单、现金费用单，下同）（输出） |
| EditFinancialBill.Stat.Draft         | 每当财务人员生成一份草稿状态的财务单据时（逻辑文件），系统就要添加并更新草稿名单记录（逻辑文件） |
| EditFinancialBill.Stat.Draft.Del     | 每当财务人员保存提交财务单据时（逻辑文件），系统就要删去草稿名单中的该单据并更新记录（逻辑文件） |
| EditFinancialBill.Stat.NotAccept     | 每当财务人员收到一个审批未通过消息时（对外接口），系统就要将其添加至审批未通过审批名单列表（逻辑文件） |
| EditFinancialBill.Stat.NotAccept.Del | 每当财务人员收到一个审批通过消息时（对外接口），系统就要将其移除未通过审批名单列表并更新记录（逻辑文件） |
| EditFinancialBill.Stat.List          | 财务人员进入修改财务单据任务时，系统要以列表呈现最新的未修改和未通过审批的财务单据名单（输出） |
| EditFinancialBill.Edit.SFKD          | 财务人员点击一个收付款单时，系统返回一个制定收付款单的窗口（保留所有单据数据）（输出），参见用例15 |
| EditFinancialBill.Edit.XJFYD         | 财务人员点击一个现金费用单时，系统返回一个制定现金费用单的窗口（保留所有单据数据）（输出），参见用例16 |
| EditFinancialBill.Store              | 财务人员保存提交时，系统要保存新建的单据（逻辑文件）               |
| EditFinancialBill.Store.Status       | 财务人员保存提交时，系统在上传单据成功后要标记该单据为待审批状态（逻辑文件），参见EditFinancialBill.Status |
| EditFinancialBill.Store.Upload       | 财务人员保存提交时，系统在要将单据上传至审批单据的地方（默认总经理）（对外接口） |
| EditFinancialBill.Status             | 系统要记录单据的状态（一个单据只有一个状态）（逻辑文件），以便财务人员能跟踪或修改 |
| EditFinancialBill.Status.Draft       | 财务人员打开一份待修改财务单据并编辑过（输入），系统将单据标记为草稿状态（逻辑文件） |
| EditFinancialBill.Status.Examining   | 财务人员保存提交的财务单据被系统上传成功后，系统将单据标记为待审批状态（逻辑文件） |
| EditFinancialBill.End                | 系统允许财务人员结束修改财务单据任务                       |
| EditFinancialBill.End.Update         | 在财务人员结束修改财务单据任务时，系统要更新单据状态数据（逻辑文件），参见EditFinancialBill.Update |
| EditFinancialBill.End.Close          | 在财务人员确认修改财务单据任务完成后，系统关闭修改财务单据任务，返回财务管理任务 |
| EditFinancialBill.Update             | 系统更新重要数据（逻辑文件），在财务人员保存提交时，系统才会更新单据状态信息，结束时更新操作日志（逻辑文件） |
| EditFinancialBill.Update.Draft       | 系统更新草稿状态的单据名单（逻辑文件）                      |
| EditFinancialBill.Update.NotAccept   | 系统更新审批未通过状态的单据名单（逻辑文件）                   |
| EditFinancialBill.Update.Log         | 系统更新单据操作日志（逻辑文件）                         |

<br/>

### 3.2.19 红冲

#### 3.2.19.1 特性描述
财务人员在查看经营历程表时，发现账单有问题，采用红冲或者红冲并复制的形式抵消之前生成的单子，系统记录操作日志。<br/>
优先级 = 中

#### 3.2.19.2 刺激/相应序列
	刺激：财务人员进入红冲任务
	响应：系统生成一样但数据取负的单子入账
	刺激：财务人员进入红冲并复制任务
	响应：系统生成一样但数据取负的单子，然后返回编辑该单据的窗口
	刺激：财务人员修改单据信息并保存
	响应：系统将取负的单子和修改的单子一起入账
	刺激：财务人员修改输入的数据不符合该单据的格式要求
	响应：系统按照相应单据的制定需求规格进行反馈
	刺激：财务人员结束红冲任务
	响应：系统记录操作日志并返回财务管理界面

#### 3.2.19.3 相关功能需求
| 编号                                     | 需求描述与度量                                  |
| -------------------------------------- | ---------------------------------------- |
| Reverse.Select                         | 财务人员点击经营历程表中的一个财务单据，系统显示该单据详情（输出）        |
| Reverse.Input                          | 系统应该允许收银员在红冲并复制时进行键盘输入（输入）               |
| Reverse.Input.Invalid                  | 当输入的修改数据不正确时（输入），系统不允许保存入账               |
| Reverse.Input.Cancel                   | 财务人员取消输入时，系统抛弃输入的数据，返回红冲任务               |
| Reverse.WriteOff                       | 财务人员选择红冲时，系统生成一份一样但数据取负的单子入账（逻辑文件），此过程不需要手工干预 |
| Reverse.WriteOff.Once                  | 财务人员选择红冲时，如果该财务单据没有已红冲标记，系统将单据标记为已红冲（逻辑文件） |
| Reverse.WriteOff.Once.Fail             | 财务人员选择红冲时，如果该财务单据已经有已红冲标记，系统提示同一个单据只能进行一次红冲的错误信息（输出） |
| Reverse.WriteOffAndCopy                | 财务人员选择红冲并复制时，系统生成一份一样但数据取负的单子（逻辑文件），然后返回该单据的编辑窗口（输出），参见Reverse.Edit.SFKD和Reverse.Edit.XJFYD |
| Reverse.WriteOffAndCopy.Once           | 财务人员选择红冲并复制时，如果该财务单据没有已红冲并复制标记，系统将单据标记为已红冲并复制（逻辑文件） |
| Reverse.WriteOffAndCopy.Once.Fail      | 财务人员选择红冲并复制时，如果该财务单据已经有已红冲并复制标记，系统提示同一个单据只能进行一次红冲并复制的错误信息（输出） |
| Reverse.WriteOffAndCopy.Override       | 财务人员保存入账修改后的单据时，系统将该单据与取负的单据一起入账（逻辑文件）   |
| Reverse.Edit.SFKD                      | 财务人员红冲并复制一个收付款单时，系统返回一个制定收付款单的窗口（保留所有单据数据）（输出），参见用例15 |
| Reverse.Edit.XJFYD                     | 财务人员红冲并复制一个现金费用单时，系统返回一个制定现金费用单的窗口（保留所有单据数据）（输出），参见用例16 |
| Reverse.Store                          | 财务人员保存入账时，系统要保存修改后的单据（逻辑文件）              |
| Reverse.End                            | 系统允许财务人员结束红冲任务                           |
| Reverse.End.Update                     | 在财务人员结束红冲任务时，系统要更新和材料成本账目数据（逻辑文件），参见Reverse.Update |
| Reverse.End.Close                      | 在财务人员确红冲任务完成后，系统关闭红冲任务，返回财务管理任务          |
| Reverse.Update                         | 系统更新重要数据（逻辑文件），在财务人员保存提交时，系统才会更新经营历程表账目信息，结束时更新操作日志（逻辑文件） |
| Reverse.Update.WriteOffSign            | 系统更新已红冲的财务单据名单（逻辑文件）                     |
| Reverse.Update.WriteOffSignAndCopySign | 系统更新已红冲并复制的单据名单（逻辑文件）                    |
| Reverse.Update.Log                     | 系统更新操作日志（逻辑文件）                           |

<br/>

### 3.2.20 查看操作日志

#### 3.2.20.1 特性描述
财务人员和总经理可以查看一段时间内的操作日志。<br/>
优先级 = 中

#### 3.2.20.2 刺激/相应序列
	刺激：财务人员或总经理进入查看操作日志任务
	响应：系统以列表呈现最近一天的操作日志
	刺激：财务人员或总经理输入时间区间
	响应：系统以列表呈现时间区间内的操作日志

#### 3.2.20.3 相关功能需求
| 编号             | 需求描述与度量                                  |
| -------------- | ---------------------------------------- |
| Log.Input      | 系统允许财务人员或总经理进行查看操作日志任务时进行键盘输入（输入）        |
| Log.Input.Date | 当财务人员或总经理在时间区间输入非时间格式数据时，系统提示时间有误（输出）    |
| Log.List       | 在财务人员或总经理进入查看操作日志任务时，系统要将近一天的操作日志以列表呈现（输出） |
| Log.List.Date  | 当财务人员或总经理在时间区间输入时间格式数据时（输入），系统需要筛选时间区间内的操作日志（查询），并以列表呈现（输出） |
| Log.End        | 系统允许财务人员或总经理结束查看操作日志任务                   |
| Log.End.Close  | 在财务人员或总经理确查看操作日志任务完成后，系统关闭查看操作日志任务，返回财务管理任务 |

<br/>

### 3.2.21 查看销售明细表

#### 3.2.21.1 特性描述
一个经过验证的总经理或财务人员进行查看销售明细表工作。<br/>
优先级 = 中

#### 3.2.21.2 刺激／响应序列
	刺激：总经理或财务人员申请查看销售明细表
	响应：系统显示销售明细表
	刺激：总经理或财务人员输入筛选条件
	响应：系统显示符合条件的销售出货单据
	刺激：总经理或财务人员选择单据进行查看
	响应：系统显示单据详细信息
	刺激：总经理或财务人员申请导出报表
	响应：系统导出Excel文件

#### 3.2.21.3 相关功能需求
| 编号                               | 需求描述与度量                                  |
| -------------------------------- | ---------------------------------------- |
| SaleDetail.Input                 | 系统应该允许总经理或财务人员在查看销售明细表（输出：销售明细表界面）时进行键盘输入和鼠标点击 |
| SaleDetail.Input.Filter          | 在总经理或财务人员输入筛选条件（输入）申请筛选时（查询），系统要进行筛选任务，参见SaleDetail.Filter |
| SaleDetail.Input.Export          | 总经理或财务人员申请导出报表（查询），系统导出Excel文件（输出），提示导出成功（输出），参见IC4（对外接口） |
| SaleDetail.Input.SaleTradeBill   | 总经理或财务人员选择销售出货单据进行查看（查询），系统显示单据的详细信息（输出） |
| SaleDetail.Input.End             | 总经理或财务人员结束查看销售明细表（查询），参见SaleDetail.End   |
| SaleDetail.Filter.Show           | 系统显示符合筛选条件的销售单据列表（输出）（逻辑文件）              |
| SaleDetail.Filter.EndBeforeStart | 总经理或财务人员输入的截止时间在起始时间之前，系统提示时间区间错误并拒绝筛选（输出） |
| SaleDetail.Filter.Null           | 总经理或财务人员未输入筛选条件，系统提示筛选条件不能为空并拒绝筛选（输出）    |
| SaleDetail.End.Close             | 系统关闭任务（输出）                               |

<br/>

### 3.2.22 查看经营历程表

#### 3.2.22.1 特性描述
一个经过验证的总经理或财务人员进行查看经营历程表工作。<br/>
优先级 = 中

#### 3.2.22.2 刺激／响应序列
	刺激：总经理或财务人员申请查看经营历程表
	响应：系统显示经营历程表
	刺激：总经理或财务人员输入筛选条件
	响应：系统显示符合条件的单据
	刺激：总经理或财务人员选择单据查看
	响应：系统显示单据详细信息
	刺激：总经理或财务人员申请导出报表
	响应：系统导出Excel文件

#### 3.2.22.3 相关功能需求
| 编号                                    | 需求描述与度量                                  |
| ------------------------------------- | ---------------------------------------- |
| BusinessHistory.Input                 | 系统应该允许总经理或财务人员在查看经营历程表（输出：经营历程表界面）时进行键盘输入和鼠标点击 |
| BusinessHistory.Input.Filter          | 在总经理或财务人员输入筛选条件（输入）申请筛选时（查询），系统要进行筛选任务，参见BusinessHistory.Filter |
| BusinessHistory.Input.Export          | 总经理或财务人员申请导出报表（查询），系统导出Excel文件（输出），提示导出成功（输出），参见IC4（对外接口） |
| BusinessHistory.Input.SaleTradeBill   | 总经理或财务人员选择单据进行查看（查询），系统显示单据的详细信息（输出）     |
| BusinessHistory.Input.End             | 总经理或财务人员结束查看经营历程表（查询），参见BusinessHistory.End |
| BusinessHistory.Filter.Show           | 系统显示符合筛选条件的单据列表（输出）（逻辑文件）                |
| BusinessHistory.Filter.EndBeforeStart | 总经理或财务人员输入的截止时间在起始时间之前，系统提示时间区间错误并拒绝筛选（输出） |
| BusinessHistory.Filter.Null           | 总经理或财务人员未输入筛选条件，系统提示筛选条件不能为空并拒绝筛选（输出）    |
| BusinessHistory.End.Close             | 系统关闭任务（输出）                               |

<br/>

### 3.2.23 查看经营情况表

#### 3.2.23.1 特性描述
一个经过验证的总经理或财务人员进行查看经营情况表工作。<br/>
优先级 = 中

#### 3.2.23.2 刺激／响应序列
	刺激：总经理或财务人员申请查看经营情况表
	响应：系统显示经营情况表
	刺激：总经理或财务人员输入起始时间和截止时间
	响应：系统显示这一段时间的收入类及折让，支出类和利润
	刺激：总经理或财务人员申请导出报表
	响应：系统导出Excel文件

#### 3.2.23.3 相关功能需求
| 编号                                      | 需求描述与度量                                  |
| --------------------------------------- | ---------------------------------------- |
| BusinessCondition.Input                 | 系统应该允许总经理或财务人员在查看经营历程表（输出：经营历程表界面）时进行键盘输入和鼠标点击 |
| BusinessCondition.Input.Filter          | 在总经理或财务人员输入筛选条件（输入）申请筛选时（查询），系统要进行筛选任务，参见BusinessCondition.Filter |
| BusinessCondition.Input.Export          | 总经理或财务人员申请导出报表（查询），系统导出Excel文件（输出），提示导出成功（输出），参见IC4（对外接口） |
| BusinessCondition.Input.End             | 总经理或财务人员结束查看经营情况表（查询），参见BusinessCondition.End |
| BusinessCondition.Filter.Show           | 系统显示符合筛选条件的经营情况（输出）（逻辑文件）                |
| BusinessCondition.Filter.EndBeforeStart | 总经理或财务人员输入的截止时间在起始时间之前，系统提示时间区间错误并拒绝筛选（输出） |
| BusinessCondition.Filter.Null           | 总经理或财务人员未输入筛选条件，系统提示筛选条件不能为空并拒绝筛选（输出）    |
| BusinessCondition.End.Close             | 系统关闭任务（输出）                               |

<br/>

###  3.2.24 审批单据

#### 3.2.24.1 特性描述
一个经过验证的总经理进行审批单据工作，修改数据，生成库存赠送单，发送通知。<br/>
优先级 = 高

#### 3.2.24.2 刺激／响应序列
	刺激：总经理申请审批单据
	响应：系统显示所有提交单据
	刺激：总经理选择单据类型
	响应：系统显示该类型的所有提交单据列表
	刺激：总经理选择某一单据进行审批
	响应：系统显示该单据详细内容
	刺激：总经理通过该单据的审批
	响应：系统结束该单据的审批任务，更新数据，发送通知，记录操作日志
	刺激：总经理不通过该单据的审批
	响应：系统要求总经理输入不通过的理由
	刺激：总经理输入不通过的理由
	响应：系统结束该单据的审批任务，更新单据状态，发送通知，记录操作日志

#### 3.2.24.3 相关功能需求
| 编号                                   | 需求描述与度量                                  |
| ------------------------------------ | ---------------------------------------- |
| Approval.Input                       | 系统应该允许总经理在审批单据（输出：审批单据界面）时进行键盘输入和鼠标点击    |
| Approval.Input.Filter                | 总经理选择单据类型进行筛选（查询），系统显示该类型的提交单据列表（输出）     |
| Approval.Input.Quantities            | 总经理选择批量审批通过（查询），系统进行批量审批任务，参见Approval.Quantities |
| Approval.Input.Bill                  | 总经理选择某一单据进行审批（查询），系统显示该单据的详细信息（输出），参见Approval.Bill |
| Approval.Input.End                   | 总经理结束审批单据任务（查询），系统允许结束审批任务，参见Approval.End |
| Approval.Quantities.Valid            | 系统更改选择单据（输入）的状态，更新提交单据列表（输出）             |
| Approval.Quantities.Null             | 总经理未选中任何单据，系统提示未勾选单据并拒绝批量审批（输出）          |
| Approval.Bill.Data                   | 总经理修改数据（输入），系统记录                         |
| Approval.Bill.Pass                   | 总经理通过该单据的审批（查询），系统提示审批成功（输出），显示其他提交单据（输出） |
| Approval.Bill.Pass.InventoryGiftBill | 该单据触发促销策略赠送条件（逻辑文件），系统生成库存赠送单（逻辑文件），提示生成库存赠送单（输出） |
| Approval.Bill.Pass.Invalid           | 总经理输入错误数据类型（例如：商品数量输入非正整数），系统提示错误数据类型并拒绝通过（输出） |
| Approval.Bill.Pass.Null              | 总经理有数据未填写完，系统提示数据不能为空并拒绝通过（输出）           |
| Approval.Bill.Fail                   | 总经理不通过该单据的审批（查询），系统提示输入理由（输出）            |
| Approval.Bill.Fail.Result            | 总经理输入理由（输入），确认审批不通过（查询），系统提示审批成功（输出），显示其他提交单据（输出） |
| Approval.Bill.Fail.Null              | 总经理输入理由为空，系统提示理由不能空并拒绝结束审批（输出）           |
| Approval.End.Update                  | 在总经理要求结束审批单据任务时，系统更新数据，参见Approval.Update |
| Approval.End.Close                   | 在总经理要求结束审批单据任务时，系统关闭审批任务，参见Approval.Close |
| Approval.Update                      | 系统更新重要数据，整个更新过程构成一个事务                    |
| Approval.Update.Client               | 系统更新客户信息（逻辑文件）                           |
| Approval.Update.Account              | 系统更新公司账户信息（逻辑文件）                         |
| Approval.Update.Notice               | 系统更新通知消息（逻辑文件）                           |
| Approval.Update.Bill                 | 系统更新单据信息（逻辑文件）                           |
| Approval.Update.Log                  | 系统更新操作日志（逻辑文件）                           |
| Approval.Update.Goods                | 系统更新商品信息（逻辑文件）                           |
| Approval.Update.Gifts                | 系统更新赠品信息（逻辑文件）                           |
| Approval.Close                       | 系统关闭本次审批单据任务（输出）                         |

<br/>

### 3.2.25 促销策略管理

#### 3.2.25.1 特性描述
一个经过验证的总经理进行促销策略管理工作，完成促销策略的增，删，改，查。<br/>
优先级 = 高

#### 3.2.25.2 刺激／响应序列
	刺激：总经理申请促销策略管理
	响应：系统显示所有促销策略列表
	刺激：总经理申请新建客户促销策略
	响应：系统新建“客户”类型促销策略并显示详细信息
	刺激：总经理申请新建特价包促销策略
	响应：系统新建“特价包”类型促销策略并显示详细信息
	刺激：总经理申请新建总价促销策略
	响应：系统新建“总价”类型促销策略并显示详细信息
	刺激：总经理选择促销策略进行管理
	响应：系统显示该促销策略的详细信息
	刺激：总经理申请删除促销策略
	响应：系统删除促销策略并提示“删除成功”<br>

#### 3.2.25.3 相关功能需求
| 编号                                       | 需求描述与度量                                  |
| ---------------------------------------- | ---------------------------------------- |
| Promotion.Input                          | 系统应该允许总经理在促销策略管理（输出：促销策略管理主界面）时进行键盘输入和鼠标点击 |
| Promotion.Input.Add                      | 总经理选择新建促销策略，系统进行新建促销策略任务，参见Promotion.Add |
| Promotion.Input.Manage                   | 总经理选择某一促销策略进行管理（查询），系统进行管理业务，参见Promotion.Manage |
| Promotion.Input.End                      | 总经理结束促销策略管理（查询），参见Promotion.End          |
| Promotion.Add.Client                     | 总经理申请新建客户促销策略（查询），系统新建“客户”类型促销策略并显示详细信息（输出）（逻辑文件） |
| Promotion.Add.Goods                      | 总经理申请新建特价包促销策略（查询），系统新建“特价包”类型促销策略并显示详细信息（输出）（逻辑文件） |
| Promotion.Add.Total                      | 总经理申请新建总价促销策略（查询），系统新建“总价”类型促销策略并显示详细信息（输出）（逻辑文件） |
| Promotion.Add.Data                       | 总经理添加数据（输入），系统记录                         |
| Promotion.Add.Finish                     | 总经理完成新建（查询），系统提示新建成功（输出），结束新建任务（输出）      |
| Promotion.Add.Finish.Null                | 总经理未填写完所有数据，系统提示数据不能为空（输出）               |
| Promotion.Add.Finish.StartBeforeToday    | 总经理输入起始时间在今天之前，系统提示起始时间错误（输出）            |
| Promotion.Add.Finish.EndBeforeStart      | 总经理输入截止时间在起始时间之前，系统提示时间区间错误（输出）          |
| Promotion.Add.Finish.Invalid             | 总经理输入错误数据类型，系统提示数据类型错误（输出）               |
| Promotion.Manage.Data                    | 总经理修改数据（输入），系统记录                         |
| Promotion.Manage.Finish                  | 总经理完成管理（查询），系统提示管理成功（输出），结束新建任务（输出）      |
| Promotion.Manage.Finish.Null             | 总经理修改后未填写完所有数据，系统提示数据不能为空（输出）            |
| Promotion.Manage.Finish.StartBeforeToday | 总经理修改后输入起始时间在今天之前，系统提示起始时间错误（输出）         |
| Promotion.Manage.Finish.EndBeforeStart   | 总经理修改后输入截止时间在起始时间之前，系统提示时间区间错误（输出）       |
| Promotion.Manage.Finish.Invalid          | 总经理修改后输入错误数据类型，系统提示数据类型错误（输出）            |
| Promotion.Manage.Del                     | 总经理选择删除该促销策略（查询），系统提示删除成功（输出），结束该促销策略管理任务（输出） |
| Promotion.End.Update                     | 在总经理要求结束促销策略管理任务时，系统更新数据，参见Promotion.Update |
| Promotion.End.Close                      | 在总经理要求结束促销策略管理任务时，系统关闭管理任务，参见Promotion.Close |
| Promotion.Update                         | 系统更新重要数据，整个更新过程构成一个事务                    |
| Promotion.Update.Promotion               | 系统更新促销策略（逻辑文件）                           |
| Promotion.Update.Log                     | 系统更新日志（逻辑文件）                             |
| Promotion.Close                          | 系统关闭本次促销策略管理任务（输出）                       |

<br/>

### 3.2.26 帐号管理

#### 3.2.26.1 特性描述
一个经过验证的管理员进行帐号管理工作，完成帐号的增，删，改，查。<br/>
优先级 = 中

#### 3.2.26.2 刺激／响应序列
	刺激：管理员申请帐号管理
	响应：系统显示所有帐号列表
	刺激：管理员申请新建库存管理人员帐号
	响应：系统新建“库存管理人员”类型帐号并显示详细信息
	刺激：管理员申请新建进货销售人员帐号
	响应：系统新建“进货销售人员”类型帐号并显示详细信息
	刺激：管理员申请新建财务人员帐号
	响应：系统新建“财务人员”类型帐号并显示详细信息
	刺激：管理员申请新建总经理帐号
	响应：系统新建“总经理”类型帐号并显示详细信息
	刺激：管理员选择帐号进行管理
	响应：系统显示该帐号的详细信息
	刺激：管理员申请删除帐号
	响应：系统删除帐号并提示“删除成功”

#### 3.2.26.3 相关功能需求
| 编号                         | 需求描述与度量                                  |
| -------------------------- | ---------------------------------------- |
| User.Input                 | 系统应该允许管理员在帐号管理（输出：帐号管理主界面）时进行键盘输入和鼠标点击   |
| User.Input.Add             | 管理员选择新建帐号，系统进行新建帐号任务，参见User.Add          |
| User.Input.Manage          | 管理员选择某一帐号进行管理（查询），系统进行管理业务，参见User.Manage |
| User.Input.End             | 管理员结束帐号管理（查询），参见User.End                 |
| User.Add.Inventory         | 管理员申请新建库存管理人员帐号（查询），系统新建“库存管理人员”类型帐号并显示详细信息（输出） |
| User.Add.Sales             | 管理员申请新建进货销售人员帐号（查询），系统新建“进货销售人员”类型帐号并显示详细信息（输出） |
| User.Add.Finance           | 管理员申请新建财务人员帐号（查询），系统新建“财务人员”类型帐号并显示详细信息（输出） |
| User.Add.General           | 管理员申请新建总经理帐号（查询），系统新建“总经理”类型帐号并显示详细信息（输出） |
| User.Add.Data              | 管理员添加数据（输入），系统记录                         |
| User.Add.Finish            | 管理员完成新建（查询），系统提示新建成功（输出），显示所有帐号（输出）      |
| User.Add.Finish.Null       | 管理员未填写完所有数据，系统提示数据不能为空（输出）               |
| User.Add.Finish.Invalid    | 管理员输入错误数据类型，系统提示数据类型错误（输出）               |
| User.Manage.Data           | 管理员修改数据（输入），系统记录                         |
| User.Manage.Finish         | 管理员完成管理（查询），系统提示管理成功（输出），显示所有帐号（输出）      |
| User.Manage.Finish.Null    | 管理员修改后未填写完所有数据，系统提示数据不能为空（输出）            |
| User.Manage.Finish.Invalid | 管理员修改后输入错误数据类型，系统提示数据类型错误（输出）            |
| User.Manage.Del            | 管理员选择删除该帐号（查询），系统提示删除成功（输出），显示所有帐号（输出）   |
| User.End.Update            | 在管理员要求结束帐号管理任务时，系统更新数据，参见User.Update     |
| User.End.Close             | 在管理员要求结束帐号管理任务时，系统关闭管理任务，参见User.Close    |
| User.Update                | 系统更新重要数据，整个更新过程构成一个事务                    |
| User.Update.User           | 系统更新帐号（逻辑文件）                             |
| User.Update.Log            | 系统更新日志（逻辑文件）                             |
| User.Close                 | 系统关闭本次帐号管理任务（输出）                         |


<br/>
<br/>
***********************************************
<br/>
<br/>

## 3.3 非功能需求

### 3.3.1 安全性
    Safety1：系统只允许经过验证和授权的用户访问。
    Safety2：系统应该按照用户身份验证用户的访问权限。库存管理人员账号只能进入库存管理界面、进货销售人员账号只能进入进货销售管理界面、财务人员账号只能进入财务管理界面、总经理账号只能进入总经理管理界面、管理员账号只能进入管理员管理界面。
    Satety3：系统只有一个默认的管理员账户，该账户只允许管理员用户修改口令。

### 3.3.2 可维护性
    Modifiability1：在系统的商品表示数据格式发生变化时，系统要能够在3人1天内完成。
    Modifiability2：如果系统出现网络通信方面的故障，软件工程师应该在2人1天内修复。

### 3.3.3 易用性
    Usability1：系统的各项表单应该可以导出成Excel，方便查看。
    Usability2：登陆和界面更改的用时在99%的情况下不能超过0.5秒。

### 3.3.4 可靠性
    Reliability1：在客户端与服务器通信时，如果网络故障，系统不能出现故障。
    	Reliability1.1：客户端应该检测到故障，并尝试重新连接网络3次，每次15秒。
    		Reliability1.1.1：重新连接后，客户端应该继续之前的工作。
    		Reliability1.1.2：如果重新连接不成功，客户端应该等待5分钟后再次尝试重新连接。
    		Reliability1.1.2.1：重新连接后，客户端应该继续之前的工作。
    		Reliability1.1.2.2：如果重新连接不成功，客户端报警。

### 3.3.5 业务规则
	BR1：客户星级数递增规则，该规则可随总经理决策变化。
		1级：默认等级。
		2级：客户完成10次交易，且交易总额大于20000元。
		3级：客户完成20次交易，且交易总额大于40000元。
		4级：客户完成35次交易，且交易总额大于70000元。
		5级：客户完成50次交易，且交易总额大于100000元。
	BR2：适用（客户等级，额度）的总额特价促销策略，改规则可随总经理的决策而变化。
		(客户等级>=3)而且（促销额度<=额度）

### 3.3.6 约束
	IC1：本系统采用java语言进行开发，系统的安装和运行必须在安装有JRE的电脑上。
	IC2：系统要在网络上分布为一个服务器和多个客户端。
	IC3：必须在windows系统上运行，运行在其他系统中可能会出现不可预料的故障。
	IC4：在开发过程中缺少可用的打印机，需要使用文件系统模拟打印机。


<br/>
<br/>
***********************************************
<br/>
<br/>

## 3.4 数据需求

### 3.4.1 数据定义
	DR1：系统需要储存所有商品分类信息、商品信息、库存信息、库存类单据信息、进货类单据信息、销售类单据信息、审批信息、财务类单据信息、客户信息、促销信息、操作记录、账户信息以及系统消息。
	DR2：系统需要存储一年内的进货类单据信息、销售类单据信息、财务类单据信息，以便期初建账以及相关人员（总经理、财务人员）查看。

### 3.4.2 默认数据
	默认数据用于以下两种情况：
	1) 系统中新增加数据时。
	2) 编辑数据时不小心将相关内容清空时。
		Default1：商品的数量初始值为0。
		Default2：费用或价格数据默认为进价或销售价。
		Default3：客户积累交易额度默认为0。
		Default4：时间默认为系统时间。
		Default5：操作工作人员工号默认为当前登录用户。
		Default6：商品历史交易数额初始值为0。

### 3.4.3 数据格式要求
	Format1：为了方便查找和存储，要求使用8位0 ~ 9数字的商品标识格式。
	Format2：商品出库原因必须为个别残次品、批次质量缺陷和其他。
	Format3：商品的价格和费用的格式必须是大于等于0、精确到小数点后1位的浮点数，单位是元。
	Format4：日期的格式必须是yyyy-mm-dd。
	Format5：商品数量的格式必须是正整数。

<br/>
<br/>
***********************************************
<br/>
<br/>

## 3.5 其他需求
	安装需求
	Install1：在安装系统时，要初始化用户、商品库存等重要数据。
	Install2：系统投入使用时，需要对用户进行一个星期的集中培训。
	Install3：系统交付使用时，需要提供相应的规格说明书。
