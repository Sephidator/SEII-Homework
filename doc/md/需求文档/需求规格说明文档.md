需求规格说明文档——<br/>灯具进销存管理系统<br/><br/>软工二小组
=========================



<br/>
<br/>
<br/>

#更新历史#
| **修改人员**           | **日期**     | **变更原因**  | **版本** |
| ------------------ | ---------- | --------- | ------ |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-09-27 | 最初版本      | V1.0   |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-10-02 | 内部评审后的新版本 | V1.1   |

<br/>
<br/>
***********************************************
<br/>
<br/>

#变更记录#
| **修改人员**           | **日期**     | **变更原因**  | **版本** | **变更内容**           |
| ------------------ | ---------- | --------- | ------ | ------------------ |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-9-27  | 初始版本      | V1.0   | 无                  |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-10-03 | 评审之后的修改版本 | V1.1   | 3.1对外接口和3.2功能需求的改动 |

<br/>
<br/>
***********************************************
<br/>
<br/>

#目录#
	1.引言
		1.1 目的
		1.2 范围
		1.3 参考文献
	2.总体描述
		2.1 商品前景
			2.1.1 背景与机遇
			2.1.2 业务需求
		2.2 商品功能
		2.3 用户特征
		2.4 约束
		2.5 假设和依赖
	3.详细需求描述
		3.1 对外接口需求
			3.1.1 用户界面
			3.1.2 通信接口
		3.2 功能需求
			3.2.1 商品分类管理
				3.2.1.1 特性描述
				3.2.1.2 刺激/响应序列
				3.2.1.3 相关功能需求
			3.2.2 商品管理
				3.2.2.1 特性描述
				3.2.2.2 刺激/响应序列
				3.2.2.3 相关功能需求
			3.2.7 客户管理
				3.2.7.1 特性描述
				3.2.7.2 刺激/响应序列
				3.2.7.3 相关功能需求
			3.2.8 制定进货单
				3.2.8.1 特性描述
				3.2.8.2 刺激/响应序列
				3.2.8.3 相关功能需求
			3.2.14 制定收付款单
				3.2.14.1 特性描述
				3.2.14.2 刺激/响应序列
				3.2.14.3 相关功能需求
			3.2.15 制定现金费用单
				3.2.15.1 特性描述
				3.2.15.2 刺激/响应序列
				3.2.15.3 相关功能需求
			3.2.23 审批单据
				3.2.23.1 特性描述
				3.2.23.2 刺激/响应序列
				3.2.23.3 相关功能需求
			3.2.24 促销策略管理
				3.2.24.1 特性描述
				3.2.24.2 刺激/响应序列
				3.2.24.3 相关功能需求
		3.3 非功能需求
			3.3.1 安全性
			3.3.2 可维护性
			3.3.3 易用性
			3.3.4 可靠性
			3.3.5 业务规则
			3.3.6 约束
		3.4 数据需求
			3.4.1 数据定义
			3.4.2 默认数据
			3.4.3 数据格式要求
		3.5 其他需求

<br/>
<br/>
***********************************************
<br/>
<br/>

#1.引言#

##1.1目的##
    本文档描述了灯具照明行业进销存管理系统的功能需求和非功能需求。开发小组的软件系统实现与验证工作都以此文档为依据。
    除特殊说明之外，本文档所包含的需求都是高优先级需求，低优先级的需求会在今后的文档中提交。

<br/>

##1.2范围##
    某民营企业专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。
    现公司规模扩大，企业业务量、办公场所、员工数都发生增长。灯具进销存管理系统是为该企业开发的业务系统，开发的目标在于：适应新的环境，提高工作效率和用户满意度。
    通过灯具进销存管理系统的应用，期望在系统上线运行的六个月后，帮助该企业减少挤压库存，增加销售额，提高财务人员工作效率，为经理的决策做支持。

<br/>

##1.3参考文献##
    1) IEEE标准
    2)《灯具照明行业进销存管理系统 用例文档 V2.0》

<br/>
<br/>
***********************************************
<br/>
<br/>

#2总体描述#

##2.1商品前景##

###2.1.1背景与机遇###
    某民营企业专业从事灯具照明行业，是某灯具的南京地区总代理，主要在南京负责品牌的推广及项目的落地销售、分销的批发等工作，服务对象包括项目业主、施工单位、分销商、设计院、终端用户等。现公司规模扩大，企业业务量、办公场所、员工数都发生增长，需要适应新的环境，提高工作效率和用户满意度。
    灯具进销存管理系统就是为了满足该企业新的业务发展需求而开发的，它包括了一个数据集中服务器和多个客户端。数据集中服务器将所有的数据存储起来进行维护。用户通过客户端完成日常任务，客户端与数据集中服务器采取实时通信的方式完成数据交换。

###2.1.2业务需求###
    BR1: 系统上线运行六个月后，减少挤压库存，增加销售额，提高财务人员工作效率，为经理的决策做支持。

<br/>

##2.2商品功能##
    SF1：进行商品分类和商品管理。
    SF2：管理商品库存，发现可能的积压、缺货、报废现象。
    SF3：客户资料管理。
    SF4：制定进货类单据和销售类单据。
    SF5：公司账户管理。
    SF6：账单的建立和管理。
    SF7：查看财务报表。
    SF8：提供单据审批功能。
    SF9：制定促销策略，提高商品竞争力。
    SF10：帮助管理员进行用户账号管理。
    SF11：用日志记录系统主要操作，方便总经理和财务人员查询。
    SF12：导出各财务报表（excel）。

<br/>

##2.3用户特征##
| **用户**     | **特征**                                   |
| ---------- | ---------------------------------------- |
| **库存管理人员** | 使用本系统的库存管理人员有1-2名，能够简单使用办公信息化系统。他们的主要任务是进行商品分类和商品管理，以及查看、盘点库存，制定库存报单。他们对新系统基本持积极态度。不希望增加现有工作量。 |
| **进货销售人员** | 使用本系统的进货销售人员有4-8名，他们的主要任务是进行客户管理，以及制定进货类单据和销售类单据。他们对新系统基本持积极态度。不希望增加现有工作量。 |
| **财务人员**   | 使用本系统的财务人员有1到2名，办公信息化系统使用能力较强。他们的主要任务是公司账户管理、建立账单和查看财务报表。他们对新系统持积极态度。不希望增加现有工作量。 |
| **总经理**    | 使用本系统的总经理有2名，能够熟练使用办公信息化系统。 他们的主要任务是单据审批、制定销售策略以及查看财务报表。他们对新系统持积极态度。 |
| **管理员**    | 整个系统有1个系统管理员。他的工作是管理用户的账号信息，以及在职位变动等情况下更改用户账号信息。系统管理员是专业的计算机维护人员，计算机技能优秀。 |

<br/>

##2.4约束##
    CON1：系统将运行在windows操作系统上。
    CON2：系统不使用Web界面，而是图形界面。
    CON3：项目要使用持续集成方法进行开发。
    CON4：在开发中，开发者要提交软件需求规格说明文档、设计描述文档和测试报告。

<br/>

##2.5假设和依赖##
    AE1：不存在商品名称以及型号都相同但实际上不同的产品
    AE2：所有用户都经过了相应的培训，能较好地使用系统。


<br/>
<br/>
***********************************************
<br/>
<br/>

#3.详细需求描述#

##3.1对外接口需求##

###3.1.1用户界面###

####UI1：登录界面####
	系统登陆界面应该简洁明了，方便用户操作。界面图示为：
![](/UI-DESIGN/UI1-登录界面.png)

#####UI1.1：登录界面输入错误#####
	当用户输入正确地账号密码时，会转入相应地工作界面；否则会跳出对话框提示输入错误，如图
![](/UI-DESIGN/UI1-登录界面输入错误.png)

####UI2：库存管理主界面####
	库存管理主界面，组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以转入相应的页面进行操作。 
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI2-库存管理主界面.png)

#####UI2.1：商品分类管理界面#####
	在库存管理界面点击"商品分类管理"按钮,跳转至商品分类管理界面：组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以转入相应的页面进行操作
		2.员工信息区域，显示库存管理人员的相应信息，有注销按钮
		3.消息提醒区域，接收系统消息
![](/UI-DESIGN/UI2.1-商品分类管理界面.png)

#####UI2.2：商品管理界面#####
	在库存管理界面点击"商品管理"按钮,跳转至商品管理界面：组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以转入相应的页面进行操作
		2.员工信息区域，显示库存管理人员的相应信息，有注销按钮
		3.消息提醒区域，接收系统消息
![](/UI-DESIGN/UI2.2-商品管理界面.png)

#####UI2.3：库存查看界面#####
	在库存管理界面点击"库存查看"按钮,跳转至库存查看界面：组成部分和界面图示如下：
		1.时间输入区域，手动或鼠标点击输入时间
		2.员工信息区域，显示库存管理人员的相应信息，有注销按钮
		3.消息提醒区域，接收系统消息
		4.库存信息显示区域，显示该时间段内的库存内容
		5.按钮区域，实现返回以及确认
![](/UI-DESIGN/UI2.3-库存查看界面.png)

#####UI2.4：库存盘点界面#####
	在库存管理界面点击"库存盘点"按钮,跳转至库存盘点界面：组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以实现返回
		2.员工信息区域，显示库存管理人员的相应信息，有注销按钮
		3.消息提醒区域，接收系统消息
		4.库存信息显示区域，显示库存信息
![](/UI-DESIGN/UI2.4-库存盘点界面.png)

#####UI2.5：建立库存溢损单界面#####
	在库存管理界面点击"建立库存溢损单"按钮,跳转至建立库存溢损单界面：组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以实现提交与返回
		2.员工信息区域，显示库存管理人员的相应信息，有注销按钮
		3.消息提醒区域，接收系统消息
		4.查找区域，实现对商品的查找
		5.填表区域，完成库存溢损单的内容填写
![](/UI-DESIGN/UI2.5-建立库存溢损单.png)

#####UI2.6：建立库存报警单界面#####
	在库存管理界面点击"建立库存报警单"按钮,跳转至建立库存报警单界面：组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以实现提交与返回
		2.员工信息区域，显示库存管理人员的相应信息，有注销按钮
		3.消息提醒区域，接收系统消息
		4.查找区域，实现对商品的查找
		5.填表区域，完成库存溢损单的内容填写
![](/UI-DESIGN/UI2.6-建立库存报警单.png)

####UI3：进货销售主界面####
	进货销售主界面，组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以转入相应的页面进行操作。 
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI3-进货销售主界面.png)

#####UI3.1：客户管理界面#####
	在进货销售主界面点击"客户管理"按钮,跳转至客户管理界面：组成部分和界面图示如下：
		1.查找框，用于查找客户。 
		2.客户列表，显示所有客户，以供编辑。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI3.1-客户管理.png)

#####UI3.2：制定进货单界面#####
	在进货销售主界面点击"制定进货单"按钮,跳转至制定进货单界面：组成部分和界面图示如下：
		1.进货单信息界面，编辑进货单信息。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI3.2-制定进货单.png)

#####UI3.3：制定进货退货单界面#####
	在进货销售主界面点击"制定进货退货单"按钮,跳转至制定进货退货单界面：组成部分和界面图示如下：
		1.进货退货单信息界面，编辑进货退货单信息。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI3.3-制定进货退货单.png)

#####UI3.4：制定销售单界面#####
	在进货销售主界面点击"制定销售单"按钮,跳转至制定销售单界面：组成部分和界面图示如下：
		1.销售单信息界面，编辑销售单信息。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI3.4-制定销售单.png)

#####UI3.5：制定销售退货单界面#####
	在进货销售主界面点击"制定销售退货单"按钮,跳转至制定销售退货单界面：组成部分和界面图示如下：
		1.销售退货单信息界面，编辑销售退货单信息。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI3.5-制定销售退货单.png)

#####UI3.6：修改进销类单据界面#####
	在进货销售主界面点击"修改进销类单据"按钮,跳转至修改进销类单据界面：组成部分和界面图示如下：
		1.查找框，用于查找单据。 
		2.客户列表，显示所有单据，以供编辑。
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI3.6-修改进销类单据.png)

####UI4：财务管理主界面####
	财务管理主界面，组成部分和界面图示如下：
		1.功能按钮区域，点击按钮可以转入相应的页面进行操作。 
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI4-财务管理主界面.png)

#####UI4.1：账户管理界面#####
	在财务管理主界面点击"账户管理"按钮,跳转至账户管理界面：组成部分和界面图示如下：
		1.账户列表区域，显示符合查找条件的账户列表。 
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
		4.输入框区域，输入想要查找的账户信息，点击查找按钮进行查找。
![](/UI-DESIGN/UI4.1-账户管理界面.png)

#####UI4.1.1：账户管理之账户信息界面#####
	在账户管理界面点击账户列表中的账户,跳转至账户管理之账户信息界面：组成部分和界面图示如下：
		1.账户信息区域，显示当前账户的编号。 
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
		4.账户信息区域，名称一栏显示当前账户的名称，在搜索框中输入新名称信息，点击修改按钮以修改名称；余额一		              栏显示当前账户的余额。
		5.功能区域，有删除当前账户的按钮。
![](/UI-DESIGN/UI4.1.1-账户管理之账户信息界面.png)

#####UI4.2：制定收付款单界面#####
	在财务管理主界面点击"制定收付款单"按钮,跳转至制定收款单界面：组成部分和界面图示如下：
		1.信息填写区域，输入框指导用户输入相关数据。 
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
		4.功能区域，有导出和提交当前单据的两个按钮。
![](/UI-DESIGN/UI4.2-制定收付款单界面.png)

#####UI4.3：制定现金费用单界面#####
	在财务管理主界面点击"制定现金费用单"按钮,跳转至制定现金费用单界面：组成部分和界面图示如下：
		1.信息填写区域，输入框指导用户输入相关数据。 
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
		4.功能区域，有导出和提交当前单据的两个按钮。
![](/UI-DESIGN/UI4.3-制定现金费用单界面.png)

#####UI4.4：期初建账界面#####
	在财务管理主界面点击"期初建账"按钮,跳转至期初建账界面：组成部分和界面图示如下：
		1.信息填写区域，输入框指导用户输入相关数据。 
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
		4.功能区域，有导出和提交当前单据的两个按钮。
![](/UI-DESIGN/UI4.4-期初建账界面.png)

#####UI4.5：修改财务单据界面#####
	在财务管理主界面点击“修改财务单据”按钮，跳转至修改财务单据界面：组成部分和界面图示如下：
		1.单据列表区域，指显示所有未通过审批的单据。 
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
		4.功能区域，有导出和提交当前单据的两个按钮。
![](/UI-DESIGN/UI4.5-修改财务单据界面.png)

#####UI4.6：编辑经营历程表界面#####
	在财务管理主界面点击“编辑经营历程表”按钮，跳转至编辑经营历程表界面：组成部分和界面图示如下：
		1.信息筛选区域，指导用户输入相关数据进行筛选。 
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
		4.功能区域，有查询按钮。
![](/UI-DESIGN/UI4.6-编辑经营历程表界面.png)

#####UI4.6.1：编辑经营历程表之操作界面#####
	在编辑经营历程表界面点击“查询”按钮，跳转至编辑经营历程表之操作界面：组成部分和界面图示如下：
		1.筛选列表区域，显示符合筛选规则的单据。 
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
		4.功能区域，有红冲、红冲并赋值按钮以及导出按钮。
![](/UI-DESIGN/UI4.6.1-编辑经营历程表之操作界面.png)

#####UI4.7：查看操作日志界面#####
	在财务管理主界面点击“查看操作日志”按钮，跳转至查看操作日志界面：组成部分和界面图示如下：
		1.信息筛选区域，指导用户输入相关数据进行筛选。 
		2.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		3.消息提醒区域，接收系统消息。
		4.功能区域，有筛选和导出当前表格的两个按钮。
![](/UI-DESIGN/UI4.7-查看操作日志界面.png)

#####UI4.8：查看销售明细表界面#####
	在财务管理主界面点击"查看销售明细表"按钮，跳转至查看销售明细表界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.筛选区域，包括文本框和“确认”按钮。
		3.销售单据列表。
		4.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI4.8-查看销售明细表界面.png)

#####UI4.9：查看经营历程表界面#####
	在财务管理主界面点击"查看经营历程表"按钮，跳转至查看经营历程表界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.筛选区域，包括文本框和“确认”按钮。
		3.单据列表。
		4.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI4.9-查看经营历程表界面.png)

####UI5：总经理主界面####
	总经理主界面，组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。 
		2.功能按钮区域，点击按钮可以转入相应的页面进行操作。 
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI5-总经理主界面.png)

#####UI5.1：查看销售明细表界面#####
	在总经理主界面点击"查看销售明细表"按钮，跳转至查看销售明细表界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.筛选区域，包括文本框和“确认”按钮。
		3.销售单据列表。
		4.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI5.1-查看销售明细表界面.png)

#####UI5.2：查看经营历程表界面#####
	在总经理主界面点击"查看经营历程表"按钮，跳转至查看经营历程表界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.筛选区域，包括文本框和“确认”按钮。
		3.单据列表。
		4.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI5.2-查看经营历程表界面.png)

#####UI5.3：查看经营情况表界面#####
	在总经理主界面点击"查看经营情况表"按钮，跳转至查看经营情况表界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.筛选区域，包括文本框和“确认”按钮。
		3.收入类，支出类和利润。
		4.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI5.3-查看经营情况表界面.png)

#####UI5.4：促销策略管理界面#####
	在总经理主界面点击"促销策略管理"按钮，跳转至查看促销策略管理界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.四个功能按钮，对应促销策略的“增删改查”。
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI5.4-促销策略管理界面.png)

#####UI5.5：审批单据界面#####
	在总经理主界面点击"审批单据"按钮，跳转至审批单据界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.提交单据列表，包括单选框和“审批”按钮。
		3.“批量审批”功能按钮。
		4.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI5.5-审批单据界面.png)

####UI6：管理员主界面 ####
	管理员主界面，组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.“帐号管理”功能按钮。
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI6-管理员主界面.png)

#####UI6.1：帐号管理界面#####
	在管理员主界面点击"帐号管理"按钮，跳转至帐号管理界面：组成部分和界面图示如下：
		1.员工信息区域，显示当前操作人员的相应信息，有注销按钮。
		2.三个功能按钮
		3.消息提醒区域，接收系统消息。
![](/UI-DESIGN/UI6.1-帐号管理界面.png)


###3.1.2通信接口###
	CI：客户端与服务器使用Socket的方式进行通信

<br/>

##3.2功能需求##

###3.2.1商品分类管理###
####3.2.1.1特征描述####
	当需要进行商品分类管理时，一个经过登录的库存管理人员开始管理商品分类，完成商品分类的增加、删除、修改。
	优先级=高

####3.2.1.2刺激/响应序列####
	刺激：库存管理人员点击“商品分类管理”按钮再点击“增加商品分类”按钮
	响应：系统显示增加商品分类界面
	刺激：库存管理人员输入商品分类名称，母类和备注并点击“确认”按钮
	响应：系统更新商品分类，记录操作日志
	刺激：库存管理人员点击“商品分类管理”按钮再点击“删除商品分类”按钮
	响应：系统显示商品分类列表
	刺激：库存管理人员选择商品分类，点击“确认”按钮
	响应：系统删除该商品分类并更新商品分类，记录操作日志
	刺激：库存管理人员点击“商品分类管理”按钮再点击“修改商品分类”按钮
	响应：系统显示商品分类列表
	刺激：库存管理人员选择商品分类并编辑
	响应：系统更新商品分类，记录操作日志

####3.2.1.3相关功能需求####
| 编号                                       | 需求描述与度量                                  |
| :--------------------------------------- | :--------------------------------------- |
| Classification.Input                     | ·系统应该允许库存管理人员在进行商品分类管理时（输出：商品分类主界面）既可以鼠标点击，又可以键盘输入 |
| Classification.Input.Add                 | ·在库存管理人员输入增加商品分类命令时（查询），系统允许库存管理人员进行商品分类的增加（输出：商品分类增加界面），参见Classification.Add |
| Classification.Input.Delete              | ·在库存管理人员进行商品分类的删除时（查询），系统允许库存管理人员对商品分类进行删除，参见Classification.Delete |
| Classification.Input.Change              | ·在库存管理人员进行商品分类的更改时（查询），系统允许库存管理人员对商品分类名称进行更改（输出：商品分类修改界面），参见Classification.Change |
| Classification.Show                      | ·系统允许库存管理人员进行商品分类的查看，系统将会自动显示所有商品分类的列表（按照分类保存的先后顺序）（输出）（逻辑文件） |
| Classification.Show.Search               | ·库存管理人员对商品分类进行查询时，可以通过输入名称（输入）或编号（输入）对商品分类进行查询，点击“确认”按钮后即可查询（查询），并显示符合条件的商品分类列表（输出）（逻辑文件） |
| Classification.Show.Search.Warning       | ·库存管理人员对商品分类进行查询时，未输入名称或编号就对商品分类进行查询点击“查询”按钮，则系统显示“未输入名称或编号”（输出） |
| Classification.Show.Return               | ·库存管理人员点击“返回”按钮（查询），回到主界面（库存管理人员主界面）（输出） |
| Classification.Add                       | ·库存管理人员在商品分类管理界面点击“添加商品分类”按钮（查询）进入添加商品分类界面（输出：添加商品分类界面） |
| Classification.Add.Finish                | ·完成输入商品分类名称（输入）、商品母类的选择（若商品无母类，则选择“无”）（输入）、商品分类描述备注（默认描述为空）（输入）之后点击“确认添加”按钮（查询），若以上信息都填写无误，系统显示“添加成功”（输出）并更新商品分类同时系统显示商品分类的新列表（逻辑文件） |
| Classification.Add.Warning.Unfinish      | ·没有完成新商品分类必要内容的输入库存管理人员就点击“确认”按钮，系统提示请完成新商品分类必要信息的填写（输出） |
| Classification.Add.Warning.Name          | ·填写商品分类名称时填写了已存在的商品名称而其他无误，点击“确认”按钮后，系统提示已存在此商品分类（输出）（逻辑文件）填写商品分类名称时填写的商品分类名称超过10个字符而其他无误，点击“确认”按钮后系统提示商品分类名称超过10个字符（输出） |
| Classification.Add.Warning.Havegoods     | ·输入的商品母类中含有商品，点击“确认”按钮后系统提示母类中存在商品，无法增加子分类（输出）（逻辑文件） |
| Classification.Add.Cancel                | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品分类管理界面）（输出）  |
| Classification.Delete                    | ·库存管理人员点击“删除商品分类”按钮（查询）进入删除商品分类界面        |
| Classification.Delete.Warning.Unselect   | ·未选择商品分类就点击“确认”按钮，系统提示未选择商品分类（输出）        |
| Classification.Delete.Goods              | ·系统核查该分类下有无商品，有商品提示该分类有商品（输出）（逻辑文件）      |
| Classification.Delete.Cancel             | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品分类管理界面）（输出）  |
| Classification.Change                    | ·库存管理人员点击“修改商品分类”按钮（查询），进入修改商品分类界面（输出）   |
| Classification.Change.Name               | ·库存管理人员输入新商品分类名称（输入）点击“确认”按钮时（查询），系统更新商品分类（输出）（逻辑文件） |
| Classification.Change.Hydro              | ·库存管理人员输入新商品分类母类（输入）点击“确认”按钮时，系统更新商品分类（逻辑文件） |
| Classification.Change.Remark             | ·库存管理人员输入新商品分类的备注（输入）点击“确认”按钮时，系统更新商品分类（逻辑文件） |
| Classification.Change.Warning.Checkusedname | ·系统核查新的分类名称是否出现，出现过则提示此名称已使用（输出）（逻辑文件）   |
| Classification.Change.Warning.Checkovername | ·系统核查新的分类名称是否超过10个字符超过则提示此名称超过10个字符（输出）  |
| Classification.Change.Warning.Checkhydro | ·系统核查新的分类的母类是否有商品，有商品则提示该母类已有商品（输出）（逻辑文件） |
| Classification.Change.Cancel             | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品分类管理界面）（输出）  |
| Classification.Update                    | ·系统记录操作日志并对商品分类所有进行更新，包括名称、母类、备注（输出）（逻辑文件） |
| Classification.Update.Diary              | ·系统记录操作日志，包括时间区间，操作员，事件（逻辑文件）            |
| Classification.Update.Name               | ·系统更新商品分类的名称（逻辑文件）                       |
| Classification.Update.Hydro              | ·系统更新商品分类的分类关系（逻辑文件）                     |
| Classification.Update.Remark             | ·系统更新商品分类的备注（逻辑文件）                       |

<br/>

###3.2.2商品管理###
####3.2.2.1特性描述####
	当商品需要管理时，一个已登陆的库存管理人员开始进行商品管理，包括对商品的增加，删除，修改，查询操作。
	优先级=高
####3.2.2.2刺激/响应序列
	刺激：库存管理人员点击“商品管理”按钮
	响应：系统进入商品管理界面
	刺激：库存管理人员点击“增加商品”按钮
	响应：系统显示所有商品分类列表
	刺激：库存管理人员选择商品分类，添加商品信息
	响应：系统更新商品，记录操作日志
	刺激：库存管理人员点击“删除商品”按钮
	响应：系统显示所有商品分类列表
	刺激：库存管理人员选择商品分类
	响应：系统显示该分类下所有商品
	刺激：库存管理人员选择商品进行删除
	响应：系统更新商品，记录操作日志
	刺激：库存管理人员点击“修改商品”按钮
	响应：系统显示所有商品分类列表
	刺激：库存管理人员选择商品并编辑
	响应：系统更新商品，记录操作日志
	刺激：库存管理人员点击“查询商品”按钮
	响应：系统显示所有商品分类列表
	刺激：库存管理人员选择商品进行查询
	响应：系统显示商品信息并记录操作日志
####3.2.2.3相关功能需求####
| **编号**                        | **详细需求描述**                               |
| :---------------------------- | :--------------------------------------- |
| MC(merchandise control).Input | ·系统应该允许库存管理人员在进行商品分类管理时（输出：商品管理界面）既可以鼠标点击，又可以键盘输入 |
| MC.Input.Add                  | ·在库存管理人员输入增加命令时（查询），系统允许库存人员进行商品的增加（输出：增加商品界面），参见MC.Add |
| MC.Input.Delete               | ·在库存管理人员输入删除命令时（查询），系统允许库存人员进行商品的删除，参见MC.Delete |
| MC.Input.Change               | ·在库存管理人员输入修改命令时（查询），系统允许库存人员进行商品的修改（输出：修改商品界面），参见MC.Change |
| MC.Input.Detail               | ·在库存管理人员输入查询命令时（查询），系统允许库存人员进行商品的查询（输出：查询商品界面），参见MC.Detail |
| MC.Show                       | ·系统显示商品信息列表（输出）（逻辑文件）                    |
| MC.Show.Search                | ·当库存管理人员欲进行特定商品的查询时，可以选择输入：名称（输入）、商品编号（输入）、商品分类（输入），并点击“查询”按钮进行查询（查询），之后系统显示列表列出符合条件的商品（输出）（逻辑文件） |
| MC.Show.Search.Warning        | ·库存管理人员进行商品查询时未输入条件就点击查询按钮，系统提示未输入条件（输出） |
| MC.Show.Return                | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品管理界面）（输出）    |
| MC.Add                        | ·库存管理人员点击“增加商品”按钮（查询），进入增加商品界面（输出）       |
| MC.Add.Finish                 | ·库存管理人员输入添加的商品属性，包括编号（输入）、名称（输入）、型号（输入）、库存数量（输入）、进价（输入）、零售价（输入）、最近进价（输入）、最近零售价（输入）、一个最近的进价（输入）和售价（输入），点击“添加”按钮（查询），系统更新商品信息（逻辑文件） |
| MC.Add.Warning.Unfinish       | ·库存管理人员未完成商品属性的输入就点击“添加”按钮，系统提示属性未完成（输出） |
| MC.Add.Warning.Name           | ·库存管理人员输入已使用商品名称，系统提示商品已使用（输出）（逻辑文件），库存管理人员输入超过10个字符的商品名称，系统提示商品名称超过10个字符（输出） |
| MC.Add.Warning.Unselect       | ·库存管理人员未选择商品分类就点击“添加”按钮，系统提示未选择商品分类（输出）  |
| MC.Add.Warning.Data           | ·输入库存数量为小数时，系统提示库存数量不能为小数（输出）；输入数据为负数时，系统提示数据不能为负数（输出） |
| MC.Add.Cancle                 | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品管理界面）（输出）    |
| MC.Delete                     | ·库存管理人员点击“删除”按钮（查询），进行删除操作               |
| MC.Delete.Warning.Unselect    | ·库存管理人员未选择商品就点击“删除”按钮时，系统提示商品未选择（输出）     |
| MC.Delete.Cancel              | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品管理界面）        |
| MC.Change                     | ·库存管理人员点击“修改”按钮（查询），进入修改商品界面（输出）         |
| MC.Change.Nature              | ·库存管理人员输入新的属性时（输入），系统更新商品信息（逻辑文件）        |
| MC.Change.Warning.Name        | ·库存管理人员输入已使用商品名称，系统提示商品已使用（输出）（逻辑文件），库存管理人员输入超过10个字符的商品名称，系统提示商品名称超过10个字符（输出） |
| MC.Change.Warning.Unselect    | ·库存管理人员未选择商品分类就点击“修改”按钮，系统提示未选择商品分类（输出）  |
| MC.Change.Warning.Data        | ·输入库存数量为小数时，系统提示库存数量不能为小数（输出）；输入数据为负数时，系统提示数据不能为负数（输出) |
| MC.Change.Return              | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品管理界面）        |
| MC.Detail                     | ·库存管理人员点击“查询”按钮（查询），进入查询商品界面（输出）         |
| MC.Detail.Search              | ·库存管理人员选择商品，系统显示商品信息(输出）（逻辑文件）           |
| MC.Detail.Cancel              | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品管理界面）（输出）    |
| MC.Update                     | ·系统对商品信息更新，记录操作日志（逻辑文件）                  |
| MC.Update.Diary               | ·系统记录操作日志                                |
| MC.Update.Information         | ·系统更新商品信息                                |

<br/>

###3.2.7客户管理###
####3.2.7.1特性描述####
    当客户信息需要管理时，一个已登陆的进货销售人员发起对客户信息的管理，包括对客户信息的增加、删除、修改、查看。
    优先级=中

####3.2.7.2刺激/响应序列####
    刺激：进货销售人员查找客户
    响应：系统提供基于客户编号或者关键字进行模糊查找
    刺激：进货销售人员添加客户
    响应：系统显示添加客户的界面
    刺激：进货销售人员删除客户
    响应：系统删除该客户，更新客户列表
    刺激：进货销售人员修改客户信息
    响应：系统更新客户信息，更新客户列表
    刺激：进货销售人员查看客户信息
    响应：系统显示客户信息

####3.2.7.3相关功能需求####
| **编号**                          | **需求描述与度量**                              |
| ------------------------------- | ---------------------------------------- |
| ManageClient.Input              | 系统允许进货销售人员在客户管理时（输出:客户管理主界面）进行键盘输入       |
| ManageCLient.Input.Member       | 当用户输入客户编号或关键字(查询)时，系统显示客户信息，参见ManageCLient.Member |
| ManageClient.Input.Add          | 当进货销售人员点击“添加客户”按钮(查询)，系统执行添加客户任务，参见ManageClient.Add |
| ManageClient.Input.Delete       | 当进货销售人员选中客户，点击“删除客户”按钮(查询)，系统执行删除客户任务，参见ManageClient.Delete |
| ManageClient.Input.Edit         | 当进货销售人员选中客户，点击“编辑客户信息”按钮(查询),系统执行编辑客户信息任务，参见ManageClient.Edit |
| ManageClient.Input.Check        | 当进货销售人员选中客户，点击“查看客户信息”按钮(查询)，系统执行查看客户信息任务，参见ManageClient.Check |
| ManageCLient.Member.Valid       | 在进货销售人员输入已有客户的信息，并点击“查找客户”时(查询，逻辑文件)，系统显示客户(输出) |
| ManageClient.Member.Invalid     | 在进货销售人员输入其他，并点击“查找客户”时提示没有相应客户           |
| ManageClient.Add                | 进货销售人员点击“添加客户”按钮，系统显示添加客户界面(输出)          |
| ManageClient.Add.Finish         | 进货销售人员完成所有客户属性的输入(输入,逻辑文件)，包括：编号（自动生成）、分类（进货商、销售商）、级别（五级，一级普通用户，五级VIP客户）、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员。确认无误后，点击“确认添加”按钮(查询)，系统提示添加成功(输出)。 |
| ManageClient.Add.Cancel         | 进货销售人员在添加客户时点击“取消”按钮(查询)，则关闭添加客户界面，返回客户管理界面(输出) |
| ManageClient.Add.Unfinish       | 进货销售人员在点击“确认添加”按钮时，没有完成所有客户信息的输入，则系统提示“请输入所有客户信息”(输出)。 |
| ManageClient.Add.ClientExisted  | 进货销售人员在点击“确认添加”按钮时，客户的名字和电话与已存在的客户相同时，则系统提示“客户已存在”。(输出) |
| ManageClient.Delete             | 进货销售人员选择某一客户，并点击“删除客户”按钮，系统会出现对话框提示“是否删除客户”。（输出） |
| ManageClient.Delete.Finish      | 点击对话框中的“确认”（查询），则删除客户（逻辑文件），提示客户已删除（输出），返回客户管理界面（输出）。 |
| ManageClient.Delete.Cancel      | 点击对话框中的“取消”，则不删除客户，返回客户管理界面。             |
| ManageClient.Edit               | 进货销售人员点击“编辑客户”按钮，系统显示编辑客户界面(输出)          |
| ManageCLient.Edit.Finish        | 进货销售人员选择某一客户，并点击“编辑客户信息”按钮，系统会显示该客户信息(输出)。进货销售人员编辑客户信息(输入,逻辑文件)，并点击“确认编辑”按钮(查询)，系统会更新客户信息(逻辑文件)，返回客户管理界面(输出) |
| ManageClient.Edit.Cancel        | 进货销售人员在编辑客户信息时点击“取消”按钮，则关闭编辑客户界面，返回客户管理界面 |
| ManageClient.Edit.ClientExisted | 进货销售人员在点击“确认编辑”按钮时，客户的名字和电话与别的的客户相同时(逻辑文件)，则系统提示“信息与其他客户重复”。(输出) |
| ManageClient.Edit.Unfinish      | 进货销售人员在点击“确认编辑”按钮时，没有完成所有客户信息的输入，则系统提示“请输入所有客户信息”(输出)。 |
| ManageCLient.Check              | 进货销售人员选择某一客户，并点击“查看客户”按钮(查询)，系统会显示客户信息。(输出，逻辑文件) |
| ManageClient.Update             | 系统更新重要信息，每个更新过程组成一个事务，要么全部更新，要么全部不更新。    |
| ManageCLient.Update.ClientInfo  | 系统更新客户信息  (逻辑文件)                         |
| ManageClient.Update.List        | 系统更新客户列表(逻辑文件)                           |
| ManageClient.Update.Log         | 系统更新日志(逻辑文件)                             |

<br/>

###3.2.8制定进货单###
####3.2.8.1特性描述####
    当需要制定进货单的时候，一个已登录的进货销售人员制定进货单并提交，等待总经理的审批。
    优先级＝较高

####3.2.8.2刺激/响应序列####
    刺激：进货销售人员点击“制定进货单”
    响应：系统显示制定进货单界面
    刺激：进货销售人员输入单据信息
    响应：系统显示商品列表
    刺激：进货销售人员添加商品
    响应：系统更新商品列表和总额
    刺激：进货销售人员填写备注，提交单据
    响应：系统上传单据，提示操作成功

####3.2.8.3相关功能需求####
| **编号**                      | **需求描述与度量**                              |
| --------------------------- | ---------------------------------------- |
| EstablishJHD.Init           | 进货销售人员点击“制定进货单”按钮（查询）,系统自动生成进货单（输出），并自动生成单据编号（JHTHD-yyyyMMdd-xxxxx）。（输出，逻辑文件） |
| EstablishJHD.Init.ID        | 单据编号格式为：JHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子（逻辑文件） |
| EstablishJHD.Init.Overflow  | 当制定的进货单数单天超过99999条时，系统提示“超过单日进货单上限” （输出） |
| EstiblishJHD.Add            | 制定进货单时，进货销售人员首先依次添加供应商、仓库、操作员，然后往入库商品列表中添加商品。商品添加时，总额会自动计算并更新。最后，进货销售人员可以手动输入进货单的备注。 |
| EstablishJHD.Add.Supplier   | 在制定进货单时，需要选择供应商，添加到进货单中（查询，逻辑文件）         |
| EstablishJHD.Add.Repository | 在制定进货单时，需要选择仓库，添加到进货单中（查询，逻辑文件）          |
| EstablishJHD.Add.Operator   | 在制定进货单时，需要选择操作员，添加到进货单中（查询，逻辑文件）         |
| EstablishJHD.Add.Goods      | 进货销售人员点击“添加商品”按钮（查询），系统执行添加商品任务，参见EstablishJHD.Goods |
| EstablishJHD.Add.Calculate  | 商品添加时，总额会自动计算并更新。（输出，逻辑文件）               |
| EstablishJHD.Add.Comments   | 在制定进货单时，需要输入备注到（输入，逻辑文件）                 |
| EstablishJHD.Add.Cancel     | 制定进货单时，如果供应商想要取消交易，进货销售人员点击关闭按钮，直接关闭制定进货单的界面，返回客户管理主界面（查询，输出）。 |
| EstablishJHD.Goods          | 系统显示商品选择界面，包括该供应商的所有商品（逻辑文件，输出）,进货销售人员可以选中商品，添加到入库商品列表中（查询）。 |
| EstablishJHD.Goods.Info     | 商品选择界面下，每个商品的编号、型号、金额、名称、单价（默认为进价）应该显示出来（输出）；除了上述信息之外，添加到进货单的入库商品列表中时，还应该显示进货数量（默认为1）和商品备注（默认无）。（输出，逻辑文件） |
| EstablishJHD.Goods.SetInfo  | 对于入库商品列表中的商品，进货销售人员可以更改其数量和商品备注（输入，逻辑文件） |
| EstablishJHD.Goods.Del      | 选中某个商品，点击“删除商品”，可以将其从入库商品列表中删除。（查询，输出）   |
| EstablishJHD.End            | 进货销售人员制定进货单，并提交进货单                       |
| EstablishJHD.End.Finish     | 进货销售人员完成所有输入且正确无误，点击“提交进货单”按钮（查询），则进货单上传，系统提示操作成功（输出）。 |
| EstablishJHD.End.Unfinish   | 进货销售人员未完成所有输入（逻辑文件），点击“提交进货单”按钮，系统提示“请输入进货单所有信息”。（输出） |
| EstablishJHD.End.Error      | 进货销售人员输入有误（如商品数量写成小数）（逻辑文件），点击“提交进货单”按钮，系统提示“商品数目必须是正整数”。（输出） |
| EstablishJHD.End.Update     | 进货单上传后，系统更新数据，参见Establish.Update         |
| EstablishJHD.End.Close      | 进货单上传后，系统关闭制定进货单界面（输出）                   |
| EstablishJHD.Update         | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新     |
| EstablishJHD.Update.Log     | 系统更新日志信息（逻辑文件）                           |
| EstablishJHD.Update.State   | 系统更新单据的状态信息（草稿->已提交）（逻辑文件）               |

<br/>

###3.2.14制定收付款单###
####3.2.14.1 特性描述####
    公司签订货物进出货的订单后，财务人员根据从进货销售人员处获取的数据，新建一张收付款单，然后发送审批。系统保存新建的收付款单并记录操作日志。
    优先级=高

####3.2.14.2 刺激/响应序列####
    刺激：财务人员完整输入以下信息，包括：
         a.单据编号（格式：SKD-yyyyMMdd-xxxxx或者FKD-yyyyMMdd-xxxxx）
         b.客户（同时包含供应商和销售商）
         c.转账列表（包括：银行账户，转账金额，备注）
    响应：系统自动填充操作员（当前登录用户）信息，计算总额汇总
    刺激：财务人员核对后点击提交
    响应：系统保存收付款单，然后发送审批
    刺激：财务人员导出数据
    响应：系统向指定路径写出数据
    刺激：财务人员点击返回
    响应：系统记录操作日志，并返回主界面

####3.2.14.3相关功能需求####
| **功能需求**                          | **详细需求描述**                               |
| --------------------------------- | ---------------------------------------- |
| FS.Rec_Pay.Input                  | ·系统应该允许收银员在制定收付款单时进行键盘输入（输入）             |
| FS.Rec_Pay.Input.CodeFormat       | ·系统检查输入的单据编号格式符合要求，详见刺激和FS.Rec_Pay.Input.Invalid(输入) |
| FS.Rec_Pay.Input.TransAccountList | ·系统检测所填写的转账列表（查询），填写完毕后而且金额符合数据格式，保存数据，计算总额汇总（输入），参见FS.Rec_Pay.Robot.CountTotal |
| FS.Rec_Pay.Input.Finish           | ·系统检测到操作人员输入完整单据编号、客户、转账列表（查询），自动附加操作员信息（输入），参见FS.Rec_Pay.Robot.AddOperator |
| FS.Rec_Pay.Input.HandIn           | ·在财务人员点击提交后，系统保存单据为草稿状态（逻辑文件），并且将收付款单发送审批（对外接口） |
| FS.Rec_Pay.Input.Invalid          | ·当输入的不符合数据格式或者显示异常的字符串时（输入），系统不允许提交      |
| FS.Rec_Pay.Input.Cancel           | ·财务人员取消新建收付款单事务（输入），不保存任何信息退出            |
| FS.Rec_Pay.Robot.AddOperator      | ·系统将当前登录用户标识为操作员，并写入收付款单（查询）（输出）         |
| FS.Rec_Pay.Robot.CountTotal       | ·系统根据FS.Rec_Pay.Input.TransAccountList所存储的数据自动计算总额汇总（查询）（输出），参见FS.Rec_Pay.Input.TransAccountList |
| FS.Rec_Pay.Robot.CountInvalid     | ·系统在计算FS.Rec_Pay.Robot.CountTotal时结果溢出，提示重新输入数据的错误（查询）（输入），参见FS.Rec_Pay.Input.Invalid |
| FS.Rec_Pay.Output                 | ·财务人员可以导出审批通过的历史收付款单到指定路径（输出）            |
| Fs.Rec_Pay.Output.Verify          | ·系统将会验证写出数据完毕（查询）（输出），否则重新尝试写出，尝试3次以后停止  |
| Fs.Rec_Pay.Output.PathInvalid     | ·系统检测到文件路径不存在或者特权不够（输出）（查询）              |
| Fs.Rec_Pay.Output.Cancel          | ·财务人员中断导出（输出），系统删除文件（逻辑文件），如果已经导出完毕则无法撤销 |
| FS.Rec_Pay.End                    | ·系统允许财务人员结束新建收款单事务，但是已经提交的审批不会被撤销（对外接口）  |
| FS.Rec_Pay.End.Timeout            | ·如果财务人员连续两小时不操作系统（查询），则系统保存所有填写的数据后退出（逻辑文件） |
| FS.Rec_Pay.End.Close              | ·财务人员可以保存单据后退出（逻辑文件）                     |
| FS.Rec_Pay.Restore.Interupt       | ·系统允许在输入中断后第二次进入时恢复已输入的数据（逻辑文件）          |
| FS.Rec_Pay.Restore.HavHanded      | ·财务人员提交收款单后，系统保存收付款单为草稿（逻辑文件）            |
| FS.Rec_Pay.Log.Write              | ·当财务人员退出时（包括非正常退出），系统保存所有（提交、保存、导出）操作信息（操作人、事件、时间区间）到操作日志中去（逻辑文件） |
| FS.Rec_Pay.Log.Write.Fail         | ·写操作日志意外中断（查询）（逻辑文件），系统提示操作日志更新异常        |

<br>

###3.2.15制定现金费用单###
####3.2.15.1 特性描述####
    公司签订单后，财务人员根据从进货销售人员处获取的数据，新建一张现金费用单，提交后保存单据为草稿，然后发送审批。此单用于管理报销。最后系统记录操作日志
    优先级=高

####3.2.15.2 刺激/相应序列####
    刺激：财务人员完整输入以下信息，包括：
         a.单据编号（格式：XJFYD-yyyyMMdd-xxxxx）
         b.银行账户
         c.条目清单（包括：条目名，金额，备注）
    响应：系统自动填充操作员（当前登录用户）信息，计算总额汇总
    刺激：财务人员核对后点击提交
    响应：现金费用单发送审批
    刺激：财务人员导出数据
    响应：系统向指定路径写出数据

####3.2.15.3相关功能需求####
| **功能需求**                             | **详细需求描述**                               |
| ------------------------------------ | ---------------------------------------- |
| FS.Expense.Input                     | ·系统应该允许收银员在制定现金费用单时进行键盘输入（输入）            |
| FS.Expense.Input.CodeFormat          | ·系统检查输入的单据编号格式符合要求（输入）见刺激，不符合时不能提交       |
| FS.Expense.Input.BankAccount         | ·系统检验银行账户数据的格式符合相应银行账户位数（输入）（查询）         |
| FS.Expense.Input.BankAccount.Warning | ·当系统检测到银行账户的格式不符合时（查询）发出银行账号不匹配的警告       |
| FS.Expense.Input.ItemList            | ·系统存储所填写信息（逻辑文件），参见刺激，备注可以为空（输入）         |
| FS.Expense.Input.ItemList.Finish     | ·系统检测到ItemList填写完毕至少一项时（查询），开始计算并显示金额汇总（输入），参见FS.Expense.Robot.CountTotal |
| FS.Expense.Input.Finish              | ·系统检测到操作人员输入完整单据编号、银行账户、条目清单，自动附加操作员信息（查询）（输入），参见FS.Expense.Robot |
| FS.Expense.Input.Invalid             | ·当填写内容不符合数据格式或者是不能正常显示的字符串时（输入），系统不允许提交  |
| FS.Expense.Input.Cancel              | ·财务人员取消输入，系统不做保存退出新建现金费用单事务              |
| FS.Expense.Robot.AddOperator         | ·系统将当前登录用户标识为操作员，并写入现金费用单（输出）            |
| FS.Expense.Robot.CountTotal          | ·系统根据FS.Expense.Input.ItemList所存储的数据自动计算总额汇总（输出） |
| FS.Expense.Robot.CountInvalid        | ·系统根据FS.Expense.Robot.CountTotal计算的数据溢出，提示重新输入数据的警告（输入），参见FS.Expense.Input.Invalid |
| FS.Expense.Output                    | ·财务人员可以导出历史现金费用单到指定路径（输出）                |
| Fs.Expense.Output.Verify             | ·系统将会验证写出数据完毕（查询）（输出），否则重新尝试写出，尝试3次以后停止  |
| Fs.Expense.Output.PathInvalid        | ·文件路径不存在或者权限不够（查询）（输出）                   |
| Fs.Expense.Output.Cancel             | ·财务人员中断导出，系统删除文件（逻辑文件），如果已经导出完毕则无法撤销     |
| FS.Expense.End.Timeout               | ·如果财务人员连续两小时不操作系统（查询），则系统保存所有填写的数据后退出（逻辑文件） |
| FS.Expense.End.Close                 | ·财务人员可以保存更改后退出（逻辑文件）                     |
| FS.Expense.Restore                   | ·系统允许在输入意外退出后第二次进入新建时恢复已输入的数据（逻辑文件）（对外接口） |
| FS.Expense.Restore.HavHanded         | ·财务人员提交现金费用单后（对外接口），系统保存副本（逻辑文件）         |
| FS.Expense.Log.Write                 | ·当财务人员退出时（包括非正常退出），系统保存所有（提交、保存、导出）操作信息（操作人、事件、时间区间）到操作日志中去（逻辑文件） |
| FS.Expense.Log.Write.Fail            | ·写操作日志意外中断（查询）（逻辑文件），系统提示操作日志更新异常        |

<br/>

###3.2.23 审批单据###
####3.2.23.1 特性描述####
	一个经过验证的总经理进行审批单据工作，完成查看单据，修改数据，审批核实，状态更新。
	优先级=高

####3.2.23.2 刺激／响应序列####
	刺激：总经理申请查看提交单据<br/>
	响应：系统显示所有提交单据列表<br/>
	刺激：总经理选择某一单据进行审批<br/>
	响应：系统显示该单据详细内容<br/>
	刺激：总经理结束审批单据任务<br/>
	响应：系统更新数据，回到总经理主界面<br/>

####3.2.23.3 相关功能需求####
| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| Approval.Input                    | 系统应该允许总经理在审批单据（输出：审批单据主界面）时进行键盘输入和鼠标点击   |
| Approval.Input.Filter             | 总经理输入筛选条件（输入），系统要标识符合单据，参见Approval.Filter |
| Approval.Input.Receipt            | 总经理选择某一单据进行审批（查询），系统显示该单据的详细信息界面（输出），参见Approval.Receipt |
| Approval.Input.Quantities         | 总经理选择审批通过（查询），参见Approval.Quantities      |
| Approval.Input.End                | 总经理结束审批单据（查询），参见Approval.End             |
| Approval.Filter.Valid             | 系统刷新主界面提交单据列表，显示符合条件的提交单据列表（输出），参见Approval.Input |
| Approval.Filter.Null              | 主界面显示该类型单据的提交列表为空（输出）                    |
| Approval.Filter.Invalid           | 系统提示单据类型（逻辑文件）不存在并拒绝输入（输出）               |
| Approval.Receipt.Modify           | 总经理修改某一单据项目栏数据（输入），系统记录修改情况，参见Approval.Update |
| Approval.Receipt.Modify.Invalid   | 系统提示输入数据为负并拒绝输入（输出）                      |
| Approval.Receipt.Modify.OverRight | 系统提示权限（逻辑文件）不够并拒绝输入（输出）                  |
| Approval.Receipt.Pass             | 总经理通过该单据的审批（查询），系统完成各类数据处理               |
| Approval.Receipt.Pass.Balance     | 通过库存损益单，系统更改库存数量                         |
| Approval.Receipt.Pass.Gift        | 通过库存赠送单（逻辑文件：促销策略），系统减少库存数量，并通知库存管理人员    |
| Approval.Receipt.Pass.Warn        | 通过库存报警单，系统通知进货销售人员                       |
| Approval.Receipt.Pass.Sale        | 通过销售类和进货类单据，系统更改库存数量和客户的应收应付数据，并通知库存管理人员和财务人员 |
| Approval.Receipt.Pass.Payment     | 通过收付款单，系统更改账户的余额和客户的应收应付数据，并通知财务人员       |
| Approval.Receipt.Pass.Cash        | 通过现金费用单，系统减少该账户余额                        |
| Approval.Recepit.Fail             | 总经理不通过该单据的审批（查询），系统更改该单据状态状态为审批不通过       |
| Approval.Recepit.Fail.Result      | 系统提示总经理输入不通过理由（输出），总经理输入理由（输入），确认审批不通过（查询）后系统通知单据制定者并回到主界面（输出），参见Approval.Input |
| Approval.Receipt.Fail.Result.Null | 系统提示输入理由为空并拒绝确认（输出）                      |
| Approval.Quantities.Valid         | 系统更改已勾选单据（输入）的状态为审批通过，刷新主界面提交单据列表（输出）    |
| Approval.Quantities.Invalid       | 总经理未选中任何单据，系统提示未选中任何单据并拒绝批量审批（输出）        |
| Approval.End                      | 系统应该允许总经理要求结束审批单据任务                      |
| Approval.End.Update               | 在总经理要求结束审批单据任务时，系统更新数据，参见Approval.Update |
| Approval.End.Close                | 在总经理要求结束审批单据任务时，系统关闭审批任务，参见Approval.Close |
| Approval.Update                   | 系统更新重要数据，整个更新过程构成一个事务                    |
| Approval.Update.Stock             | 系统更新库存数量（逻辑文件）                           |
| Approval.Update.Customer          | 系统更新客户应收应付数据（逻辑文件）                       |
| Approval.Update.Account           | 系统更新公司账户余额（逻辑文件）                         |
| Approval.Update.Notice            | 系统更新通知消息（逻辑文件）                           |
| Approval.Update.Receipt           | 系统更新单据数据及状态（逻辑文件）                        |
| Approval.Update.SubmitList        | 系统更新提交单据列表（逻辑文件）                         |
| Approval.Update.PassList          | 系统更新审批通过单据列表（逻辑文件）                       |
| Approval.Update.FailList          | 系统更新审批未通过单据列表（逻辑文件）                      |
| Approval.Update.Log               | 系统更新操作日志（逻辑文件）                           |
| Approval.Close                    | 系统关闭本次任务                                 |

<br/>

### 3.2.24 促销策略管理
#### 3.2.24.1 特性描述
	一个经过验证的总经理进行促销策略管理工作，完成促销策略增，删，改，查工作。
	优先级=高

#### 3.2.24.2 刺激／响应序列
	刺激：总经理申请促销策略管理<br/>
	响应：系统显示管理界面<br/>
	刺激：总经理选择增，删，改，查任一工作<br/>
	响应：系统显示相应界面<br/>
	刺激：总经理结束促销策略管理任务<br/>
	响应：系统更新数据，回到总经理主界面<br/>

####3.2.24.3 相关功能需求####
| 编号                            | 需求描述与度量                                  |
| ----------------------------- | ---------------------------------------- |
| Promotion.Input               | 系统应该允许总经理在促销策略管理（输出：促销策略管理主界面）时进行键盘输入和鼠标点击 |
| Promotion.Input.Add           | 总经理选择新建促销策略（查询），系统跳转到相应界面，参见Promotion.Add |
| Promotion.Input.Del           | 总经理选择删除促销策略（查询），系统跳转到相应界面，参见Promotion.Del |
| Promotion.Input.Modify        | 总经理选择修改促销策略（查询），系统跳转到相应界面，参见Promotion.Modify |
| Promotion.Input.Examine       | 总经理选择查看促销策略（查询），系统跳转到相应界面，参见Promotion.Examine |
| Promotion.Input.End           | 总经理结束促销策略管理（查询），参见Promotion.End          |
| Promotion.Add.ID              | 系统系统提示（输出）总经理选择新建促销策略ID（逻辑文件），总经理选择某个ID（输入），系统显示该方案详细界面（输出） |
| Promotion.Add.Number          | 总经理为项目栏输入数据（输入），参见Promotion.Number       |
| Promotion.Add.Finish          | 总经理结束新建促销策略（查询），参见Promotion.Finish       |
| Promotion.Del.Start           | 系统显示所有促销策略（输出）                           |
| Promotion.Del.One             | 总经理选择某一促销方案删除（查询），系统删除该方案并更新促销策略列表（输出）   |
| Promotion.Del.One.Invalid     | 系统提示该方案正在实施并拒绝删除（输出）                     |
| Promotion.Del.End             | 总经理结束促销策略删除（查询），回到促销策略管理主界面（输出），参见Promotion.Input |
| Promotion.Modify.Start        | 系统显示所有促销策略（输出）                           |
| Promotion.Modify.One          | 总经理选择某一促销方案修改（查询），系统显示该方案详细界面（输出）        |
| Promotion.Modify.One.Invalid  | 系统提示该方案正在实施并拒绝修改（输出）                     |
| Promotion.Modify.One.Number   | 总经理修改项目栏数据（输入），参见Promotion.Number        |
| Promotion.Modify.One.Finish   | 总经理结束该方案的修改（查询），参见Promotion.Finish       |
| Promotion.Modify.End          | 总经理结束促销策略修改（查询），回到促销策略管理主界面，参见Promotion.Input |
| Promotion.Examine.Start       | 系统显示所有促销策略（输出）                           |
| Promotion.Examine.One         | 总经理选择某一促销方案查看（查询），系统显示该方案详细界面（输出）        |
| Promotion.Examine.One.End     | 总经理结束该方案的查看（查询），系统回到查看主界面（输出）            |
| Promotion.Examine.End         | 总经理结束促销策略修改（查询），回到促销策略管理主界面，参见Promotion.Input |
| Promotion.Number              | 系统记录修改后项目栏数据                             |
| Promotion.Number.OverRight    | 输入数据超过总经理权限（逻辑文件），系统提示权限不够并拒绝输入（输出）      |
| Promotion.Number.Negative     | 输入数据为负，系统提示输入数据为负并拒绝输入（输出）               |
| Promotion.Finish              | 系统正常结束，回到上一主界面（输出）                       |
| Promotion.Finish.StartNull    | 未输入起始时间，系统提示未输入起始时间并拒绝结束（输出）             |
| Promotion.Finish.StartPass    | 起始时间在今日之前，系统提示起始时间错误并拒绝结束（输出）            |
| Promotion.Finish.EndNull      | 未输入结束时间，系统提示未输入结束时间并拒绝结束（输出）             |
| Promotion.Finish.EndPass      | 结束时间在今日之前，系统提示结束时间错误并拒绝结束（输出）            |
| Promotion.Finish.TimeInvalid  | 结束时间在起始时间之前，系统提示时间区间错误并拒绝结束（输出）          |
| Promotion.Finish.OtherNull    | 除起始时间和结束时间外其他项目栏未输入，系统直接将该项目栏数据设为0并结束（输出） |
| Promotion.End                 | 系统应该允许总经理要求结束促销策略管理任务                    |
| Promotion.End.Update          | 在总经理要求结束促销策略管理任务时，系统更新数据，参见Promotion.Update |
| Promotion.End.Close           | 在总经理要求结束促销策略管理任务时，系统关闭管理任务，参见Promotion.Close |
| Promotion.Update              | 系统更新重要数据，整个更新过程构成一个事务                    |
| Promotion.Update.Strategy     | 系统更新促销策略数据（逻辑文件）                         |
| Promotion.Update.StrategyList | 系统更新促销策略列表（逻辑文件）                         |
| Promotion.Update.Log          | 系统更新操作日志（逻辑文件）                           |
| Promotion.Close               | 系统关闭本次促销策略管理任务                           |


<br/>
<br/>
***********************************************
<br/>
<br/>

##3.3非功能需求##

###3.3.1安全性###
    Safety1：系统只允许经过验证和授权的用户访问。
    Safety2：系统应该按照用户身份验证用户的访问权限。库存管理人员账号只能进入库存管理界面、进货销售人员账号只能进入进货销售管理界面、财务人员账号只能进入财务管理界面、总经理账号只能进入总经理管理界面、管理员账号只能进入管理员管理界面。
    Satety3：系统只有一个默认的管理员账户，该账户只允许管理员用户修改口令。

###3.3.2可维护性###
    Modifiability1：在系统的商品表示数据格式发生变化时，系统要能够在3人1天内完成。
    Modifiability2：如果系统出现网络通信方面的故障，软件工程师应该在2人1天内修复。

###3.3.3易用性###
    Usability1：系统的各项表单应该可以导出成Excel，方便查看。
    Usability2：登陆和界面更改的用时在99%的情况下不能超过0.5秒。

###3.3.4可靠性###
    Reliability1：在客户端与服务器通信时，如果网络故障，系统不能出现故障。
    	Reliability1.1：客户端应该检测到故障，并尝试重新连接网络3次，每次15秒。
    		Reliability1.1.1：重新连接后，客户端应该继续之前的工作。
    		Reliability1.1.2：如果重新连接不成功，客户端应该等待5分钟后再次尝试重新连接。
    		Reliability1.1.2.1：重新连接后，客户端应该继续之前的工作。
    		Reliability1.1.2.2：如果重新连接不成功，客户端报警。

###3.3.5业务规则###
	BR1：客户星级数递增规则，该规则可随总经理决策变化。
		1级：默认等级。
		2级：客户完成10次交易，且交易总额大于20000元。
		3级：客户完成20次交易，且交易总额大于40000元。
		4级：客户完成35次交易，且交易总额大于70000元。
		5级：客户完成50次交易，且交易总额大于100000元。
	BR2：适用（客户等级，额度）的总额特价促销策略，改规则可随总经理的决策而变化。
		(客户等级>=3)而且（促销额度<=额度）

###3.3.6约束###
	IC1：本系统采用java语言进行开发，系统的安装和运行必须在安装有JRE的电脑上。
	IC2：系统要在网络上分布为一个服务器和多个客户端。
	IC3：必须在windows系统上运行，运行在其他系统中可能会出现不可预料的故障。


<br/>
<br/>
***********************************************
<br/>
<br/>

##3.4数据需求##

###3.4.1数据定义###
	DR1：系统需要储存所有商品分类信息、商品信息、库存信息、库存类单据信息、进货类单据信息、销售类单据信息、审批信息、财务类单据信息、客户信息、促销信息、操作记录、账户信息以及系统消息。
	DR2：系统需要存储一年内的进货类单据信息、销售类单据信息、财务类单据信息，以便期初建账以及相关人员（总经理、财务人员）查看。

###3.4.2默认数据###
	默认数据用于以下两种情况：
	1) 系统中新增加数据时。
	2) 编辑数据时不小心将相关内容清空时。
		Default1：商品的数量初始值为0。
		Default2：费用或价格数据默认为进价或销售价。
		Default3：客户积累交易额度默认为0。
		Default4：时间默认为系统时间。
		Default5：操作工作人员工号默认为当前登录用户。
		Default6：商品历史交易数额初始值为0。

###3.4.3数据格式要求###
	Format1：为了方便查找和存储，要求使用8位0 ~ 9数字的商品标识格式。
	Format2：商品出库原因必须为个别残次品、批次质量缺陷和其他。
	Format3：商品的价格和费用的格式必须是大于等于0、精确到小数点后1位的浮点数，单位是元。
	Format4：日期的格式必须是yyyy-mm-dd。
	Format5：商品数量的格式必须是正整数。

<br/>
<br/>
***********************************************
<br/>
<br/>

##3.5其他需求##
	安装需求
	Install1：在安装系统时，要初始化用户、商品库存等重要数据。
	Install2：系统投入使用时，需要对用户进行一个星期的集中培训。
	Install3：系统交付使用时，需要提供相应的规格说明书。