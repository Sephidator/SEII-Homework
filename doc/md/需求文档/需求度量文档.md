需求度量文档——灯具进销存管理系统<br/>软工二小组 
=========================

<br/>
<br/>
***********************************************
<br/>
<br/>

#更新历史#
| **修改人员**           | **日期**     | **变更原因**  | **版本** |
| ------------------ | ---------- | --------- | ------ |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-09-27 | 初始版本      | V1.0   |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-10-03 | 评审之后的修改版本 | V2.0   |

<br/>
<br/>
***********************************************
<br/>
<br/>

#变更记录#
| **修改人员**           | **日期**    | **变更原因**  | **版本** | **变更内容** |
| ------------------ | --------- | --------- | ------ | -------- |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-9-17 | 初始版本      | V1.0   | 无        |
| 陈骁、陈思彤、<br/>王宁、王颀涵 | 2017-10-1 | 评审之后的修改版本 | V2.0   | 用例的重写    |

<br/>
<br/>
***********************************************
<br/>
<br/>

#目录#
	1.复杂度调整因子
	2.加权因子说明
	3.总体度量统计
	4.各功能需求描述与度量
		4.0 用例信息列表
		4.1 商品分类管理
		4.2 商品管理
		4.3 库存查看
		4.4 库存盘点
		4.5 建立库存溢损单
		4.6 建立库存报警单
		4.7 客户管理
		4.8 制定进货单
		4.9 制定进货退货单
		4.10 制定销售单
		4.11 制定销售退货单
		4.12 修改进销类单据
		4.13 账户管理
		4.14 制定收付款单
		4.15 制定现金费用单
		4.16 期初建账
		4.17 修改财务单据
		4.18 编辑经营历程表
		4.19 查看操作日志
		4.20 查看销售明细表
		4.21 查看经营历程表
		4.22 查看经营情况表
		4.23 审批单据
		4.24 促销策略管理
		4.25 账号管理

<br/>
<br/>
***********************************************
<br/>
<br/>

#1.复杂度调整因子#
| **编号** | **描述**                   | **估计值** |
| ------ | ------------------------ | ------- |
| **1**  | 系统需要备份和恢复吗？              | 3       |
| **2**  | 需要专门的网络数据通信吗？            | 2       |
| **3**  | 存在分布式处理功能吗？              | 5       |
| **4**  | 性能关键吗？                   | 2       |
| **5**  | 系统将运行在一个现有的、使用困难的操作环境吗？  | 2       |
| **6**  | 系统需要在线数据项吗？              | 5       |
| **7**  | 逻辑文件在线更新吗？               | 4       |
| **8**  | 在线数据项目需要对多个屏幕或操作建立输入事务吗？ | 4       |
| **9**  | 输入输出文件或查询是复杂的吗？          | 2       |
| **10** | 内部处理负责吗？                 | 3       |
| **11** | 所设计的代码要求可复用吗？            | 3       |
| **12** | 设计要求包括移交和安装吗？            | 3       |
| **13** | 系统需要设计为多个安装以适应不同组织吗？     | 0       |
| **14** | 系统设计要求易于修改和易于使用吗？        | 4       |

sigma（F i）=42.

<br/>
<br/>
********************
<br/>
<br/>

#2.加权因子说明#
	因为本系统（灯具行业进销存管理系统）属于中等系统，所以功能点测度的加权因子：
	输入数量加权因子 = 4，
	输出数量加权因子 = 5，
	查询数量加权因子 = 4，
	逻辑文件加权因子 = 10，
	对外接口数量加权因子 = 7。

<br/>
<br/>
********************
<br/>
<br/>

#3.总体度量统计#
	用例/场景大小：中等系统
	用例总数：25
	各用例场景数：参见4.0用例信息列表
	功能需求数量：
	非功能需求数量：13
	总输入数量：
	总输出数量：
	总查询数量：
	总逻辑文件数量：
	总对外接口数量：
	功能点测度总数：
	功能点总数（总FP值） ： 3813*(0.65 + 0.01*45) = 4194.3


<br/>
<br/>

********************
<br/>
<br/>

#4.各功能需求描述与度量#
##4.0用例信息列表##
| **用例编号**   | **场景数** | **功能需求数量** | **功能点测度总数** | **功能点数** |
| ---------- | ------- | ---------- | ----------- | -------- |
| 01 商品分类管理  | 8       | 31         | 354         | 378.78   |
| 02 商品管理    | 10      | 31         | 293         | 307.65   |
| 03 库存查看    |         |            |             |          |
| 04 库存盘点    |         |            |             |          |
| 05 建立库存溢损单 |         |            |             |          |
| 06 建立库存报警单 |         |            |             |          |
| 07 客户管理    | 10      | 26         | 218         | 233.26   |
| 08 制定进货单   | 6       | 24         | 230         | 246.1    |
| 09 制定进货退货单 |         |            |             |          |
| 10 制定销售单   |         |            |             |          |
| 11 制定销售退货单 |         |            |             |          |
| 12 修改进销类单据 |         |            |             |          |
| 13 账户管理    |         |            |             |          |
| 14 制定收付款单  | 6       | 21         | 194         | 207.58   |
| 15 制定现金费用单 | 6       | 22         | 183         | 195.81   |
| 16 期初建账    |         |            |             |          |
| 17 修改财务单据  |         |            |             |          |
| 18 编辑经营历程表 |         |            |             |          |
| 19 查看操作日志  |         |            |             |          |
| 20 查看销售明细表 |         |            |             |          |
| 21 查看经营历程表 |         |            |             |          |
| 22 查看经营情况表 |         |            |             |          |
| 23 审批单据    | 10      | 37         | 220         | 235.4    |
| 24 制定促销策略  | 20      | 41         | 228         | 243.96   |
| 25 账号管理    |         |            |             |          |
| 合计         |         |            |             |          |

<br/>

##4.1商品分类管理##
	输入：8
	输出：22
	查询：13
	逻辑文件：16
	对外接口：0
	功能点测度总数：8x4+22x5+13x4+16x10=354
	FP=354x（0.65+0.01x42）=378.78

| 编号                                       | 需求描述与度量                                  |
| :--------------------------------------- | :--------------------------------------- |
| Classification.Input                     | ·系统应该允许库存管理人员在进行商品分类管理时（输出：商品分类主界面）既可以鼠标点击，又可以键盘输入 |
| Classification.Input.Add                 | ·在库存管理人员输入增加商品分类命令时（查询），系统允许库存管理人员进行商品分类的增加（输出：商品分类增加界面），参见Classification.Add |
| Classification.Input.Delete              | ·在库存管理人员进行商品分类的删除时（查询），系统允许库存管理人员对商品分类进行删除，参见Classification.Delete |
| Classification.Input.Change              | ·在库存管理人员进行商品分类的更改时（查询），系统允许库存管理人员对商品分类名称进行更改（输出：商品分类修改界面），参见Classification.Change |
| Classification.Show                      | ·系统允许库存管理人员进行商品分类的查看，系统将会自动显示所有商品分类的列表（按照分类保存的先后顺序）（输出）（逻辑文件） |
| Classification.Show.Search               | ·库存管理人员对商品分类进行查询时，可以通过输入名称（输入）或编号（输入）对商品分类进行查询，点击“查询”按钮后即可查询（查询），并显示符合条件的商品分类列表（输出）（逻辑文件） |
| Classification.Show.Search.Warning       | ·库存管理人员对商品分类进行查询时，未输入名称或编号就对商品分类进行查询点击“确认”按钮，则系统显示“未输入名称或编号”（输出） |
| Classification.Show.Return               | ·库存管理人员点击“返回”按钮（查询），回到主界面（库存管理人员主界面）（输出） |
| Classification.Add                       | ·库存管理人员在商品分类管理界面点击“添加商品分类”按钮（查询）进入添加商品分类界面（输出：添加商品分类界面） |
| Classification.Add.Finish                | ·完成输入商品分类名称（输入）、商品母类的选择（若商品无母类，则选择“无”）（输入）、商品分类描述备注（默认描述为空）（输入）之后点击“确认添加”按钮（查询），若以上信息都填写无误，系统显示“添加成功”（输出）并更新商品分类同时系统显示商品分类的新列表（逻辑文件） |
| Classification.Add.Warning.Unfinish      | ·没有完成新商品分类必要内容的输入库存管理人员就点击“确认”按钮，系统提示请完成新商品分类必要信息的填写（输出） |
| Classification.Add.Warning.Name          | ·填写商品分类名称时填写了已存在的商品名称而其他无误，点击“确认”按钮后，系统提示已存在此商品分类（输出）（逻辑文件）填写商品分类名称时填写的商品分类名称超过10个字符而其他无误，点击“确认”按钮后系统提示商品分类名称超过10个字符（输出） |
| Classification.Add.Warning.Havegoods     | ·输入的商品母类中含有商品，点击“确认”按钮后系统提示母类中存在商品，无法增加子分类（输出）（逻辑文件） |
| Classification.Add.Cancel                | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品分类管理界面）（输出）  |
| Classification.Delete                    | ·库存管理人员点击“删除商品分类”按钮（查询）进入删除商品分类界面        |
| Classification.Delete.Warning.Unselect   | ·未选择商品分类就点击“确认”按钮，系统提示未选择商品分类（输出）        |
| Classification.Delete.Goods              | ·系统核查该分类下有无商品，有商品提示该分类有商品（输出）（逻辑文件）      |
| Classification.Delete.Cancel             | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品分类管理界面）（输出）  |
| Classification.Change                    | ·库存管理人员点击“修改商品分类”按钮（查询），进入修改商品分类界面（输出）   |
| Classification.Change.Name               | ·库存管理人员输入新商品分类名称（输入）点击“确认”按钮时（查询），系统更新商品分类（输出）（逻辑文件） |
| Classification.Change.Hydro              | ·库存管理人员输入新商品分类母类（输入）点击“确认”按钮时，系统更新商品分类（逻辑文件） |
| Classification.Change.Remark             | ·库存管理人员输入新商品分类的备注（输入）点击“确认”按钮时，系统更新商品分类（逻辑文件） |
| Classification.Change.Warning.Checkusedname | ·系统核查新的分类名称是否出现，出现过则提示此名称已使用（输出）（逻辑文件）   |
| Classification.Change.Warning.Checkovername | ·系统核查新的分类名称是否超过10个字符超过则提示此名称超过10个字符（输出）  |
| Classification.Change.Warning.Checkhydro | ·系统核查新的分类的母类是否有商品，有商品则提示该母类已有商品（输出）（逻辑文件） |
| Classification.Change.Cancel             | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品分类管理界面）（输出）  |
| Classification.Update                    | ·系统记录操作日志并对商品分类所有进行更新，包括名称、母类、备注（输出）（逻辑文件） |
| Classification.Update.Diary              | ·系统记录操作日志，包括时间区间，操作员，事件（逻辑文件）            |
| Classification.Update.Name               | ·系统更新商品分类的名称（逻辑文件）                       |
| Classification.Update.Hydro              | ·系统更新商品分类的分类关系（逻辑文件）                     |
| Classification.Update.Remark             | ·系统更新商品分类的备注（逻辑文件）                       |

<br/>

##4.2商品管理##
	输入：14
	输出：23
	查询：13
	逻辑文件：7
	对外接口：0
	功能点测度总数：14x4+23x5+13x4+7x10=293
	FP=293x（0.65+0.01x40）=307.65

| **编号**                        | **详细需求描述**                               |
| :---------------------------- | :--------------------------------------- |
| MC(merchandise control).Input | ·系统应该允许库存管理人员在进行商品分类管理时（输出：商品管理界面）既可以鼠标点击，又可以键盘输入 |
| MC.Input.Add                  | ·在库存管理人员输入增加命令时（查询），系统允许库存人员进行商品的增加（输出：增加商品界面），参见MC.Add |
| MC.Input.Delete               | ·在库存管理人员输入删除命令时（查询），系统允许库存人员进行商品的删除，参见MC.Delete |
| MC.Input.Change               | ·在库存管理人员输入修改命令时（查询），系统允许库存人员进行商品的修改（输出：修改商品界面），参见MC.Change |
| MC.Input.Detail               | ·在库存管理人员输入查询命令时（查询），系统允许库存人员进行商品的查询（输出：查询商品界面），参见MC.Detail |
| MC.Show                       | ·系统显示商品信息列表（输出）（逻辑文件）                    |
| MC.Show.Search                | ·当库存管理人员欲进行特定商品的查询时，可以选择输入：名称（输入）、商品编号（输入）、商品分类（输入），并点击“查询”按钮进行查询（查询），之后系统显示列表列出符合条件的商品（输出）（逻辑文件） |
| MC.Show.Search.Warning        | ·库存管理人员进行商品查询时未输入条件就点击查询按钮，系统提示未输入条件（输出） |
| MC.Show.Return                | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品管理界面）（输出）    |
| MC.Add                        | ·库存管理人员点击“增加商品”按钮（查询），进入增加商品界面（输出）       |
| MC.Add.Finish                 | ·库存管理人员输入添加的商品属性，包括编号（输入）、名称（输入）、型号（输入）、库存数量（输入）、进价（输入）、零售价（输入）、最近进价（输入）、最近零售价（输入）、一个最近的进价（输入）和售价（输入），点击“添加”按钮（查询），系统更新商品信息（逻辑文件） |
| MC.Add.Warning.Unfinish       | ·库存管理人员未完成商品属性的输入就点击“添加”按钮，系统提示属性未完成（输出） |
| MC.Add.Warning.Name           | ·库存管理人员输入已使用商品名称，系统提示商品已使用（输出）（逻辑文件），库存管理人员输入超过10个字符的商品名称，系统提示商品名称超过10个字符（输出） |
| MC.Add.Warning.Unselect       | ·库存管理人员未选择商品分类就点击“添加”按钮，系统提示未选择商品分类（输出）  |
| MC.Add.Warning.Data           | ·输入库存数量为小数时，系统提示库存数量不能为小数（输出）；输入数据为负数时，系统提示数据不能为负数（输出） |
| MC.Add.Cancle                 | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品管理界面）（输出）    |
| MC.Delete                     | ·库存管理人员点击“删除”按钮（查询），进行删除操作               |
| MC.Delete.Warning.Unselect    | ·库存管理人员未选择商品就点击“删除”按钮时，系统提示商品未选择（输出）     |
| MC.Delete.Cancel              | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品管理界面）        |
| MC.Change                     | ·库存管理人员点击“修改”按钮（查询），进入修改商品界面（输出）         |
| MC.Change.Nature              | ·库存管理人员输入新的属性时（输入），系统更新商品信息（逻辑文件）        |
| MC.Change.Warning.Name        | ·库存管理人员输入已使用商品名称，系统提示商品已使用（输出）（逻辑文件），库存管理人员输入超过10个字符的商品名称，系统提示商品名称超过10个字符（输出） |
| MC.Change.Warning.Unselect    | ·库存管理人员未选择商品分类就点击“修改”按钮，系统提示未选择商品分类（输出）  |
| MC.Change.Warning.Data        | ·输入库存数量为小数时，系统提示库存数量不能为小数（输出）；输入数据为负数时，系统提示数据不能为负数（输出) |
| MC.Change.Return              | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品管理界面）        |
| MC.Detail                     | ·库存管理人员点击“查询”按钮（查询），进入查询商品界面（输出）         |
| MC.Detail.Search              | ·库存管理人员选择商品，系统显示商品信息(输出）（逻辑文件）           |
| MC.Detail.Cancel              | ·库存管理人员点击“返回”按钮（查询），回到主界面（商品管理界面）（输出）    |
| MC.Update                     | ·系统对商品信息更新，记录操作日志（逻辑文件）                  |
| MC.Update.Diary               | ·系统记录操作日志                                |
| MC.Update.Information         | ·系统更新商品信息                                |
<br/>

##4.7客户管理##
	输入：2
	输出：16
	查询：10
	逻辑文件：9
	对外接口：0
	功能点测度总数 = 2x4 + 16x5 + 10x4 + 9x10 + 0x7 = 218
	FP = 218 x (0.65 + 0.01 x 42) = 233.26

| **编号**                          | **需求描述与度量**                              |
| ------------------------------- | ---------------------------------------- |
| ManageClient.Input              | 系统允许进货销售人员在客户管理时（输出:客户管理主界面）进行键盘输入       |
| ManageCLient.Input.Member       | 当用户输入客户编号或关键字(查询)时，系统显示客户信息，参见ManageCLient.Member |
| ManageClient.Input.Add          | 当进货销售人员点击“添加客户”按钮(查询)，系统执行添加客户任务，参见ManageClient.Add |
| ManageClient.Input.Delete       | 当进货销售人员选中客户，点击“删除客户”按钮(查询)，系统执行删除客户任务，参见ManageClient.Delete |
| ManageClient.Input.Edit         | 当进货销售人员选中客户，点击“编辑客户信息”按钮(查询),系统执行编辑客户信息任务，参见ManageClient.Edit |
| ManageClient.Input.Check        | 当进货销售人员选中客户，点击“查看客户信息”按钮(查询)，系统执行查看客户信息任务，参见ManageClient.Check |
| ManageCLient.Member.Valid       | 在进货销售人员输入已有客户的信息，并点击“查找客户”时(查询，逻辑文件)，系统显示客户(输出) |
| ManageClient.Member.Invalid     | 在进货销售人员输入其他，并点击“查找客户”时提示没有相应客户           |
| ManageClient.Add                | 进货销售人员点击“添加客户”按钮，系统显示添加客户界面(输出)          |
| ManageClient.Add.Finish         | 进货销售人员完成所有客户属性的输入(输入,逻辑文件)，包括：编号（自动生成）、分类（进货商、销售商）、级别（五级，一级普通用户，五级VIP客户）、姓名、电话、地址、邮编、电子邮箱、应收额度、应收、应付、默认业务员。确认无误后，点击“确认添加”按钮(查询)，系统提示添加成功(输出)。 |
| ManageClient.Add.Cancel         | 进货销售人员在添加客户时点击“取消”按钮(查询)，则关闭添加客户界面，返回客户管理界面(输出) |
| ManageClient.Add.Unfinish       | 进货销售人员在点击“确认添加”按钮时，没有完成所有客户信息的输入，则系统提示“请输入所有客户信息”(输出)。 |
| ManageClient.Add.ClientExisted  | 进货销售人员在点击“确认添加”按钮时，客户的名字和电话与已存在的客户相同时，则系统提示“客户已存在”。(输出) |
| ManageClient.Delete             | 进货销售人员选择某一客户，并点击“删除客户”按钮，系统会出现对话框提示“是否删除客户”。（输出） |
| ManageClient.Delete.Finish      | 点击对话框中的“确认”（查询），则删除客户（逻辑文件），提示客户已删除（输出），返回客户管理界面（输出）。 |
| ManageClient.Delete.Cancel      | 点击对话框中的“取消”，则不删除客户，返回客户管理界面。             |
| ManageClient.Edit               | 进货销售人员点击“编辑客户”按钮，系统显示编辑客户界面(输出)          |
| ManageCLient.Edit.Finish        | 进货销售人员选择某一客户，并点击“编辑客户信息”按钮，系统会显示该客户信息(输出)。进货销售人员编辑客户信息(输入,逻辑文件)，并点击“确认编辑”按钮(查询)，系统会更新客户信息(逻辑文件)，返回客户管理界面(输出) |
| ManageClient.Edit.Cancel        | 进货销售人员在编辑客户信息时点击“取消”按钮，则关闭编辑客户界面，返回客户管理界面 |
| ManageClient.Edit.ClientExisted | 进货销售人员在点击“确认编辑”按钮时，客户的名字和电话与别的的客户相同时(逻辑文件)，则系统提示“信息与其他客户重复”。(输出) |
| ManageClient.Edit.Unfinish      | 进货销售人员在点击“确认编辑”按钮时，没有完成所有客户信息的输入，则系统提示“请输入所有客户信息”(输出)。 |
| ManageCLient.Check              | 进货销售人员选择某一客户，并点击“查看客户”按钮(查询)，系统会显示客户信息。(输出，逻辑文件) |
| ManageClient.Update             | 系统更新重要信息，每个更新过程组成一个事务，要么全部更新，要么全部不更新。    |
| ManageCLient.Update.ClientInfo  | 系统更新客户信息  (逻辑文件)                         |
| ManageClient.Update.List        | 系统更新客户列表(逻辑文件)                           |
| ManageClient.Update.Log         | 系统更新日志(逻辑文件)                             |

<br/>

##4.8制定进货单##
	输入：2
	输出：12
	查询：8
	逻辑文件：13
	对外接口：0
	功能点测度总数 = 2x4 + 12x5 +8x4 + 13x10 + 0x7 = 230
	FP = 230 x (0.65 + 0.01 x 42) = 246.1

| **编号**                      | **需求描述与度量**                              |
| --------------------------- | ---------------------------------------- |
| EstablishJHD.Init           | 进货销售人员点击“制定进货单”按钮（查询）,系统自动生成进货单（输出），并自动生成单据编号（JHTHD-yyyyMMdd-xxxxx）。（输出，逻辑文件） |
| EstablishJHD.Init.ID        | 单据编号格式为：JHD-yyyyMMdd-xxxxx，后五位每天从1开始编号，所以一天最多可以生成99999条单子（逻辑文件） |
| EstablishJHD.Init.Overflow  | 当制定的进货单数单天超过99999条时，系统提示“超过单日进货单上限” （输出） |
| EstiblishJHD.Add            | 制定进货单时，进货销售人员首先依次添加供应商、仓库、操作员，然后往入库商品列表中添加商品。商品添加时，总额会自动计算并更新。最后，进货销售人员可以手动输入进货单的备注。 |
| EstablishJHD.Add.Supplier   | 在制定进货单时，需要选择供应商，添加到进货单中（查询，逻辑文件）         |
| EstablishJHD.Add.Repository | 在制定进货单时，需要选择仓库，添加到进货单中（查询，逻辑文件）          |
| EstablishJHD.Add.Operator   | 在制定进货单时，需要选择操作员，添加到进货单中（查询，逻辑文件）         |
| EstablishJHD.Add.Goods      | 进货销售人员点击“添加商品”按钮（查询），系统执行添加商品任务，参见EstablishJHD.Goods |
| EstablishJHD.Add.Calculate  | 商品添加时，总额会自动计算并更新。（输出，逻辑文件）               |
| EstablishJHD.Add.Comments   | 在制定进货单时，需要输入备注到（输入，逻辑文件）                 |
| EstablishJHD.Add.Cancel     | 制定进货单时，如果供应商想要取消交易，进货销售人员点击关闭按钮，直接关闭制定进货单的界面，返回客户管理主界面（查询，输出）。 |
| EstablishJHD.Goods          | 系统显示商品选择界面，包括该供应商的所有商品（逻辑文件，输出）,进货销售人员可以选中商品，添加到入库商品列表中（查询）。 |
| EstablishJHD.Goods.Info     | 商品选择界面下，每个商品的编号、型号、金额、名称、单价（默认为进价）应该显示出来（输出）；除了上述信息之外，添加到进货单的入库商品列表中时，还应该显示进货数量（默认为1）和商品备注（默认无）。（输出，逻辑文件） |
| EstablishJHD.Goods.SetInfo  | 对于入库商品列表中的商品，进货销售人员可以更改其数量和商品备注（输入，逻辑文件） |
| EstablishJHD.Goods.Del      | 选中某个商品，点击“删除商品”，可以将其从入库商品列表中删除。（查询，输出）   |
| EstablishJHD.End            | 进货销售人员制定进货单，并提交进货单                       |
| EstablishJHD.End.Finish     | 进货销售人员完成所有输入且正确无误，点击“提交进货单”按钮（查询），则进货单上传，系统提示操作成功（输出）。 |
| EstablishJHD.End.Unfinish   | 进货销售人员未完成所有输入（逻辑文件），点击“提交进货单”按钮，系统提示“请输入进货单所有信息”。（输出） |
| EstablishJHD.End.Error      | 进货销售人员输入有误（如商品数量写成小数）（逻辑文件），点击“提交进货单”按钮，系统提示“商品数目必须是正整数”。（输出） |
| EstablishJHD.End.Update     | 进货单上传后，系统更新数据，参见Establish.Update         |
| EstablishJHD.End.Close      | 进货单上传后，系统关闭制定进货单界面（输出）                   |
| EstablishJHD.Update         | 系统更新重要数据，整个更新过程组成一个事务，要么全部更新，要么全部不更新     |
| EstablishJHD.Update.Log     | 系统更新日志信息（逻辑文件）                           |
| EstablishJHD.Update.State   | 系统更新单据的状态信息（草稿->已提交）（逻辑文件）               |

<br/>

##4.14制定收付款单##
	输入：7
	输出：6
	查询：8
	逻辑文件：9
	对外接口：2
	功能点测度总数 = 7*4 + 6*5 + 8*4 + 9*10 + 2*7 = 194
	FP = 194*（0.65 + 0.01*42) = 207.58

| **功能需求**                          | **详细需求描述**                               |
| --------------------------------- | ---------------------------------------- |
| FS.Rec_Pay.Input                  | ·系统应该允许收银员在制定收付款单时进行键盘输入（输入）             |
| FS.Rec_Pay.Input.CodeFormat       | ·系统检查输入的单据编号格式符合要求，详见刺激和FS.Rec_Pay.Input.Invalid(输入) |
| FS.Rec_Pay.Input.TransAccountList | ·系统检测所填写的转账列表（查询），填写完毕后而且金额符合数据格式，保存数据，计算总额汇总（输入），参见FS.Rec_Pay.Robot.CountTotal |
| FS.Rec_Pay.Input.Finish           | ·系统检测到操作人员输入完整单据编号、客户、转账列表（查询），自动附加操作员信息（输入），参见FS.Rec_Pay.Robot.AddOperator |
| FS.Rec_Pay.Input.HandIn           | ·在财务人员点击提交后，系统保存单据为草稿状态（逻辑文件），并且将收付款单发送审批（对外接口） |
| FS.Rec_Pay.Input.Invalid          | ·当输入的不符合数据格式或者显示异常的字符串时（输入），系统不允许提交      |
| FS.Rec_Pay.Input.Cancel           | ·财务人员取消新建收付款单事务（输入），不保存任何信息退出            |
| FS.Rec_Pay.Robot.AddOperator      | ·系统将当前登录用户标识为操作员，并写入收付款单（查询）（输出）         |
| FS.Rec_Pay.Robot.CountTotal       | ·系统根据FS.Rec_Pay.Input.TransAccountList所存储的数据自动计算总额汇总（查询）（输出），参见FS.Rec_Pay.Input.TransAccountList |
| FS.Rec_Pay.Robot.CountInvalid     | ·系统在计算FS.Rec_Pay.Robot.CountTotal时结果溢出，提示重新输入数据的错误（查询）（输入），参见FS.Rec_Pay.Input.Invalid |
| FS.Rec_Pay.Output                 | ·财务人员可以导出审批通过的历史收付款单到指定路径（输出）            |
| Fs.Rec_Pay.Output.Verify          | ·系统将会验证写出数据完毕（查询）（输出），否则重新尝试写出，尝试3次以后停止  |
| Fs.Rec_Pay.Output.PathInvalid     | ·系统检测到文件路径不存在或者特权不够（输出）（查询）              |
| Fs.Rec_Pay.Output.Cancel          | ·财务人员中断导出（输出），系统删除文件（逻辑文件），如果已经导出完毕则无法撤销 |
| FS.Rec_Pay.End                    | ·系统允许财务人员结束新建收款单事务，但是已经提交的审批不会被撤销（对外接口）  |
| FS.Rec_Pay.End.Timeout            | ·如果财务人员连续两小时不操作系统（查询），则系统保存所有填写的数据后退出（逻辑文件） |
| FS.Rec_Pay.End.Close              | ·财务人员可以保存单据后退出（逻辑文件）                     |
| FS.Rec_Pay.Restore.Interupt       | ·系统允许在输入中断后第二次进入时恢复已输入的数据（逻辑文件）          |
| FS.Rec_Pay.Restore.HavHanded      | ·财务人员提交收款单后，系统保存收付款单为草稿（逻辑文件）            |
| FS.Rec_Pay.Log.Write              | ·当财务人员退出时（包括非正常退出），系统保存所有（提交、保存、导出）操作信息（操作人、事件、时间区间）到操作日志中去（逻辑文件） |
| FS.Rec_Pay.Log.Write.Fail         | ·写操作日志意外中断（查询）（逻辑文件），系统提示操作日志更新异常        |

<br/>

##4.15制定现金费用单##
	输入：8
	输出：5
	查询：8
	逻辑文件：8
	对外接口：2
	功能点测度总数 = 8*4 + 5*5 + 8*4 + 8*10 + 2*7 = 183
	FP = 183*（0.65 + 0.01*42) = 195.81

| **功能需求**                             | **详细需求描述**                               |
| ------------------------------------ | ---------------------------------------- |
| FS.Expense.Input                     | ·系统应该允许收银员在制定现金费用单时进行键盘输入（输入）            |
| FS.Expense.Input.CodeFormat          | ·系统检查输入的单据编号格式符合要求（输入）见刺激，不符合时不能提交       |
| FS.Expense.Input.BankAccount         | ·系统检验银行账户数据的格式符合相应银行账户位数（输入）（查询）         |
| FS.Expense.Input.BankAccount.Warning | ·当系统检测到银行账户的格式不符合时（查询）发出银行账号不匹配的警告       |
| FS.Expense.Input.ItemList            | ·系统存储所填写信息（逻辑文件），参见刺激，备注可以为空（输入）         |
| FS.Expense.Input.ItemList.Finish     | ·系统检测到ItemList填写完毕至少一项时（查询），开始计算并显示金额汇总（输入），参见FS.Expense.Robot.CountTotal |
| FS.Expense.Input.Finish              | ·系统检测到操作人员输入完整单据编号、银行账户、条目清单，自动附加操作员信息（查询）（输入），参见FS.Expense.Robot |
| FS.Expense.Input.Invalid             | ·当填写内容不符合数据格式或者是不能正常显示的字符串时（输入），系统不允许提交  |
| FS.Expense.Input.Cancel              | ·财务人员取消输入，系统不做保存退出新建现金费用单事务              |
| FS.Expense.Robot.AddOperator         | ·系统将当前登录用户标识为操作员，并写入现金费用单（输出）            |
| FS.Expense.Robot.CountTotal          | ·系统根据FS.Expense.Input.ItemList所存储的数据自动计算总额汇总（输出） |
| FS.Expense.Robot.CountInvalid        | ·系统根据FS.Expense.Robot.CountTotal计算的数据溢出，提示重新输入数据的警告（输入），参见FS.Expense.Input.Invalid |
| FS.Expense.Output                    | ·财务人员可以导出历史现金费用单到指定路径（输出）                |
| Fs.Expense.Output.Verify             | ·系统将会验证写出数据完毕（查询）（输出），否则重新尝试写出，尝试3次以后停止  |
| Fs.Expense.Output.PathInvalid        | ·文件路径不存在或者权限不够（查询）（输出）                   |
| Fs.Expense.Output.Cancel             | ·财务人员中断导出，系统删除文件（逻辑文件），如果已经导出完毕则无法撤销     |
| FS.Expense.End.Timeout               | ·如果财务人员连续两小时不操作系统（查询），则系统保存所有填写的数据后退出（逻辑文件） |
| FS.Expense.End.Close                 | ·财务人员可以保存更改后退出（逻辑文件）                     |
| FS.Expense.Restore                   | ·系统允许在输入意外退出后第二次进入新建时恢复已输入的数据（逻辑文件）（对外接口） |
| FS.Expense.Restore.HavHanded         | ·财务人员提交现金费用单后（对外接口），系统保存副本（逻辑文件）         |
| FS.Expense.Log.Write                 | ·当财务人员退出时（包括非正常退出），系统保存所有（提交、保存、导出）操作信息（操作人、事件、时间区间）到操作日志中去（逻辑文件） |
| FS.Expense.Log.Write.Fail            | ·写操作日志意外中断（查询）（逻辑文件），系统提示操作日志更新异常        |

<br/>

##4.23 审批单据##
	输入：4<br/>
	输出：12<br/>
	查询：6<br/>
	逻辑文件：12<br/>
	对外接口：0<br/>
	功能点测度总数 = 4x4 + 12x5 + 6x4 + 12x10 + 0x7 = 220<br/>
	FP = 220x（0.65 + 0.01x42) = 235.4<br/>

| 编号                                | 需求描述与度量                                  |
| --------------------------------- | ---------------------------------------- |
| Approval.Input                    | 系统应该允许总经理在审批单据（输出：审批单据主界面）时进行键盘输入和鼠标点击   |
| Approval.Input.Filter             | 总经理输入筛选条件（输入），系统要标识符合单据，参见Approval.Filter |
| Approval.Input.Receipt            | 总经理选择某一单据进行审批（查询），系统显示该单据的详细信息界面（输出），参见Approval.Receipt |
| Approval.Input.Quantities         | 总经理选择审批通过（查询），参见Approval.Quantities      |
| Approval.Input.End                | 总经理结束审批单据（查询），参见Approval.End             |
| Approval.Filter.Valid             | 系统刷新主界面提交单据列表，显示符合条件的提交单据列表（输出），参见Approval.Input |
| Approval.Filter.Null              | 主界面显示该类型单据的提交列表为空（输出）                    |
| Approval.Filter.Invalid           | 系统提示单据类型（逻辑文件）不存在并拒绝输入（输出）               |
| Approval.Receipt.Modify           | 总经理修改某一单据项目栏数据（输入），系统记录修改情况，参见Approval.Update |
| Approval.Receipt.Modify.Invalid   | 系统提示输入数据为负并拒绝输入（输出）                      |
| Approval.Receipt.Modify.OverRight | 系统提示权限（逻辑文件）不够并拒绝输入（输出）                  |
| Approval.Receipt.Pass             | 总经理通过该单据的审批（查询），系统完成各类数据处理               |
| Approval.Receipt.Pass.Balance     | 通过库存损益单，系统更改库存数量                         |
| Approval.Receipt.Pass.Gift        | 通过库存赠送单（逻辑文件：促销策略），系统减少库存数量，并通知库存管理人员    |
| Approval.Receipt.Pass.Warn        | 通过库存报警单，系统通知进货销售人员                       |
| Approval.Receipt.Pass.Sale        | 通过销售类和进货类单据，系统更改库存数量和客户的应收应付数据，并通知库存管理人员和财务人员 |
| Approval.Receipt.Pass.Payment     | 通过收付款单，系统更改账户的余额和客户的应收应付数据，并通知财务人员       |
| Approval.Receipt.Pass.Cash        | 通过现金费用单，系统减少该账户余额                        |
| Approval.Recepit.Fail             | 总经理不通过该单据的审批（查询），系统更改该单据状态状态为审批不通过       |
| Approval.Recepit.Fail.Result      | 系统提示总经理输入不通过理由（输出），总经理输入理由（输入），确认审批不通过（查询）后系统通知单据制定者并回到主界面（输出），参见Approval.Input |
| Approval.Receipt.Fail.Result.Null | 系统提示输入理由为空并拒绝确认（输出）                      |
| Approval.Quantities.Valid         | 系统更改已勾选单据（输入）的状态为审批通过，刷新主界面提交单据列表（输出）    |
| Approval.Quantities.Invalid       | 总经理未选中任何单据，系统提示未选中任何单据并拒绝批量审批（输出）        |
| Approval.End                      | 系统应该允许总经理要求结束审批单据任务                      |
| Approval.End.Update               | 在总经理要求结束审批单据任务时，系统更新数据，参见Approval.Update |
| Approval.End.Close                | 在总经理要求结束审批单据任务时，系统关闭审批任务，参见Approval.Close |
| Approval.Update                   | 系统更新重要数据，整个更新过程构成一个事务                    |
| Approval.Update.Stock             | 系统更新库存数量（逻辑文件）                           |
| Approval.Update.Customer          | 系统更新客户应收应付数据（逻辑文件）                       |
| Approval.Update.Account           | 系统更新公司账户余额（逻辑文件）                         |
| Approval.Update.Notice            | 系统更新通知消息（逻辑文件）                           |
| Approval.Update.Receipt           | 系统更新单据数据及状态（逻辑文件）                        |
| Approval.Update.SubmitList        | 系统更新提交单据列表（逻辑文件）                         |
| Approval.Update.PassList          | 系统更新审批通过单据列表（逻辑文件）                       |
| Approval.Update.FailList          | 系统更新审批未通过单据列表（逻辑文件）                      |
| Approval.Update.Log               | 系统更新操作日志（逻辑文件）                           |
| Approval.Close                    | 系统关闭本次任务                                 |

<br/>

## 4.24 促销策略管理##
	输入：3<br/>
	输出：22<br/>
	查询：14<br/>
	逻辑文件：5<br/>
	对外接口：0<br/>
	功能点测度总数 = 3x4 + 22x5 + 14x4 + 5x10 + 0x7 = 228<br/>
	FP = 228x（0.65 + 0.01x42) = 243.96<br/>

| 编号                            | 需求描述与度量                                  |
| ----------------------------- | ---------------------------------------- |
| Promotion.Input               | 系统应该允许总经理在促销策略管理（输出：促销策略管理主界面）时进行键盘输入和鼠标点击 |
| Promotion.Input.Add           | 总经理选择新建促销策略（查询），系统跳转到相应界面，参见Promotion.Add |
| Promotion.Input.Del           | 总经理选择删除促销策略（查询），系统跳转到相应界面，参见Promotion.Del |
| Promotion.Input.Modify        | 总经理选择修改促销策略（查询），系统跳转到相应界面，参见Promotion.Modify |
| Promotion.Input.Examine       | 总经理选择查看促销策略（查询），系统跳转到相应界面，参见Promotion.Examine |
| Promotion.Input.End           | 总经理结束促销策略管理（查询），参见Promotion.End          |
| Promotion.Add.ID              | 系统系统提示（输出）总经理选择新建促销策略ID（逻辑文件），总经理选择某个ID（输入），系统显示该方案详细界面（输出） |
| Promotion.Add.Number          | 总经理为项目栏输入数据（输入），参见Promotion.Number       |
| Promotion.Add.Finish          | 总经理结束新建促销策略（查询），参见Promotion.Finish       |
| Promotion.Del.Start           | 系统显示所有促销策略（输出）                           |
| Promotion.Del.One             | 总经理选择某一促销方案删除（查询），系统删除该方案并更新促销策略列表（输出）   |
| Promotion.Del.One.Invalid     | 系统提示该方案正在实施并拒绝删除（输出）                     |
| Promotion.Del.End             | 总经理结束促销策略删除（查询），回到促销策略管理主界面（输出），参见Promotion.Input |
| Promotion.Modify.Start        | 系统显示所有促销策略（输出）                           |
| Promotion.Modify.One          | 总经理选择某一促销方案修改（查询），系统显示该方案详细界面（输出）        |
| Promotion.Modify.One.Invalid  | 系统提示该方案正在实施并拒绝修改（输出）                     |
| Promotion.Modify.One.Number   | 总经理修改项目栏数据（输入），参见Promotion.Number        |
| Promotion.Modify.One.Finish   | 总经理结束该方案的修改（查询），参见Promotion.Finish       |
| Promotion.Modify.End          | 总经理结束促销策略修改（查询），回到促销策略管理主界面，参见Promotion.Input |
| Promotion.Examine.Start       | 系统显示所有促销策略（输出）                           |
| Promotion.Examine.One         | 总经理选择某一促销方案查看（查询），系统显示该方案详细界面（输出）        |
| Promotion.Examine.One.End     | 总经理结束该方案的查看（查询），系统回到查看主界面（输出）            |
| Promotion.Examine.End         | 总经理结束促销策略修改（查询），回到促销策略管理主界面，参见Promotion.Input |
| Promotion.Number              | 系统记录修改后项目栏数据                             |
| Promotion.Number.OverRight    | 输入数据超过总经理权限（逻辑文件），系统提示权限不够并拒绝输入（输出）      |
| Promotion.Number.Negative     | 输入数据为负，系统提示输入数据为负并拒绝输入（输出）               |
| Promotion.Finish              | 系统正常结束，回到上一主界面（输出）                       |
| Promotion.Finish.StartNull    | 未输入起始时间，系统提示未输入起始时间并拒绝结束（输出）             |
| Promotion.Finish.StartPass    | 起始时间在今日之前，系统提示起始时间错误并拒绝结束（输出）            |
| Promotion.Finish.EndNull      | 未输入结束时间，系统提示未输入结束时间并拒绝结束（输出）             |
| Promotion.Finish.EndPass      | 结束时间在今日之前，系统提示结束时间错误并拒绝结束（输出）            |
| Promotion.Finish.TimeInvalid  | 结束时间在起始时间之前，系统提示时间区间错误并拒绝结束（输出）          |
| Promotion.Finish.OtherNull    | 除起始时间和结束时间外其他项目栏未输入，系统直接将该项目栏数据设为0并结束（输出） |
| Promotion.End                 | 系统应该允许总经理要求结束促销策略管理任务                    |
| Promotion.End.Update          | 在总经理要求结束促销策略管理任务时，系统更新数据，参见Promotion.Update |
| Promotion.End.Close           | 在总经理要求结束促销策略管理任务时，系统关闭管理任务，参见Promotion.Close |
| Promotion.Update              | 系统更新重要数据，整个更新过程构成一个事务                    |
| Promotion.Update.Strategy     | 系统更新促销策略数据（逻辑文件）                         |
| Promotion.Update.StrategyList | 系统更新促销策略列表（逻辑文件）                         |
| Promotion.Update.Log          | 系统更新操作日志（逻辑文件）                           |
| Promotion.Close               | 系统关闭本次促销策略管理任务                           |






